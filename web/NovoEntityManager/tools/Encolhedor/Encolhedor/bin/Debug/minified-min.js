if(!jQuery){throw new Error("Bootstrap requires jQuery")}+function(b){function a(){var e=document.createElement("bootstrap");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in d){if(e.style[c]!==undefined){return{end:d[c]}}}}b.fn.emulateTransitionEnd=function(e){var d=false,c=this;b(this).one(b.support.transition.end,function(){d=true});var f=function(){if(!d){b(c).trigger(b.support.transition.end)}};setTimeout(f,e);return this};b(function(){b.support.transition=a()})}(window.jQuery);+function(d){var c='[data-dismiss="alert"]';var b=function(e){d(e).on("click",c,this.close)};b.prototype.close=function(l){var k=d(this);var g=k.attr("data-target");if(!g){g=k.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}var h=d(g);if(l){l.preventDefault()}if(!h.length){h=k.hasClass("alert")?k:k.parent()}h.trigger(l=d.Event("close.bs.alert"));if(l.isDefaultPrevented()){return}h.removeClass("in");function f(){h.trigger("closed.bs.alert").remove()}d.support.transition&&h.hasClass("fade")?h.one(d.support.transition.end,f).emulateTransitionEnd(150):f()};var a=d.fn.alert;d.fn.alert=function(e){return this.each(function(){var g=d(this);var f=g.data("bs.alert");if(!f){g.data("bs.alert",(f=new b(this)))}if(typeof e=="string"){f[e].call(g)}})};d.fn.alert.Constructor=b;d.fn.alert.noConflict=function(){d.fn.alert=a;return this};d(document).on("click.bs.alert.data-api",c,b.prototype.close)}(window.jQuery);+function(c){var b=function(e,d){this.$element=c(e);this.options=c.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(g){var k="disabled";var e=this.$element;var h=e.is("input")?"val":"html";var f=e.data();g=g+"Text";if(!f.resetText){e.data("resetText",e[h]())}e[h](f[g]||this.options[g]);setTimeout(function(){g=="loadingText"?e.addClass(k).attr(k,k):e.removeClass(k).removeAttr(k)},0)};b.prototype.toggle=function(){var d=this.$element.closest('[data-toggle="buttons"]');if(d.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");if(e.prop("type")==="radio"){d.find(".active").removeClass("active")}}this.$element.toggleClass("active")};var a=c.fn.button;c.fn.button=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.button");var e=typeof d=="object"&&d;if(!f){g.data("bs.button",(f=new b(this,e)))}if(d=="toggle"){f.toggle()}else{if(d){f.setState(d)}}})};c.fn.button.Constructor=b;c.fn.button.noConflict=function(){c.fn.button=a;return this};c(document).on("click.bs.button.data-api","[data-toggle^=button]",function(f){var d=c(f.target);if(!d.hasClass("btn")){d=d.closest(".btn")}d.button("toggle");f.preventDefault()})}(window.jQuery);+function(b){var c=function(e,d){this.$element=b(e);this.$indicators=this.$element.find(".carousel-indicators");this.options=d;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};c.DEFAULTS={interval:5000,pause:"hover",wrap:true};c.prototype.cycle=function(d){d||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this};c.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};c.prototype.to=function(f){var e=this;var d=this.getActiveIndex();if(f>(this.$items.length-1)||f<0){return}if(this.sliding){return this.$element.one("slid",function(){e.to(f)})}if(d==f){return this.pause().cycle()}return this.slide(f>d?"next":"prev",b(this.$items[f]))};c.prototype.pause=function(d){d||(this.paused=true);if(this.$element.find(".next, .prev").length&&b.support.transition.end){this.$element.trigger(b.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};c.prototype.next=function(){if(this.sliding){return}return this.slide("next")};c.prototype.prev=function(){if(this.sliding){return}return this.slide("prev")};c.prototype.slide=function(m,f){var o=this.$element.find(".item.active");var d=f||o[m]();var l=this.interval;var n=m=="next"?"left":"right";var g=m=="next"?"first":"last";var h=this;if(!d.length){if(!this.options.wrap){return}d=this.$element.find(".item")[g]()}this.sliding=true;l&&this.pause();var k=b.Event("slide.bs.carousel",{relatedTarget:d[0],direction:n});if(d.hasClass("active")){return}if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var e=b(h.$indicators.children()[h.getActiveIndex()]);e&&e.addClass("active")})}if(b.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(k);if(k.isDefaultPrevented()){return}d.addClass(m);d[0].offsetWidth;o.addClass(n);d.addClass(n);o.one(b.support.transition.end,function(){d.removeClass([m,n].join(" ")).addClass("active");o.removeClass(["active",n].join(" "));h.sliding=false;setTimeout(function(){h.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(k);if(k.isDefaultPrevented()){return}o.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid")}l&&this.cycle();return this};var a=b.fn.carousel;b.fn.carousel=function(d){return this.each(function(){var h=b(this);var g=h.data("bs.carousel");var e=b.extend({},c.DEFAULTS,h.data(),typeof d=="object"&&d);var f=typeof d=="string"?d:e.slide;if(!g){h.data("bs.carousel",(g=new c(this,e)))}if(typeof d=="number"){g.to(d)}else{if(f){g[f]()}else{if(e.interval){g.pause().cycle()}}}})};b.fn.carousel.Constructor=c;b.fn.carousel.noConflict=function(){b.fn.carousel=a;return this};b(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(l){var k=b(this),f;var d=b(k.attr("data-target")||(f=k.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""));var g=b.extend({},d.data(),k.data());var h=k.attr("data-slide-to");if(h){g.interval=false}d.carousel(g);if(h=k.attr("data-slide-to")){d.data("bs.carousel").to(h)}l.preventDefault()});b(window).on("load",function(){b('[data-ride="carousel"]').each(function(){var d=b(this);d.carousel(d.data())})})}(window.jQuery);+function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},c.DEFAULTS,d);this.transitioning=null;if(this.options.parent){this.$parent=b(this.options.parent)}if(this.options.toggle){this.toggle()}};c.DEFAULTS={toggle:true};c.prototype.dimension=function(){var d=this.$element.hasClass("width");return d?"width":"height"};c.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in")){return}var e=b.Event("show.bs.collapse");this.$element.trigger(e);if(e.isDefaultPrevented()){return}var h=this.$parent&&this.$parent.find("> .panel > .in");if(h&&h.length){var f=h.data("bs.collapse");if(f&&f.transitioning){return}h.collapse("hide");f||h.data("bs.collapse",null)}var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0);this.transitioning=1;var d=function(){this.$element.removeClass("collapsing").addClass("in")[k]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!b.support.transition){return d.call(this)}var g=b.camelCase(["scroll",k].join("-"));this.$element.one(b.support.transition.end,b.proxy(d,this)).emulateTransitionEnd(350)[k](this.$element[0][g])};c.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in")){return}var e=b.Event("hide.bs.collapse");this.$element.trigger(e);if(e.isDefaultPrevented()){return}var f=this.dimension();this.$element[f](this.$element[f]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var d=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!b.support.transition){return d.call(this)}this.$element[f](0).one(b.support.transition.end,b.proxy(d,this)).emulateTransitionEnd(350)};c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=b.fn.collapse;b.fn.collapse=function(d){return this.each(function(){var g=b(this);var f=g.data("bs.collapse");var e=b.extend({},c.DEFAULTS,g.data(),typeof d=="object"&&d);if(!f){g.data("bs.collapse",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.collapse.Constructor=c;b.fn.collapse.noConflict=function(){b.fn.collapse=a;return this};b(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(l){var n=b(this),d;var m=n.attr("data-target")||l.preventDefault()||(d=n.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"");var f=b(m);var h=f.data("bs.collapse");var k=h?"toggle":n.data();var o=n.attr("data-parent");var g=o&&b(o);if(!h||!h.transitioning){if(g){g.find('[data-toggle=collapse][data-parent="'+o+'"]').not(n).addClass("collapsed")}n[f.hasClass("in")?"addClass":"removeClass"]("collapsed")}f.collapse(k)})}(window.jQuery);+function(g){var e=".dropdown-backdrop";var b="[data-toggle=dropdown]";var a=function(k){var h=g(k).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(m){var l=g(this);if(l.is(".disabled, :disabled")){return}var k=f(l);var h=k.hasClass("open");d();if(!h){if("ontouchstart" in document.documentElement&&!k.closest(".navbar-nav").length){g('<div class="dropdown-backdrop"/>').insertAfter(g(this)).on("click",d)}k.trigger(m=g.Event("show.bs.dropdown"));if(m.isDefaultPrevented()){return}k.toggleClass("open").trigger("shown.bs.dropdown");l.focus()}return false};a.prototype.keydown=function(n){if(!/(38|40|27)/.test(n.keyCode)){return}var m=g(this);n.preventDefault();n.stopPropagation();if(m.is(".disabled, :disabled")){return}var l=f(m);var k=l.hasClass("open");if(!k||(k&&n.keyCode==27)){if(n.which==27){l.find(b).focus()}return m.click()}var o=g("[role=menu] li:not(.divider):visible a",l);if(!o.length){return}var h=o.index(o.filter(":focus"));if(n.keyCode==38&&h>0){h--}if(n.keyCode==40&&h<o.length-1){h++}if(!~h){h=0}o.eq(h).focus()};function d(){g(e).remove();g(b).each(function(k){var h=f(g(this));if(!h.hasClass("open")){return}h.trigger(k=g.Event("hide.bs.dropdown"));if(k.isDefaultPrevented()){return}h.removeClass("open").trigger("hidden.bs.dropdown")})}function f(l){var h=l.attr("data-target");if(!h){h=l.attr("href");h=h&&/#/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,"")}var k=h&&g(h);return k&&k.length?k:l.parent()}var c=g.fn.dropdown;g.fn.dropdown=function(h){return this.each(function(){var l=g(this);var k=l.data("dropdown");if(!k){l.data("dropdown",(k=new a(this)))}if(typeof h=="string"){k[h].call(l)}})};g.fn.dropdown.Constructor=a;g.fn.dropdown.noConflict=function(){g.fn.dropdown=c;return this};g(document).on("click.bs.dropdown.data-api",d).on("click.bs.dropdown.data-api",".dropdown form",function(h){h.stopPropagation()}).on("click.bs.dropdown.data-api",b,a.prototype.toggle).on("keydown.bs.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)}(window.jQuery);+function(c){var b=function(e,d){this.options=d;this.$element=c(e);this.$backdrop=this.isShown=null;if(this.options.remote){this.$element.load(this.options.remote)}};b.DEFAULTS={backdrop:true,keyboard:true,show:true};b.prototype.toggle=function(d){return this[!this.isShown?"show":"hide"](d)};b.prototype.show=function(g){var d=this;var f=c.Event("show.bs.modal",{relatedTarget:g});this.$element.trigger(f);if(this.isShown||f.isDefaultPrevented()){return}this.isShown=true;this.escape();this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',c.proxy(this.hide,this));this.backdrop(function(){var k=c.support.transition&&d.$element.hasClass("fade");if(!d.$element.parent().length){d.$element.appendTo(document.body)}d.$element.show();if(k){d.$element[0].offsetWidth}d.$element.addClass("in").attr("aria-hidden",false);d.enforceFocus();var h=c.Event("shown.bs.modal",{relatedTarget:g});k?d.$element.find(".modal-dialog").one(c.support.transition.end,function(){d.$element.focus().trigger(h)}).emulateTransitionEnd(300):d.$element.focus().trigger(h)})};b.prototype.hide=function(d){if(d){d.preventDefault()}d=c.Event("hide.bs.modal");this.$element.trigger(d);if(!this.isShown||d.isDefaultPrevented()){return}this.isShown=false;this.escape();c(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.modal");c.support.transition&&this.$element.hasClass("fade")?this.$element.one(c.support.transition.end,c.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};b.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(d){if(this.$element[0]!==d.target&&!this.$element.has(d.target).length){this.$element.focus()}},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.bs.modal",c.proxy(function(d){d.which==27&&this.hide()},this))}else{if(!this.isShown){this.$element.off("keyup.dismiss.bs.modal")}}};b.prototype.hideModal=function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(g){var f=this;var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=c.support.transition&&e;this.$backdrop=c('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",c.proxy(function(h){if(h.target!==h.currentTarget){return}this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(d){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!g){return}d?this.$backdrop.one(c.support.transition.end,g).emulateTransitionEnd(150):g()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,g).emulateTransitionEnd(150):g()}else{if(g){g()}}}};var a=c.fn.modal;c.fn.modal=function(d,e){return this.each(function(){var h=c(this);var g=h.data("bs.modal");var f=c.extend({},b.DEFAULTS,h.data(),typeof d=="object"&&d);if(!g){h.data("bs.modal",(g=new b(this,f)))}if(typeof d=="string"){g[d](e)}else{if(f.show){g.show(e)}}})};c.fn.modal.Constructor=b;c.fn.modal.noConflict=function(){c.fn.modal=a;return this};c(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(k){var h=c(this);var f=h.attr("href");var d=c(h.attr("data-target")||(f&&f.replace(/.*(?=#[^\s]+$)/,"")));var g=d.data("modal")?"toggle":c.extend({remote:!/#/.test(f)&&f},d.data(),h.data());k.preventDefault();d.modal(g,this).one("hide",function(){h.is(":visible")&&h.focus()})});c(document).on("show.bs.modal",".modal",function(){c(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){c(document.body).removeClass("modal-open")})}(window.jQuery);+function(c){var b=function(e,d){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",e,d)};b.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};b.prototype.init=function(l,h,f){this.enabled=true;this.type=l;this.$element=c(h);this.options=this.getOptions(f);var k=this.options.trigger.split(" ");for(var g=k.length;g--;){var e=k[g];if(e=="click"){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))}else{if(e!="manual"){var m=e=="hover"?"mouseenter":"focus";var d=e=="hover"?"mouseleave":"blur";this.$element.on(m+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))}}}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()};b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.getOptions=function(d){d=c.extend({},this.getDefaults(),this.$element.data(),d);if(d.delay&&typeof d.delay=="number"){d.delay={show:d.delay,hide:d.delay}}return d};b.prototype.getDelegateOptions=function(){var d={};var e=this.getDefaults();this._options&&c.each(this._options,function(f,g){if(e[f]!=g){d[f]=g}});return d};b.prototype.enter=function(e){var d=e instanceof this.constructor?e:c(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="in";if(!d.options.delay||!d.options.delay.show){return d.show()}d.timeout=setTimeout(function(){if(d.hoverState=="in"){d.show()}},d.options.delay.show)};b.prototype.leave=function(e){var d=e instanceof this.constructor?e:c(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="out";if(!d.options.delay||!d.options.delay.hide){return d.hide()}d.timeout=setTimeout(function(){if(d.hoverState=="out"){d.hide()}},d.options.delay.hide)};b.prototype.show=function(){var q=c.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(q);if(q.isDefaultPrevented()){return}var l=this.tip();this.setContent();if(this.options.animation){l.addClass("fade")}var k=typeof this.options.placement=="function"?this.options.placement.call(this,l[0],this.$element[0]):this.options.placement;var v=/\s?auto?\s?/i;var w=v.test(k);if(w){k=k.replace(v,"")||"top"}l.detach().css({top:0,left:0,display:"block"}).addClass(k);this.options.container?l.appendTo(this.options.container):l.insertAfter(this.$element);var r=this.getPosition();var d=l[0].offsetWidth;var n=l[0].offsetHeight;if(w){var h=this.$element.parent();var g=k;var s=document.documentElement.scrollTop||document.body.scrollTop;var u=this.options.container=="body"?window.innerWidth:h.outerWidth();var o=this.options.container=="body"?window.innerHeight:h.outerHeight();var m=this.options.container=="body"?0:h.offset().left;k=k=="bottom"&&r.top+r.height+n-s>o?"top":k=="top"&&r.top-s-n<0?"bottom":k=="right"&&r.right+d>u?"left":k=="left"&&r.left-d<m?"right":k;l.removeClass(g).addClass(k)}var f=this.getCalculatedOffset(k,r,d,n);this.applyPlacement(f,k);this.$element.trigger("shown.bs."+this.type)}};b.prototype.applyPlacement=function(k,l){var g;var m=this.tip();var f=m[0].offsetWidth;var q=m[0].offsetHeight;var e=parseInt(m.css("margin-top"),10);var h=parseInt(m.css("margin-left"),10);if(isNaN(e)){e=0}if(isNaN(h)){h=0}k.top=k.top+e;k.left=k.left+h;m.offset(k).addClass("in");var d=m[0].offsetWidth;var n=m[0].offsetHeight;if(l=="top"&&n!=q){g=true;k.top=k.top+q-n}if(/bottom|top/.test(l)){var o=0;if(k.left<0){o=k.left*-2;k.left=0;m.offset(k);d=m[0].offsetWidth;n=m[0].offsetHeight}this.replaceArrow(o-f+d,d,"left")}else{this.replaceArrow(n-q,n,"top")}if(g){m.offset(k)}};b.prototype.replaceArrow=function(f,e,d){this.arrow().css(d,f?(50*(1-f/e)+"%"):"")};b.prototype.setContent=function(){var e=this.tip();var d=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](d);e.removeClass("fade in top bottom left right")};b.prototype.hide=function(){var f=this;var h=this.tip();var g=c.Event("hide.bs."+this.type);function d(){if(f.hoverState!="in"){h.detach()}}this.$element.trigger(g);if(g.isDefaultPrevented()){return}h.removeClass("in");c.support.transition&&this.$tip.hasClass("fade")?h.one(c.support.transition.end,d).emulateTransitionEnd(150):d();this.$element.trigger("hidden.bs."+this.type);return this};b.prototype.fixTitle=function(){var d=this.$element;if(d.attr("title")||typeof(d.attr("data-original-title"))!="string"){d.attr("data-original-title",d.attr("title")||"").attr("title","")}};b.prototype.hasContent=function(){return this.getTitle()};b.prototype.getPosition=function(){var d=this.$element[0];return c.extend({},(typeof d.getBoundingClientRect=="function")?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},this.$element.offset())};b.prototype.getCalculatedOffset=function(d,g,e,f){return d=="bottom"?{top:g.top+g.height,left:g.left+g.width/2-e/2}:d=="top"?{top:g.top-f,left:g.left+g.width/2-e/2}:d=="left"?{top:g.top+g.height/2-f/2,left:g.left-e}:{top:g.top+g.height/2-f/2,left:g.left+g.width}};b.prototype.getTitle=function(){var f;var d=this.$element;var e=this.options;f=d.attr("data-original-title")||(typeof e.title=="function"?e.title.call(d[0]):e.title);return f};b.prototype.tip=function(){return this.$tip=this.$tip||c(this.options.template)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};b.prototype.enable=function(){this.enabled=true};b.prototype.disable=function(){this.enabled=false};b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(f){var d=f?c(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;d.tip().hasClass("in")?d.leave(d):d.enter(d)};b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=c.fn.tooltip;c.fn.tooltip=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.tooltip");var e=typeof d=="object"&&d;if(!f){g.data("bs.tooltip",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.tooltip.Constructor=b;c.fn.tooltip.noConflict=function(){c.fn.tooltip=a;return this}}(window.jQuery);+function(c){var b=function(e,d){this.init("popover",e,d)};if(!c.fn.tooltip){throw new Error("Popover requires tooltip.js")}b.DEFAULTS=c.extend({},c.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype);b.prototype.constructor=b;b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.setContent=function(){var f=this.tip();var e=this.getTitle();var d=this.getContent();f.find(".popover-title")[this.options.html?"html":"text"](e);f.find(".popover-content")[this.options.html?"html":"text"](d);f.removeClass("fade top bottom left right in");if(!f.find(".popover-title").html()){f.find(".popover-title").hide()}};b.prototype.hasContent=function(){return this.getTitle()||this.getContent()};b.prototype.getContent=function(){var d=this.$element;var e=this.options;return d.attr("data-content")||(typeof e.content=="function"?e.content.call(d[0]):e.content)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};b.prototype.tip=function(){if(!this.$tip){this.$tip=c(this.options.template)}return this.$tip};var a=c.fn.popover;c.fn.popover=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.popover");var e=typeof d=="object"&&d;if(!f){g.data("bs.popover",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.popover.Constructor=b;c.fn.popover.noConflict=function(){c.fn.popover=a;return this}}(window.jQuery);+function(c){function b(f,e){var d;var g=c.proxy(this.process,this);this.$element=c(f).is("body")?c(window):c(f);this.$body=c("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",g);this.options=c.extend({},b.DEFAULTS,e);this.selector=(this.options.target||((d=c(f).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.offsets=c([]);this.targets=c([]);this.activeTarget=null;this.refresh();this.process()}b.DEFAULTS={offset:10};b.prototype.refresh=function(){var d=this.$element[0]==window?"offset":"position";this.offsets=c([]);this.targets=c([]);var e=this;var f=this.$body.find(this.selector).map(function(){var h=c(this);var g=h.data("target")||h.attr("href");var k=/^#\w/.test(g)&&c(g);return(k&&k.length&&[[k[d]().top+(!c.isWindow(e.$scrollElement.get(0))&&e.$scrollElement.scrollTop()),g]])||null}).sort(function(h,g){return h[0]-g[0]}).each(function(){e.offsets.push(this[0]);e.targets.push(this[1])})};b.prototype.process=function(){var k=this.$scrollElement.scrollTop()+this.options.offset;var f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight;var h=f-this.$scrollElement.height();var g=this.offsets;var d=this.targets;var l=this.activeTarget;var e;if(k>=h){return l!=(e=d.last()[0])&&this.activate(e)}for(e=g.length;e--;){l!=d[e]&&k>=g[e]&&(!g[e+1]||k<=g[e+1])&&this.activate(d[e])}};b.prototype.activate=function(f){this.activeTarget=f;c(this.selector).parents(".active").removeClass("active");var d=this.selector+'[data-target="'+f+'"],'+this.selector+'[href="'+f+'"]';var e=c(d).parents("li").addClass("active");if(e.parent(".dropdown-menu").length){e=e.closest("li.dropdown").addClass("active")}e.trigger("activate")};var a=c.fn.scrollspy;c.fn.scrollspy=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.scrollspy");var e=typeof d=="object"&&d;if(!f){g.data("bs.scrollspy",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.scrollspy.Constructor=b;c.fn.scrollspy.noConflict=function(){c.fn.scrollspy=a;return this};c(window).on("load",function(){c('[data-spy="scroll"]').each(function(){var d=c(this);d.scrollspy(d.data())})})}(window.jQuery);+function(c){var b=function(d){this.element=c(d)};b.prototype.show=function(){var l=this.element;var g=l.closest("ul:not(.dropdown-menu)");var f=l.attr("data-target");if(!f){f=l.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}if(l.parent("li").hasClass("active")){return}var h=g.find(".active:last a")[0];var k=c.Event("show.bs.tab",{relatedTarget:h});l.trigger(k);if(k.isDefaultPrevented()){return}var d=c(f);this.activate(l.parent("li"),g);this.activate(d,d.parent(),function(){l.trigger({type:"shown.bs.tab",relatedTarget:h})})};b.prototype.activate=function(f,e,k){var d=e.find("> .active");var h=k&&c.support.transition&&d.hasClass("fade");function g(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");if(h){f[0].offsetWidth;f.addClass("in")}else{f.removeClass("fade")}if(f.parent(".dropdown-menu")){f.closest("li.dropdown").addClass("active")}k&&k()}h?d.one(c.support.transition.end,g).emulateTransitionEnd(150):g();d.removeClass("in")};var a=c.fn.tab;c.fn.tab=function(d){return this.each(function(){var f=c(this);var e=f.data("bs.tab");if(!e){f.data("bs.tab",(e=new b(this)))}if(typeof d=="string"){e[d]()}})};c.fn.tab.Constructor=b;c.fn.tab.noConflict=function(){c.fn.tab=a;return this};c(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();c(this).tab("show")})}(window.jQuery);+function(c){var b=function(e,d){this.options=c.extend({},b.DEFAULTS,d);this.$window=c(window).on("scroll.bs.affix.data-api",c.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",c.proxy(this.checkPositionWithEventLoop,this));this.$element=c(e);this.affixed=this.unpin=null;this.checkPosition()};b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0};b.prototype.checkPositionWithEventLoop=function(){setTimeout(c.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var h=c(document).height();var k=this.$window.scrollTop();var d=this.$element.offset();var l=this.options.offset;var g=l.top;var f=l.bottom;if(typeof l!="object"){f=g=l}if(typeof g=="function"){g=l.top()}if(typeof f=="function"){f=l.bottom()}var e=this.unpin!=null&&(k+this.unpin<=d.top)?false:f!=null&&(d.top+this.$element.height()>=h-f)?"bottom":g!=null&&(k<=g)?"top":false;if(this.affixed===e){return}if(this.unpin){this.$element.css("top","")}this.affixed=e;this.unpin=e=="bottom"?d.top-k:null;this.$element.removeClass(b.RESET).addClass("affix"+(e?"-"+e:""));if(e=="bottom"){this.$element.offset({top:document.body.offsetHeight-f-this.$element.height()})}};var a=c.fn.affix;c.fn.affix=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.affix");var e=typeof d=="object"&&d;if(!f){g.data("bs.affix",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.affix.Constructor=b;c.fn.affix.noConflict=function(){c.fn.affix=a;return this};c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var e=c(this);var d=e.data();d.offset=d.offset||{};if(d.offsetBottom){d.offset.bottom=d.offsetBottom}if(d.offsetTop){d.offset.top=d.offsetTop}e.affix(d)})})}(window.jQuery);
/*! jQuery v2.0.3 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license 
*/
(function(e,undefined){var t,n,r=typeof undefined,i=e.location,o=e.document,s=o.documentElement,a=e.jQuery,u=e.$,l={},c=[],p="2.0.3",f=c.concat,h=c.push,d=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,x=function(e,n){return new x.fn.init(e,n,t)},b=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^-ms-/,N=/-([\da-z])/gi,E=function(e,t){return t.toUpperCase()},S=function(){o.removeEventListener("DOMContentLoaded",S,!1),e.removeEventListener("load",S,!1),x.ready()};x.fn=x.prototype={jquery:p,constructor:x,init:function(e,t,n){var r,i;if(!e){return this}if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:T.exec(e),!r||!r[1]&&t){return !t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),C.test(r[1])&&x.isPlainObject(t)){for(r in t){x.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r])}}return this}return i=o.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?n.ready(e):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},a=2),"object"==typeof s||x.isFunction(s)||(s={}),u===a&&(s=this,--a);u>a;a++){if(null!=(e=arguments[a])){for(t in e){n=s[t],r=e[t],s!==r&&(l&&r&&(x.isPlainObject(r)||(i=x.isArray(r)))?(i?(i=!1,o=n&&x.isArray(n)?n:[]):o=n&&x.isPlainObject(n)?n:{},s[t]=x.extend(l,o,r)):r!==undefined&&(s[t]=r))}}}return s},x.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=a),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){(e===!0?--x.readyWait:x.isReady)||(x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(o,[x]),x.fn.trigger&&x(o).trigger("ready").off("ready")))},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==x.type(e)||e.nodeType||x.isWindow(e)){return !1}try{if(e.constructor&&!y.call(e.constructor.prototype,"isPrototypeOf")){return !1}}catch(t){return !1}return !0},isEmptyObject:function(e){var t;for(t in e){return !1}return !0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e){return null}"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var t,n;if(!e||"string"!=typeof e){return null}try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&x.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){var t,n=eval;e=x.trim(e),e&&(1===e.indexOf("use strict")?(t=o.createElement("script"),t.text=e,o.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(k,"ms-").replace(N,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,s=j(e);if(n){if(s){for(;o>i;i++){if(r=t.apply(e[i],n),r===!1){break}}}else{for(i in e){if(r=t.apply(e[i],n),r===!1){break}}}}else{if(s){for(;o>i;i++){if(r=t.call(e[i],i,e[i]),r===!1){break}}}else{for(i in e){if(r=t.call(e[i],i,e[i]),r===!1){break}}}}return e},trim:function(e){return null==e?"":v.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(j(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n){for(;n>i;i++){e[r++]=t[i]}}else{while(t[i]!==undefined){e[r++]=t[i++]}}return e.length=r,e},grep:function(e,t,n){var r,i=[],o=0,s=e.length;for(n=!!n;s>o;o++){r=!!t(e[o],o),n!==r&&i.push(e[o])}return i},map:function(e,t,n){var r,i=0,o=e.length,s=j(e),a=[];if(s){for(;o>i;i++){r=t(e[i],i,n),null!=r&&(a[a.length]=r)}}else{for(i in e){r=t(e[i],i,n),null!=r&&(a[a.length]=r)}}return f.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),x.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(t||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):undefined},access:function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===x.type(n)){i=!0;for(a in n){x.access(e,t,a,n[a],!0,o,s)}}else{if(r!==undefined&&(i=!0,x.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(x(e),n)})),t)){for(;u>a;a++){t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)))}}}return i?e:l?t.call(e):u?t(e[0],n):o},now:Date.now,swap:function(e,t,n,r){var i,o,s={};for(o in t){s[o]=e.style[o],e.style[o]=t[o]}i=n.apply(e,r||[]);for(o in t){e.style[o]=s[o]}return i}}),x.ready.promise=function(t){return n||(n=x.Deferred(),"complete"===o.readyState?setTimeout(x.ready):(o.addEventListener("DOMContentLoaded",S,!1),e.addEventListener("load",S,!1))),n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function j(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}t=x(o),function(e,undefined){var t,n,r,i,o,s,a,u,l,c,p,f,h,d,g,m,y,v="sizzle"+-new Date,b=e.document,w=0,T=0,C=st(),k=st(),N=st(),E=!1,S=function(e,t){return e===t?(E=!0,0):0},j=typeof undefined,D=1<<31,A={}.hasOwnProperty,L=[],q=L.pop,H=L.push,O=L.push,F=L.slice,P=L.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++){if(this[t]===e){return t}}return -1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$=W.replace("w","w#"),B="\\["+M+"*("+W+")"+M+"*(?:([*^$|!~]?=)"+M+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+$+")|)|)"+M+"*\\]",I=":("+W+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+B.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=RegExp("^"+M+"*,"+M+"*"),X=RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=RegExp(M+"*[+~]"),Y=RegExp("="+M+"*([^\\]'\"]*)"+M+"*\\]","g"),V=RegExp(I),G=RegExp("^"+$+"$"),J={ID:RegExp("^#("+W+")"),CLASS:RegExp("^\\.("+W+")"),TAG:RegExp("^("+W.replace("w","w*")+")"),ATTR:RegExp("^"+B),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:RegExp("^(?:"+R+")$","i"),needsContext:RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Q=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/^(?:input|select|textarea|button)$/i,et=/^h\d$/i,tt=/'|\\/g,nt=RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{O.apply(L=F.call(b.childNodes),b.childNodes),L[b.childNodes.length].nodeType}catch(it){O={apply:L.length?function(e,t){H.apply(e,F.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]){}e.length=n-1}}}function ot(e,t,r,i){var o,s,a,u,l,f,g,m,x,w;if((t?t.ownerDocument||t:b)!==p&&c(t),t=t||p,r=r||[],!e||"string"!=typeof e){return r}if(1!==(u=t.nodeType)&&9!==u){return[]}if(h&&!i){if(o=K.exec(e)){if(a=o[1]){if(9===u){if(s=t.getElementById(a),!s||!s.parentNode){return r}if(s.id===a){return r.push(s),r}}else{if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&y(t,s)&&s.id===a){return r.push(s),r}}}else{if(o[2]){return O.apply(r,t.getElementsByTagName(e)),r}if((a=o[3])&&n.getElementsByClassName&&t.getElementsByClassName){return O.apply(r,t.getElementsByClassName(a)),r}}}if(n.qsa&&(!d||!d.test(e))){if(m=g=v,x=t,w=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){f=gt(e),(g=t.getAttribute("id"))?m=g.replace(tt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",l=f.length;while(l--){f[l]=m+mt(f[l])}x=U.test(e)&&t.parentNode||t,w=f.join(",")}if(w){try{return O.apply(r,x.querySelectorAll(w)),r}catch(T){}finally{g||t.removeAttribute("id")}}}}return kt(e.replace(z,"$1"),t,r,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>i.cacheLength&&delete t[e.shift()],t[n]=r}return t}function at(e){return e[v]=!0,e}function ut(e){var t=p.createElement("div");try{return !!e(t)}catch(n){return !1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--){i.attrHandle[n[r]]=t}}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return -1}}}return e?1:-1}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return at(function(t){return t=+t,at(function(n,r){var i,o=e([],n.length,t),s=o.length;while(s--){n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}})})}s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},n=ot.support={},c=ot.setDocument=function(e){var t=e?e.ownerDocument||e:b,r=t.defaultView;return t!==p&&9===t.nodeType&&t.documentElement?(p=t,f=t.documentElement,h=!s(t),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){c()}),n.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ut(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),n.getById=ut(function(e){return f.appendChild(e).id=v,!t.getElementsByName||!t.getElementsByName(v).length}),n.getById?(i.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=n.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==j?t.getElementsByTagName(e):undefined}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++]){1===n.nodeType&&r.push(n)}return r}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==j&&h?t.getElementsByClassName(e):undefined},g=[],d=[],(n.qsa=Q.test(t.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll(":checked").length||d.push(":checked")}),ut(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&d.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")})),(n.matchesSelector=Q.test(m=f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",I)}),d=d.length&&RegExp(d.join("|")),g=g.length&&RegExp(g.join("|")),y=Q.test(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return !0}}}return !1},S=f.compareDocumentPosition?function(e,r){if(e===r){return E=!0,0}var i=r.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(r);return i?1&i||!n.sortDetached&&r.compareDocumentPosition(e)===i?e===t||y(b,e)?-1:r===t||y(b,r)?1:l?P.call(l,e)-P.call(l,r):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,s=n.parentNode,a=[e],u=[n];if(e===n){return E=!0,0}if(!o||!s){return e===t?-1:n===t?1:o?-1:s?1:l?P.call(l,e)-P.call(l,n):0}if(o===s){return ct(e,n)}r=e;while(r=r.parentNode){a.unshift(r)}r=n;while(r=r.parentNode){u.unshift(r)}while(a[i]===u[i]){i++}return i?ct(a[i],u[i]):a[i]===b?-1:u[i]===b?1:0},t):p},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Y,"='$1']"),!(!n.matchesSelector||!h||g&&g.test(t)||d&&d.test(t))){try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType){return r}}catch(i){}}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&c(e);var r=i.attrHandle[t.toLowerCase()],o=r&&A.call(i.attrHandle,t.toLowerCase())?r(e,t,!h):undefined;return o===undefined?n.attributes||!h?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null:o},ot.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,o=0;if(E=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(S),E){while(t=e[o++]){t===e[o]&&(i=r.push(o))}while(i--){e.splice(r[i],1)}}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent){return e.textContent}for(e=e.firstChild;e;e=e.nextSibling){n+=o(e)}}else{if(3===i||4===i){return e.nodeValue}}}else{for(;t=e[r];r++){n+=o(t)}}return n},i=ot.selectors={cacheLength:50,createPseudo:at,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return J.CHILD.test(e[0])?null:(e[3]&&e[4]!==undefined?e[2]=e[4]:n&&V.test(n)&&(t=gt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return !0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&C(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return !!e.parentNode}:function(t,n,u){var l,c,p,f,h,d,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),x=!u&&!a;if(m){if(o){while(g){p=t;while(p=p[g]){if(a?p.nodeName.toLowerCase()===y:1===p.nodeType){return !1}}d=g="only"===e&&!d&&"nextSibling"}return !0}if(d=[s?m.firstChild:m.lastChild],s&&x){c=m[v]||(m[v]={}),l=c[e]||[],h=l[0]===w&&l[1],f=l[0]===w&&l[2],p=h&&m.childNodes[h];while(p=++h&&p&&p[g]||(f=h=0)||d.pop()){if(1===p.nodeType&&++f&&p===t){c[e]=[w,h,f];break}}}else{if(x&&(l=(t[v]||(t[v]={}))[e])&&l[0]===w){f=l[1]}else{while(p=++h&&p&&p[g]||(f=h=0)||d.pop()){if((a?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(x&&((p[v]||(p[v]={}))[e]=[w,f]),p===t)){break}}}}return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[v]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,o=r(e,t),s=o.length;while(s--){i=P.call(e,o[s]),e[i]=!(n[i]=o[s])}}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(z,"$1"));return r[v]?at(function(e,t,n,i){var o,s=r(e,null,i,[]),a=e.length;while(a--){(o=s[a])&&(e[a]=!(t[a]=o))}}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return G.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}}while((t=t.parentNode)&&1===t.nodeType);return !1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType){return !1}}return !0},parent:function(e){return !i.pseudos.empty(e)},header:function(e){return et.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2){e.push(n)}return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2){e.push(n)}return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;){e.push(r)}return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;){e.push(r)}return e})}},i.pseudos.nth=i.pseudos.eq;for(t in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){i.pseudos[t]=pt(t)}for(t in {submit:!0,reset:!0}){i.pseudos[t]=ft(t)}function dt(){}dt.prototype=i.filters=i.pseudos,i.setFilters=new dt;function gt(e,t){var n,r,o,s,a,u,l,c=k[e+" "];if(c){return t?0:c.slice(0)}a=e,u=[],l=i.preFilter;while(a){(!n||(r=_.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=X.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length));for(s in i.filter){!(r=J[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length))}if(!n){break}}return t?a.length:a?ot.error(e):k(e,u).slice(0)}function mt(e){var t=0,n=e.length,r="";for(;n>t;t++){r+=e[t].value}return r}function yt(e,t,n){var i=t.dir,o=n&&"parentNode"===i,s=T++;return t.first?function(t,n,r){while(t=t[i]){if(1===t.nodeType||o){return e(t,n,r)}}}:function(t,n,a){var u,l,c,p=w+" "+s;if(a){while(t=t[i]){if((1===t.nodeType||o)&&e(t,n,a)){return !0}}}else{while(t=t[i]){if(1===t.nodeType||o){if(c=t[v]||(t[v]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r){return u===!0}}else{if(l=c[i]=[p],l[1]=e(t,n,a)||r,l[1]===!0){return !0}}}}}}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return !1}}return !0}:e[0]}function xt(e,t,n,r,i){var o,s=[],a=0,u=e.length,l=null!=t;for(;u>a;a++){(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a))}return s}function bt(e,t,n,r,i,o){return r&&!r[v]&&(r=bt(r)),i&&!i[v]&&(i=bt(i,o)),at(function(o,s,a,u){var l,c,p,f=[],h=[],d=s.length,g=o||Ct(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:xt(g,f,e,a,u),y=n?i||(o?e:d||r)?[]:s:m;if(n&&n(m,y,a,u),r){l=xt(y,h),r(l,[],a,u),c=l.length;while(c--){(p=l[c])&&(y[h[c]]=!(m[h[c]]=p))}}if(o){if(i||e){if(i){l=[],c=y.length;while(c--){(p=y[c])&&l.push(m[c]=p)}i(null,y=[],l,u)}c=y.length;while(c--){(p=y[c])&&(l=i?P.call(o,p):f[c])>-1&&(o[l]=!(s[l]=p))}}}else{y=xt(y===s?y.splice(d,y.length):y),i?i(null,s,y,u):O.apply(s,y)}})}function wt(e){var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=yt(function(e){return e===t},a,!0),p=yt(function(e){return P.call(t,e)>-1},a,!0),f=[function(e,n,r){return !s&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>l;l++){if(n=i.relative[e[l].type]){f=[yt(vt(f),n)]}else{if(n=i.filter[e[l].type].apply(null,e[l].matches),n[v]){for(r=++l;o>r;r++){if(i.relative[e[r].type]){break}}return bt(l>1&&vt(f),l>1&&mt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&wt(e.slice(l,r)),o>r&&wt(e=e.slice(r)),o>r&&mt(e))}f.push(n)}}return vt(f)}function Tt(e,t){var n=0,o=t.length>0,s=e.length>0,a=function(a,l,c,f,h){var d,g,m,y=[],v=0,x="0",b=a&&[],T=null!=h,C=u,k=a||s&&i.find.TAG("*",h&&l.parentNode||l),N=w+=null==C?1:Math.random()||0.1;for(T&&(u=l!==p&&l,r=n);null!=(d=k[x]);x++){if(s&&d){g=0;while(m=e[g++]){if(m(d,l,c)){f.push(d);break}}T&&(w=N,r=++n)}o&&((d=!m&&d)&&v--,a&&b.push(d))}if(v+=x,o&&x!==v){g=0;while(m=t[g++]){m(b,y,l,c)}if(a){if(v>0){while(x--){b[x]||y[x]||(y[x]=q.call(f))}}y=xt(y)}O.apply(f,y),T&&!a&&y.length>0&&v+t.length>1&&ot.uniqueSort(f)}return T&&(w=N,u=C),b};return o?at(a):a}a=ot.compile=function(e,t){var n,r=[],i=[],o=N[e+" "];if(!o){t||(t=gt(e)),n=t.length;while(n--){o=wt(t[n]),o[v]?r.push(o):i.push(o)}o=N(e,Tt(i,r))}return o};function Ct(e,t,n){var r=0,i=t.length;for(;i>r;r++){ot(e,t[r],n)}return n}function kt(e,t,r,o){var s,u,l,c,p,f=gt(e);if(!o&&1===f.length){if(u=f[0]=f[0].slice(0),u.length>2&&"ID"===(l=u[0]).type&&n.getById&&9===t.nodeType&&h&&i.relative[u[1].type]){if(t=(i.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t){return r}e=e.slice(u.shift().value.length)}s=J.needsContext.test(e)?0:u.length;while(s--){if(l=u[s],i.relative[c=l.type]){break}if((p=i.find[c])&&(o=p(l.matches[0].replace(nt,rt),U.test(u[0].type)&&t.parentNode||t))){if(u.splice(s,1),e=o.length&&mt(u),!e){return O.apply(r,o),r}break}}}return a(e,f)(o,t,!h,r,U.test(e)),r}n.sortStable=v.split("").sort(S).join("")===v,n.detectDuplicates=E,c(),n.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,t,n){return n?undefined:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?undefined:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||lt(R,function(e,t,n){var r;return n?undefined:(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),x.find=ot,x.expr=ot.selectors,x.expr[":"]=x.expr.pseudos,x.unique=ot.uniqueSort,x.text=ot.getText,x.isXMLDoc=ot.isXML,x.contains=ot.contains}(e);var D={};function A(e){var t=D[e]={};return x.each(e.match(w)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?D[e]||A(e):x.extend({},e);var t,n,r,i,o,s,a=[],u=!e.once&&[],l=function(p){for(t=e.memory&&p,n=!0,s=i||0,i=0,o=a.length,r=!0;a&&o>s;s++){if(a[s].apply(p[0],p[1])===!1&&e.stopOnFalse){t=!1;break}}r=!1,a&&(u?u.length&&l(u.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var n=a.length;(function s(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r&&s(n)})})(arguments),r?o=a.length:t&&(i=n,l(t))}return this},remove:function(){return a&&x.each(arguments,function(e,t){var n;while((n=x.inArray(t,a,n))>-1){a.splice(n,1),r&&(o>=n&&o--,s>=n&&s--)}}),this},has:function(e){return e?x.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=u=t=undefined,this},disabled:function(){return !a},lock:function(){return u=undefined,t||c.disable(),this},locked:function(){return !u},fireWith:function(e,t){return !a||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return !!n}};return c},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var s=o[0],a=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),s=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===a?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},a,u,l;if(r>1){for(a=Array(r),u=Array(r),l=Array(r);r>t;t++){n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(s(t,l,n)).fail(o.reject).progress(s(t,u,a)):--i}}return i||o.resolveWith(l,n),o.promise()}}),x.support=function(t){var n=o.createElement("input"),r=o.createDocumentFragment(),i=o.createElement("div"),s=o.createElement("select"),a=s.appendChild(o.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=a.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled,n=o.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin" in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,x(function(){var n,r,s="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",a=o.getElementsByTagName("body")[0];a&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",x.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(o.createElement("div")),r.style.cssText=i.style.cssText=s,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),a.removeChild(n))}),t):t}({});var L,q,H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,O=/([A-Z])/g;function F(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=x.expando+Math.random()}F.uid=1,F.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},F.prototype={key:function(e){if(!F.accepts(e)){return 0}var t={},n=e[this.expando];if(!n){n=F.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,x.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t){o[t]=n}else{if(x.isEmptyObject(o)){x.extend(this.cache[i],t)}else{for(r in t){o[r]=t[r]}}}return o},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&"string"==typeof t&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,x.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(t===undefined){this.cache[o]={}}else{x.isArray(t)?r=t.concat(t.map(x.camelCase)):(i=x.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(w)||[])),n=r.length;while(n--){delete s[r[n]]}}},hasData:function(e){return !x.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},L=new F,q=new F,x.extend({acceptData:F.accepts,hasData:function(e){return L.hasData(e)||q.hasData(e)},data:function(e,t,n){return L.access(e,t,n)},removeData:function(e,t){L.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,i=this[0],o=0,s=null;if(e===undefined){if(this.length&&(s=L.get(i),1===i.nodeType&&!q.get(i,"hasDataAttrs"))){for(n=i.attributes;n.length>o;o++){r=n[o].name,0===r.indexOf("data-")&&(r=x.camelCase(r.slice(5)),P(i,r,s[r]))}q.set(i,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){L.set(this,e)}):x.access(this,function(t){var n,r=x.camelCase(e);if(i&&t===undefined){if(n=L.get(i,e),n!==undefined){return n}if(n=L.get(i,r),n!==undefined){return n}if(n=P(i,r,undefined),n!==undefined){return n}}else{this.each(function(){var n=L.get(this,r);L.set(this,r,t),-1!==e.indexOf("-")&&n!==undefined&&L.set(this,e,t)})}},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){L.remove(this,e)})}});function P(e,t,n){var r;if(n===undefined&&1===e.nodeType){if(r="data-"+t.replace(O,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:H.test(n)?JSON.parse(n):n}catch(i){}L.set(e,t,n)}else{n=undefined}}return n}x.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=q.get(e,t),n&&(!r||x.isArray(n)?r=q.access(e,t,x.makeArray(n)):r.push(n)),r||[]):undefined},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),s=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:x.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?x.queue(this[0],e):t===undefined?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=x.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=undefined),e=e||"fx";while(s--){n=q.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a))}return a(),i.promise(t)}});var R,M,W=/[\t\r\n\f]/g,$=/\r/g,B=/^(?:input|select|textarea|button)$/i;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})},addClass:function(e){var t,n,r,i,o,s=0,a=this.length,u="string"==typeof e&&e;if(x.isFunction(e)){return this.each(function(t){x(this).addClass(e.call(this,t,this.className))})}if(u){for(t=(e||"").match(w)||[];a>s;s++){if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):" ")){o=0;while(i=t[o++]){0>r.indexOf(" "+i+" ")&&(r+=i+" ")}n.className=x.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,o,s=0,a=this.length,u=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e)){return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))})}if(u){for(t=(e||"").match(w)||[];a>s;s++){if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):"")){o=0;while(i=t[o++]){while(r.indexOf(" "+i+" ")>=0){r=r.replace(" "+i+" "," ")}}n.className=e?x.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,i=0,o=x(this),s=e.match(w)||[];while(t=s[i++]){o.hasClass(t)?o.removeClass(t):o.addClass(t)}}else{(n===r||"boolean"===n)&&(this.className&&q.set(this,"__className__",this.className),this.className=this.className||e===!1?"":q.get(this,"__className__")||"")}})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++){if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(W," ").indexOf(t)>=0){return !0}}return !1},val:function(e){var t,n,r,i=this[0];if(arguments.length){return r=x.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,x(this).val()):e,null==i?i="":"number"==typeof i?i+="":x.isArray(i)&&(i=x.map(i,function(e){return null==e?"":e+""})),t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],t&&"set" in t&&t.set(this,i,"value")!==undefined||(this.value=i))})}if(i){return t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()],t&&"get" in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,"string"==typeof n?n.replace($,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return !t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;for(;a>u;u++){if(n=r[u],!(!n.selected&&u!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o){return t}s.push(t)}}return s},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),s=i.length;while(s--){r=i[s],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0)}return n||(e.selectedIndex=-1),o}}},attr:function(e,t,n){var i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return typeof e.getAttribute===r?x.prop(e,t,n):(1===s&&x.isXMLDoc(e)||(t=t.toLowerCase(),i=x.attrHooks[t]||(x.expr.match.bool.test(t)?M:R)),n===undefined?i&&"get" in i&&null!==(o=i.get(e,t))?o:(o=x.find.attr(e,t),null==o?undefined:o):null!==n?i&&"set" in i&&(o=i.set(e,n,t))!==undefined?o:(e.setAttribute(t,n+""),n):(x.removeAttr(e,t),undefined))}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType){while(n=o[i++]){r=x.propFix[n]||n,x.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return o=1!==s||!x.isXMLDoc(e),o&&(t=x.propFix[t]||t,i=x.propHooks[t]),n!==undefined?i&&"set" in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get" in i&&null!==(r=i.get(e,t))?r:e[t]}},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||B.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),M={set:function(e,t,n){return t===!1?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var n=x.expr.attrHandle[t]||x.find.attr;x.expr.attrHandle[t]=function(e,t,r){var i=x.expr.attrHandle[t],o=r?undefined:(x.expr.attrHandle[t]=undefined)!=n(e,t,r)?t.toLowerCase():null;return x.expr.attrHandle[t]=i,o}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){return x.isArray(t)?e.checked=x.inArray(x(e).val(),t)>=0:undefined}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var I=/^key/,z=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;function U(){return !0}function Y(){return !1}function V(){try{return o.activeElement}catch(e){}}x.event={global:{},add:function(e,t,n,i,o){var s,a,u,l,c,p,f,h,d,g,m,y=q.get(e);if(y){n.handler&&(s=n,n=s.handler,o=s.selector),n.guid||(n.guid=x.guid++),(l=y.events)||(l=y.events={}),(a=y.handle)||(a=y.handle=function(e){return typeof x===r||e&&x.event.triggered===e.type?undefined:x.event.dispatch.apply(a.elem,arguments)},a.elem=e),t=(t||"").match(w)||[""],c=t.length;while(c--){u=X.exec(t[c])||[],d=m=u[1],g=(u[2]||"").split(".").sort(),d&&(f=x.event.special[d]||{},d=(o?f.delegateType:f.bindType)||d,f=x.event.special[d]||{},p=x.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&x.expr.match.needsContext.test(o),namespace:g.join(".")},s),(h=l[d])||(h=l[d]=[],h.delegateCount=0,f.setup&&f.setup.call(e,i,g,a)!==!1||e.addEventListener&&e.addEventListener(d,a,!1)),f.add&&(f.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,p):h.push(p),x.event.global[d]=!0)}e=null}},remove:function(e,t,n,r,i){var o,s,a,u,l,c,p,f,h,d,g,m=q.hasData(e)&&q.get(e);if(m&&(u=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--){if(a=X.exec(t[l])||[],h=g=a[1],d=(a[2]||"").split(".").sort(),h){p=x.event.special[h]||{},h=(r?p.delegateType:p.bindType)||h,f=u[h]||[],a=a[2]&&RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;while(o--){c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,p.remove&&p.remove.call(e,c))}s&&!f.length&&(p.teardown&&p.teardown.call(e,d,m.handle)!==!1||x.removeEvent(e,h,m.handle),delete u[h])}else{for(h in u){x.event.remove(e,h+t[l],n,r,!0)}}}x.isEmptyObject(u)&&(delete m.handle,q.remove(e,"events"))}},trigger:function(t,n,r,i){var s,a,u,l,c,p,f,h=[r||o],d=y.call(t,"type")?t.type:t,g=y.call(t,"namespace")?t.namespace.split("."):[];if(a=u=r=r||o,3!==r.nodeType&&8!==r.nodeType&&!_.test(d+x.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),c=0>d.indexOf(":")&&"on"+d,t=t[x.expando]?t:new x.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:x.makeArray(n,[t]),f=x.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!x.isWindow(r)){for(l=f.delegateType||d,_.test(l+d)||(a=a.parentNode);a;a=a.parentNode){h.push(a),u=a}u===(r.ownerDocument||o)&&h.push(u.defaultView||u.parentWindow||e)}s=0;while((a=h[s++])&&!t.isPropagationStopped()){t.type=s>1?l:f.bindType||d,p=(q.get(a,"events")||{})[t.type]&&q.get(a,"handle"),p&&p.apply(a,n),p=c&&a[c],p&&x.acceptData(a)&&p.apply&&p.apply(a,n)===!1&&t.preventDefault()}return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!x.acceptData(r)||c&&x.isFunction(r[d])&&!x.isWindow(r)&&(u=r[c],u&&(r[c]=null),x.event.triggered=d,r[d](),x.event.triggered=undefined,u&&(r[c]=u)),t.result}},dispatch:function(e){e=x.event.fix(e);var t,n,r,i,o,s=[],a=d.call(arguments),u=(q.get(this,"events")||{})[e.type]||[],l=x.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),t=0;while((i=s[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!e.isImmediatePropagationStopped()){(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((x.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type)){for(;u!==this;u=u.parentNode||this){if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++){o=t[n],i=o.selector+" ",r[i]===undefined&&(r[i]=o.needsContext?x(i,this).index(u)>=0:x.find(i,this,null,[u]).length),r[i]&&r.push(o)}r.length&&s.push({elem:u,handlers:r})}}}return t.length>a&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||o,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||s===undefined||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[x.expando]){return e}var t,n,r,i=e.type,s=e,a=this.fixHooks[i];a||(this.fixHooks[i]=a=z.test(i)?this.mouseHooks:I.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new x.Event(s),t=r.length;while(t--){n=r[t],e[n]=s[n]}return e.target||(e.target=o),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==V()&&this.focus?(this.focus(),!1):undefined},delegateType:"focusin"},blur:{trigger:function(){return this===V()&&this.blur?(this.blur(),!1):undefined},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&x.nodeName(this,"input")?(this.click(),!1):undefined},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},x.Event=function(e,t){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?U:Y):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,undefined):new x.Event(e,t)},x.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=U,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=U,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=U,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(s in e){this.on(s,t,n,e[s],i)}return this}if(null==n&&null==r?(r=t,n=t=undefined):null==r&&("string"==typeof t?(r=n,n=undefined):(r=n,n=t,t=undefined)),r===!1){r=Y}else{if(!r){return this}}return 1===i&&(o=r,r=function(e){return x().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=x.guid++)),this.each(function(){x.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj){return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this}if("object"==typeof e){for(i in e){this.off(i,t,e[i])}return this}return(t===!1||"function"==typeof t)&&(n=t,t=undefined),n===!1&&(n=Y),this.each(function(){x.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?x.event.trigger(e,t,n,!0):undefined}});var G=/^.[^:#\[\.,]*$/,J=/^(?:parents|prev(?:Until|All))/,Q=x.expr.match.needsContext,K={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e){return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++){if(x.contains(r[t],this)){return !0}}}))}for(t=0;i>t;t++){x.find(e,r[t],n)}return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){var e=0;for(;n>e;e++){if(x.contains(this,t[e])){return !0}}})},not:function(e){return this.pushStack(et(this,e||[],!0))},filter:function(e){return this.pushStack(et(this,e||[],!1))},is:function(e){return !!et(this,"string"==typeof e&&Q.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],s=Q.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++){for(n=this[r];n&&n!==t;n=n.parentNode){if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}}}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?g.call(x(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function Z(e,t){while((e=e[t])&&1!==e.nodeType){}return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return Z(e,"nextSibling")},prev:function(e){return Z(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return e.contentDocument||x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(K[e]||x.unique(i),J.test(e)&&i.reverse()),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&9!==e.nodeType){if(1===e.nodeType){if(i&&x(e).is(n)){break}r.push(e)}}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e)}return n}});function et(e,t,n){if(x.isFunction(t)){return x.grep(e,function(e,r){return !!t.call(e,r,e)!==n})}if(t.nodeType){return x.grep(e,function(e){return e===t!==n})}if("string"==typeof t){if(G.test(t)){return x.filter(t,e,n)}t=x.filter(t,e)}return x.grep(e,function(e){return g.call(t,e)>=0!==n})}var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,nt=/<([\w:]+)/,rt=/<|&#?\w+;/,it=/<(?:script|style|link)/i,ot=/^(?:checkbox|radio)$/i,st=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^$|\/(?:java|ecma)script/i,ut=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ct={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.optgroup=ct.option,ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===undefined?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++){t||1!==n.nodeType||x.cleanData(mt(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&dt(mt(n,"script")),n.parentNode.removeChild(n))}return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&(x.cleanData(mt(e,!1)),e.textContent="")}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType){return t.innerHTML}if("string"==typeof e&&!it.test(e)&&!ct[(nt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(tt,"<$1></$2>");try{for(;r>n;n++){t=this[n]||{},1===t.nodeType&&(x.cleanData(mt(t,!1)),t.innerHTML=e)}t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=f.apply([],e);var r,i,o,s,a,u,l=0,c=this.length,p=this,h=c-1,d=e[0],g=x.isFunction(d);if(g||!(1>=c||"string"!=typeof d||x.support.checkClone)&&st.test(d)){return this.each(function(r){var i=p.eq(r);g&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)})}if(c&&(r=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=x.map(mt(r,"script"),ft),s=o.length;c>l;l++){a=r,l!==h&&(a=x.clone(a,!0,!0),s&&x.merge(o,mt(a,"script"))),t.call(this[l],a,l)}if(s){for(u=o[o.length-1].ownerDocument,x.map(o,ht),l=0;s>l;l++){a=o[l],at.test(a.type||"")&&!q.access(a,"globalEval")&&x.contains(u,a)&&(a.src?x._evalUrl(a.src):x.globalEval(a.textContent.replace(lt,"")))}}}return this}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=[],i=x(e),o=i.length-1,s=0;for(;o>=s;s++){n=s===o?this:this.clone(!0),x(i[s])[t](n),h.apply(r,n.get())}return this.pushStack(r)}}),x.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=x.contains(e.ownerDocument,e);if(!(x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e))){for(s=mt(a),o=mt(e),r=0,i=o.length;i>r;r++){yt(o[r],s[r])}}if(t){if(n){for(o=o||mt(e),s=s||mt(a),r=0,i=o.length;i>r;r++){gt(o[r],s[r])}}else{gt(e,a)}}return s=mt(a,"script"),s.length>0&&dt(s,!u&&mt(e,"script")),a},buildFragment:function(e,t,n,r){var i,o,s,a,u,l,c=0,p=e.length,f=t.createDocumentFragment(),h=[];for(;p>c;c++){if(i=e[c],i||0===i){if("object"===x.type(i)){x.merge(h,i.nodeType?[i]:i)}else{if(rt.test(i)){o=o||f.appendChild(t.createElement("div")),s=(nt.exec(i)||["",""])[1].toLowerCase(),a=ct[s]||ct._default,o.innerHTML=a[1]+i.replace(tt,"<$1></$2>")+a[2],l=a[0];while(l--){o=o.lastChild}x.merge(h,o.childNodes),o=f.firstChild,o.textContent=""}else{h.push(t.createTextNode(i))}}}}f.textContent="",c=0;while(i=h[c++]){if((!r||-1===x.inArray(i,r))&&(u=x.contains(i.ownerDocument,i),o=mt(f.appendChild(i),"script"),u&&dt(o),n)){l=0;while(i=o[l++]){at.test(i.type||"")&&n.push(i)}}}return f},cleanData:function(e){var t,n,r,i,o,s,a=x.event.special,u=0;for(;(n=e[u])!==undefined;u++){if(F.accepts(n)&&(o=n[q.expando],o&&(t=q.cache[o]))){if(r=Object.keys(t.events||{}),r.length){for(s=0;(i=r[s])!==undefined;s++){a[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle)}}q.cache[o]&&delete q.cache[o]}delete L.cache[n[L.expando]]}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});function pt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ft(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ht(e){var t=ut.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function dt(e,t){var n=e.length,r=0;for(;n>r;r++){q.set(e[r],"globalEval",!t||q.get(t[r],"globalEval"))}}function gt(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(q.hasData(e)&&(o=q.access(e),s=q.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l){for(n=0,r=l[i].length;r>n;n++){x.event.add(t,i,l[i][n])}}}L.hasData(e)&&(a=L.access(e),u=x.extend({},a),L.set(t,u))}}function mt(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&x.nodeName(e,t)?x.merge([e],n):n}function yt(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ot.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}x.fn.extend({wrapAll:function(e){var t;return x.isFunction(e)?this.each(function(t){x(this).wrapAll(e.call(this,t))}):(this[0]&&(t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild){e=e.firstElementChild}return e}).append(this)),this)},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var vt,xt,bt=/^(none|table(?!-c[ea]).+)/,wt=/^margin/,Tt=RegExp("^("+b+")(.*)$","i"),Ct=RegExp("^("+b+")(?!px)[a-z%]+$","i"),kt=RegExp("^([+-])=("+b+")","i"),Nt={BODY:"block"},Et={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:0,fontWeight:400},jt=["Top","Right","Bottom","Left"],Dt=["Webkit","O","Moz","ms"];function At(e,t){if(t in e){return t}var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Dt.length;while(i--){if(t=Dt[i]+n,t in e){return t}}return r}function Lt(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function qt(t){return e.getComputedStyle(t,null)}function Ht(e,t){var n,r,i,o=[],s=0,a=e.length;for(;a>s;s++){r=e[s],r.style&&(o[s]=q.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Lt(r)&&(o[s]=q.access(r,"olddisplay",Rt(r.nodeName)))):o[s]||(i=Lt(r),(n&&"none"!==n||!i)&&q.set(r,"olddisplay",i?n:x.css(r,"display"))))}for(s=0;a>s;s++){r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"))}return e}x.fn.extend({css:function(e,t){return x.access(this,function(e,t,n){var r,i,o={},s=0;if(x.isArray(t)){for(r=qt(e),i=t.length;i>s;s++){o[t[s]]=x.css(e,t[s],!1,r)}return o}return n!==undefined?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)},show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Lt(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=vt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=x.camelCase(t),u=e.style;return t=x.cssProps[a]||(x.cssProps[a]=At(u,a)),s=x.cssHooks[t]||x.cssHooks[a],n===undefined?s&&"get" in s&&(i=s.get(e,!1,r))!==undefined?i:u[t]:(o=typeof n,"string"===o&&(i=kt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(x.css(e,t)),o="number"),null==n||"number"===o&&isNaN(n)||("number"!==o||x.cssNumber[a]||(n+="px"),x.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set" in s&&(n=s.set(e,n,r))===undefined||(u[t]=n)),undefined)}},css:function(e,t,n,r){var i,o,s,a=x.camelCase(t);return t=x.cssProps[a]||(x.cssProps[a]=At(e.style,a)),s=x.cssHooks[t]||x.cssHooks[a],s&&"get" in s&&(i=s.get(e,!0,n)),i===undefined&&(i=vt(e,t,r)),"normal"===i&&t in St&&(i=St[t]),""===n||n?(o=parseFloat(i),n===!0||x.isNumeric(o)?o||0:i):i}}),vt=function(e,t,n){var r,i,o,s=n||qt(e),a=s?s.getPropertyValue(t)||s[t]:undefined,u=e.style;return s&&(""!==a||x.contains(e.ownerDocument,e)||(a=x.style(e,t)),Ct.test(a)&&wt.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=s.width,u.width=r,u.minWidth=i,u.maxWidth=o)),a};function Ot(e,t,n){var r=Tt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ft(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;for(;4>o;o+=2){"margin"===n&&(s+=x.css(e,n+jt[o],!0,i)),r?("content"===n&&(s-=x.css(e,"padding"+jt[o],!0,i)),"margin"!==n&&(s-=x.css(e,"border"+jt[o]+"Width",!0,i))):(s+=x.css(e,"padding"+jt[o],!0,i),"padding"!==n&&(s+=x.css(e,"border"+jt[o]+"Width",!0,i)))}return s}function Pt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=qt(e),s=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=vt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Ct.test(i)){return i}r=s&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+Ft(e,t,n||(s?"border":"content"),r,o)+"px"}function Rt(e){var t=o,n=Nt[e];return n||(n=Mt(e,t),"none"!==n&&n||(xt=(xt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(xt[0].contentWindow||xt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=Mt(e,t),xt.detach()),Nt[e]=n),n}function Mt(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&bt.test(x.css(e,"display"))?x.swap(e,Et,function(){return Pt(e,t,r)}):Pt(e,t,r):undefined},set:function(e,n,r){var i=r&&qt(e);return Ot(e,n,r?Ft(e,t,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,t){return t?x.swap(e,{display:"inline-block"},vt,[e,"marginRight"]):undefined}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,t){x.cssHooks[t]={get:function(e,n){return n?(n=vt(e,t),Ct.test(n)?x(e).position()[t]+"px":n):undefined}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},x.expr.filters.visible=function(e){return !x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++){i[e+jt[r]+t]=o[r]||o[r-2]||o[0]}return i}},wt.test(e)||(x.cssHooks[e+t].set=Ot)});var Wt=/%20/g,$t=/\[\]$/,Bt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&zt.test(this.nodeName)&&!It.test(e)&&(this.checked||!ot.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(Bt,"\r\n")}}):{name:t.name,value:n.replace(Bt,"\r\n")}}).get()}}),x.param=function(e,t){var n,r=[],i=function(e,t){t=x.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e)){x.each(e,function(){i(this.name,this.value)})}else{for(n in e){_t(n,e[n],t,i)}}return r.join("&").replace(Wt,"+")};function _t(e,t,n,r){var i;if(x.isArray(t)){x.each(t,function(t,i){n||$t.test(e)?r(e,i):_t(e+"["+("object"==typeof i?t:"")+"]",i,n,r)})}else{if(n||"object"!==x.type(t)){r(e,t)}else{for(i in t){_t(e+"["+i+"]",t[i],n,r)}}}}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Xt,Ut,Yt=x.now(),Vt=/\?/,Gt=/#.*$/,Jt=/([?&])_=[^&]*/,Qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Zt=/^(?:GET|HEAD)$/,en=/^\/\//,tn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,nn=x.fn.load,rn={},on={},sn="*/".concat("*");try{Ut=i.href}catch(an){Ut=o.createElement("a"),Ut.href="",Ut=Ut.href}Xt=tn.exec(Ut.toLowerCase())||[];function un(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(x.isFunction(n)){while(r=o[i++]){"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}}}function ln(e,t,n,r){var i={},o=e===on;function s(a){var u;return i[a]=!0,x.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):undefined:(t.dataTypes.unshift(l),s(l),!1)}),u}return s(t.dataTypes[0])||!i["*"]&&s("*")}function cn(e,t){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in t){t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n])}return r&&x.extend(!0,e,r),e}x.fn.load=function(e,t,n){if("string"!=typeof e&&nn){return nn.apply(this,arguments)}var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=e.slice(a),e=e.slice(0,a)),x.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),s.length>0&&x.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut,type:"GET",isLocal:Kt.test(Xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?cn(cn(e,x.ajaxSettings),t):cn(x.ajaxSettings,e)},ajaxPrefilter:un(rn),ajaxTransport:un(on),ajax:function(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r,i,o,s,a,u,l,c=x.ajaxSetup({},t),p=c.context||c,f=c.context&&(p.nodeType||p.jquery)?x(p):x.event,h=x.Deferred(),d=x.Callbacks("once memory"),g=c.statusCode||{},m={},y={},v=0,b="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===v){if(!o){o={};while(t=Qt.exec(i)){o[t[1].toLowerCase()]=t[2]}}t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===v?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return v||(e=y[n]=y[n]||e,m[e]=t),this},overrideMimeType:function(e){return v||(c.mimeType=e),this},statusCode:function(e){var t;if(e){if(2>v){for(t in e){g[t]=[g[t],e[t]]}}else{T.always(e[T.status])}}return this},abort:function(e){var t=e||b;return n&&n.abort(t),k(0,t),this}};if(h.promise(T).complete=d.add,T.success=T.done,T.error=T.fail,c.url=((e||c.url||Ut)+"").replace(Gt,"").replace(en,Xt[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=x.trim(c.dataType||"*").toLowerCase().match(w)||[""],null==c.crossDomain&&(a=tn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===Xt[1]&&a[2]===Xt[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Xt[3]||("http:"===Xt[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=x.param(c.data,c.traditional)),ln(rn,c,t,T),2===v){return T}u=c.global,u&&0===x.active++&&x.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Zt.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(Vt.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Jt.test(r)?r.replace(Jt,"$1_="+Yt++):r+(Vt.test(r)?"&":"?")+"_="+Yt++)),c.ifModified&&(x.lastModified[r]&&T.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&T.setRequestHeader("If-None-Match",x.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&T.setRequestHeader("Content-Type",c.contentType),T.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+sn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers){T.setRequestHeader(l,c.headers[l])}if(c.beforeSend&&(c.beforeSend.call(p,T,c)===!1||2===v)){return T.abort()}b="abort";for(l in {success:1,error:1,complete:1}){T[l](c[l])}if(n=ln(on,c,t,T)){T.readyState=1,u&&f.trigger("ajaxSend",[T,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){T.abort("timeout")},c.timeout));try{v=1,n.send(m,k)}catch(C){if(!(2>v)){throw C}k(-1,C)}}else{k(-1,"No Transport")}function k(e,t,o,a){var l,m,y,b,w,C=t;2!==v&&(v=2,s&&clearTimeout(s),n=undefined,i=a||"",T.readyState=e>0?4:0,l=e>=200&&300>e||304===e,o&&(b=pn(c,T,o)),b=fn(c,b,T,l),l?(c.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(x.lastModified[r]=w),w=T.getResponseHeader("etag"),w&&(x.etag[r]=w)),204===e||"HEAD"===c.type?C="nocontent":304===e?C="notmodified":(C=b.state,m=b.data,y=b.error,l=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),T.status=e,T.statusText=(t||C)+"",l?h.resolveWith(p,[m,C,T]):h.rejectWith(p,[T,C,y]),T.statusCode(g),g=undefined,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[T,c,l?m:y]),d.fireWith(p,[T,C]),u&&(f.trigger("ajaxComplete",[T,c]),--x.active||x.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,undefined,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,r,i){return x.isFunction(n)&&(i=i||r,r=n,n=undefined),x.ajax({url:e,type:t,dataType:i,data:n,success:r})}});function pn(e,t,n){var r,i,o,s,a=e.contents,u=e.dataTypes;while("*"===u[0]){u.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"))}if(r){for(i in a){if(a[i]&&a[i].test(r)){u.unshift(i);break}}}if(u[0] in n){o=u[0]}else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):undefined}function fn(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1]){for(s in e.converters){l[s.toLowerCase()]=e.converters[s]}}o=c.shift();while(o){if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift()){if("*"===o){o=u}else{if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s){for(i in l){if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}}}if(s!==!0){if(s&&e["throws"]){t=s(t)}else{try{t=s(t)}catch(p){return{state:"parsererror",error:s?p:"No conversion from "+u+" to "+o}}}}}}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=x("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){n&&n()}}}});var hn=[],dn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=hn.pop()||x.expando+"_"+Yt++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=x.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(dn,"$1"+i):t.jsonp!==!1&&(t.url+=(Vt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||x.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,hn.push(i)),s&&x.isFunction(o)&&o(s[0]),s=o=undefined}),"script"):undefined}),x.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var gn=x.ajaxSettings.xhr(),mn={0:200,1223:204},yn=0,vn={};e.ActiveXObject&&x(e).on("unload",function(){for(var e in vn){vn[e]()}vn=undefined}),x.support.cors=!!gn&&"withCredentials" in gn,x.support.ajax=gn=!!gn,x.ajaxTransport(function(e){var t;return x.support.cors||gn&&!e.crossDomain?{send:function(n,r){var i,o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields){for(i in e.xhrFields){s[i]=e.xhrFields[i]}}e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n){s.setRequestHeader(i,n[i])}t=function(e){return function(){t&&(delete vn[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status||404,s.statusText):r(mn[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=vn[o=yn++]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}:undefined});var xn,bn,wn=/^(?:toggle|show|hide)$/,Tn=RegExp("^(?:([+-])=|)("+b+")([a-z%]*)$","i"),Cn=/queueHooks$/,kn=[An],Nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Tn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),s=(x.cssNumber[e]||"px"!==o&&+r)&&Tn.exec(x.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do{a=a||".5",s/=a,x.style(n.elem,e,s+o)}while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};function En(){return setTimeout(function(){xn=undefined}),xn=x.now()}function Sn(e,t,n){var r,i=(Nn[t]||[]).concat(Nn["*"]),o=0,s=i.length;for(;s>o;o++){if(r=i[o].call(n,t,e)){return r}}}function jn(e,t,n){var r,i,o=0,s=kn.length,a=x.Deferred().always(function(){delete u.elem}),u=function(){if(i){return !1}var t=xn||En(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;for(;u>s;s++){l.tweens[s].run(o)}return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:xn||En(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i){return this}for(i=!0;r>n;n++){l.tweens[n].run(1)}return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(Dn(c,l.opts.specialEasing);s>o;o++){if(r=kn[o].call(l,e,c,l.opts)){return r}}return x.map(c,Sn,l),x.isFunction(l.opts.start)&&l.opts.start.call(e,l),x.fx.timer(x.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Dn(e,t){var n,r,i,o,s;for(n in e){if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=x.cssHooks[r],s&&"expand" in s){o=s.expand(o),delete e[r];for(n in o){n in e||(e[n]=o[n],t[n]=i)}}else{t[r]=i}}}x.Animation=x.extend(jn,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++){n=e[r],Nn[n]=Nn[n]||[],Nn[n].unshift(t)}},prefilter:function(e,t){t?kn.unshift(e):kn.push(e)}});function An(e,t,n){var r,i,o,s,a,u,l=this,c={},p=e.style,f=e.nodeType&&Lt(e),h=q.get(e,"fxshow");n.queue||(a=x._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,l.always(function(){l.always(function(){a.unqueued--,x.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height" in t||"width" in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",l.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){if(i=t[r],wn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!h||h[r]===undefined){continue}f=!0}c[r]=h&&h[r]||x.style(e,r)}}if(!x.isEmptyObject(c)){h?"hidden" in h&&(f=h.hidden):h=q.access(e,"fxshow",{}),o&&(h.hidden=!f),f?x(e).show():l.done(function(){x(e).hide()}),l.done(function(){var t;q.remove(e,"fxshow");for(t in c){x.style(e,t,c[t])}});for(r in c){s=Sn(f?h[r]:0,r,l),r in h||(h[r]=s.start,f&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}}function Ln(e,t,n,r,i){return new Ln.prototype.init(e,t,n,r,i)}x.Tween=Ln,Ln.prototype={constructor:Ln,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=Ln.propHooks[this.prop];return e&&e.get?e.get(this):Ln.propHooks._default.get(this)},run:function(e){var t,n=Ln.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ln.propHooks._default.set(this),this}},Ln.prototype.init.prototype=Ln.prototype,Ln.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ln.propHooks.scrollTop=Ln.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(qn(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),s=function(){var t=jn(this,x.extend({},e),o);(i||q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=x.timers,s=q.get(this);if(i){s[i]&&s[i].stop&&r(s[i])}else{for(i in s){s[i]&&s[i].stop&&Cn.test(i)&&r(s[i])}}for(i=o.length;i--;){o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1))}(t||!n)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,s=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;){o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1))}for(t=0;s>t;t++){r[t]&&r[t].finish&&r[t].finish.call(this)}delete n.finish})}});function qn(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t){n=jt[i],r["margin"+n]=r["padding"+n]=e}return t&&(r.opacity=r.width=e),r}x.each({slideDown:qn("show"),slideUp:qn("hide"),slideToggle:qn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=Ln.prototype.init,x.fx.tick=function(){var e,t=x.timers,n=0;for(xn=x.now();t.length>n;n++){e=t[n],e()||t[n]!==e||t.splice(n--,1)}t.length||x.fx.stop(),xn=undefined},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){bn||(bn=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(bn),bn=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length){return e===undefined?this:this.each(function(t){x.offset.setOffset(this,e,t)})}var t,n,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;if(s){return t=s.documentElement,x.contains(t,i)?(typeof i.getBoundingClientRect!==r&&(o=i.getBoundingClientRect()),n=Hn(s),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o}},x.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=x.css(e,"position"),p=x(e),f={};"static"===c&&(e.style.position="relative"),a=p.offset(),o=x.css(e,"top"),u=x.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=p.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),x.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+i),"using" in t?t.using.call(e,f):p.css(f)}},x.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===x.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(r=e.offset()),r.top+=x.css(e[0],"borderTopWidth",!0),r.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-x.css(n,"marginTop",!0),left:t.left-r.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position")){e=e.offsetParent}return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;x.fn[t]=function(i){return x.access(this,function(t,i,o){var s=Hn(t);return o===undefined?s?s[n]:t[i]:(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o,undefined)},t,i,arguments.length,null)}});function Hn(e){return x.isWindow(e)?e:9===e.nodeType&&e.defaultView}x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){x.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return x.access(this,function(t,n,r){var i;return x.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?x.css(t,n,s):x.style(t,n,r,s)},t,o?r:undefined,o,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=x)})(window);
/*! jQuery UI - v1.10.2 - 2013-03-14 
* http://jqueryui.com 
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js 
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(b,d){function a(m,k){var s,q,h,l=m.nodeName.toLowerCase();return"area"===l?(s=m.parentNode,q=s.name,m.href&&q&&"map"===s.nodeName.toLowerCase()?(h=b("img[usemap=#"+q+"]")[0],!!h&&c(h)):!1):(/input|select|textarea|button|object/.test(l)?!m.disabled:"a"===l?m.href||k:k)&&c(m)}function c(h){return b.expr.filters.visible(h)&&!b(h).parents().addBack().filter(function(){return"hidden"===b.css(this,"visibility")}).length}var g=0,f=/^ui-id-\d+$/;b.ui=b.ui||{},b.extend(b.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),b.fn.extend({focus:function(h){return function(e,k){return"number"==typeof e?this.each(function(){var l=this;setTimeout(function(){b(l).focus(),k&&k.call(l)},e)}):h.apply(this,arguments)}}(b.fn.focus),scrollParent:function(){var h;return h=b.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.css(this,"position"))&&/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!h.length?b(document):h},zIndex:function(e){if(e!==d){return this.css("zIndex",e)}if(this.length){for(var h,l,k=b(this[0]);k.length&&k[0]!==document;){if(h=k.css("position"),("absolute"===h||"relative"===h||"fixed"===h)&&(l=parseInt(k.css("zIndex"),10),!isNaN(l)&&0!==l)){return l}k=k.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&b(this).removeAttr("id")})}}),b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(h){return function(e){return !!b.data(e,h)}}):function(l,h,k){return !!b.data(l,k[3])},focusable:function(h){return a(h,!isNaN(b.attr(h,"tabindex")))},tabbable:function(k){var h=b.attr(k,"tabindex"),l=isNaN(h);return(l||h>=0)&&a(k,!l)}}),b("<a>").outerWidth(1).jquery||b.each(["Width","Height"],function(h,k){function q(u,o,r,v){return b.each(m,function(){o-=parseFloat(b.css(u,"padding"+this))||0,r&&(o-=parseFloat(b.css(u,"border"+this+"Width"))||0),v&&(o-=parseFloat(b.css(u,"margin"+this))||0)}),o}var m="Width"===k?["Left","Right"]:["Top","Bottom"],e=k.toLowerCase(),l={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+k]=function(n){return n===d?l["inner"+k].call(this):this.each(function(){b(this).css(e,q(this,n)+"px")})},b.fn["outer"+k]=function(o,n){return"number"!=typeof o?l["outer"+k].call(this,o):this.each(function(){b(this).css(e,q(this,o,!0,n)+"px")})}}),b.fn.addBack||(b.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),b("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(b.fn.removeData=function(h){return function(e){return arguments.length?h.call(this,b.camelCase(e)):h.call(this)}}(b.fn.removeData)),b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),b.support.selectstart="onselectstart" in document.createElement("div"),b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),b.extend(b.ui,{plugin:{add:function(l,h,k){var q,m=b.ui[l].prototype;for(q in k){m.plugins[q]=m.plugins[q]||[],m.plugins[q].push([h,k[q]])}},call:function(k,m,h){var l,o=k.plugins[m];if(o&&k.element[0].parentNode&&11!==k.element[0].parentNode.nodeType){for(l=0;o.length>l;l++){k.options[o[l][0]]&&o[l][1].apply(k.element,h)}}}},hasScroll:function(l,h){if("hidden"===b(l).css("overflow")){return !1}var k=h&&"left"===h?"scrollLeft":"scrollTop",m=!1;return l[k]>0?!0:(l[k]=1,m=l[k]>0,l[k]=0,m)}})})(jQuery),function(b,d){var a=0,c=Array.prototype.slice,f=b.cleanData;b.cleanData=function(k){for(var g,h=0;null!=(g=k[h]);h++){try{b(g).triggerHandler("remove")}catch(l){}}f(k)},b.widget=function(q,x,k){var g,w,e,u,m={},v=q.split(".")[0];q=q.split(".")[1],g=v+"-"+q,k||(k=x,x=b.Widget),b.expr[":"][g.toLowerCase()]=function(h){return !!b.data(h,g)},b[v]=b[v]||{},w=b[v][q],e=b[v][q]=function(l,h){return this._createWidget?(arguments.length&&this._createWidget(l,h),d):new e(l,h)},b.extend(e,w,{version:k.version,_proto:b.extend({},k),_childConstructors:[]}),u=new x,u.options=b.widget.extend({},u.options),b.each(k,function(h,l){return b.isFunction(l)?(m[h]=function(){var n=function(){return x.prototype[h].apply(this,arguments)},o=function(r){return x.prototype[h].apply(this,r)};return function(){var r,y=this._super,z=this._superApply;return this._super=n,this._superApply=o,r=l.apply(this,arguments),this._super=y,this._superApply=z,r}}(),d):(m[h]=l,d)}),e.prototype=b.widget.extend(u,{widgetEventPrefix:w?u.widgetEventPrefix:q},m,{constructor:e,namespace:v,widgetName:q,widgetFullName:g}),w?(b.each(w._childConstructors,function(n,h){var l=h.prototype;b.widget(l.namespace+"."+l.widgetName,e,h._proto)}),delete w._childConstructors):x._childConstructors.push(e),b.widget.bridge(q,e)},b.widget.extend=function(g){for(var q,m,e=c.call(arguments,1),l=0,k=e.length;k>l;l++){for(q in e[l]){m=e[l][q],e[l].hasOwnProperty(q)&&m!==d&&(g[q]=b.isPlainObject(m)?b.isPlainObject(g[q])?b.widget.extend({},g[q],m):b.widget.extend({},m):m)}}return g},b.widget.bridge=function(e,h){var g=h.prototype.widgetFullName||e;b.fn[e]=function(m){var o="string"==typeof m,n=c.call(arguments,1),k=this;return m=!o&&n.length?b.widget.extend.apply(null,[m].concat(n)):m,o?this.each(function(){var l,q=b.data(this,g);return q?b.isFunction(q[m])&&"_"!==m.charAt(0)?(l=q[m].apply(q,n),l!==q&&l!==d?(k=l&&l.jquery?k.pushStack(l.get()):l,!1):d):b.error("no such method '"+m+"' for "+e+" widget instance"):b.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+m+"'")}):this.each(function(){var l=b.data(this,g);l?l.option(m||{})._init():b.data(this,g,new h(m,this))}),k}},b.Widget=function(){},b.Widget._childConstructors=[],b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(h,g){g=b(g||this.defaultElement||this)[0],this.element=b(g),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=b.widget.extend({},this.options,this._getCreateOptions(),h),this.bindings=b(),this.hoverable=b(),this.focusable=b(),g!==this&&(b.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===g&&this.destroy()}}),this.document=b(g.style?g.ownerDocument:g.document||g),this.window=b(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(g,h){var m,l,e,k=g;if(0===arguments.length){return b.widget.extend({},this.options)}if("string"==typeof g){if(k={},m=g.split("."),g=m.shift(),m.length){for(l=k[g]=b.widget.extend({},this.options[g]),e=0;m.length-1>e;e++){l[m[e]]=l[m[e]]||{},l=l[m[e]]}if(g=m.pop(),h===d){return l[g]===d?null:l[g]}l[g]=h}else{if(h===d){return this.options[g]===d?null:this.options[g]}k[g]=h}}return this._setOptions(k),this},_setOptions:function(g){var h;for(h in g){this._setOption(h,g[h])}return this},_setOption:function(g,h){return this.options[g]=h,"disabled"===g&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(g,h,l){var k,e=this;"boolean"!=typeof g&&(l=h,h=g,g=!1),l?(h=k=b(h),this.bindings=this.bindings.add(h)):(l=h,h=this.element,k=this.widget()),b.each(l,function(w,s){function q(){return g||e.options.disabled!==!0&&!b(this).hasClass("ui-state-disabled")?("string"==typeof s?e[s]:s).apply(e,arguments):d}"string"!=typeof s&&(q.guid=s.guid=s.guid||q.guid||b.guid++);var m=w.match(/^(\w+)\s*(.*)$/),v=m[1]+e.eventNamespace,o=m[2];o?k.delegate(o,v,q):h.bind(v,q)})},_off:function(g,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,g.unbind(h).undelegate(h)},_delay:function(h,l){function g(){return("string"==typeof h?k[h]:h).apply(k,arguments)}var k=this;return setTimeout(g,l||0)},_hoverable:function(g){this.hoverable=this.hoverable.add(g),this._on(g,{mouseenter:function(h){b(h.currentTarget).addClass("ui-state-hover")},mouseleave:function(h){b(h.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(g){this.focusable=this.focusable.add(g),this._on(g,{focusin:function(h){b(h.currentTarget).addClass("ui-state-focus")},focusout:function(h){b(h.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(l,h,k){var q,m,g=this.options[l];if(k=k||{},h=b.Event(h),h.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase(),h.target=this.element[0],m=h.originalEvent){for(q in m){q in h||(h[q]=m[q])}}return this.element.trigger(h,k),!(b.isFunction(g)&&g.apply(this.element[0],[h].concat(k))===!1||h.isDefaultPrevented())}},b.each({show:"fadeIn",hide:"fadeOut"},function(h,g){b.Widget.prototype["_"+h]=function(k,q,m){"string"==typeof q&&(q={effect:q});var e,l=q?q===!0||"number"==typeof q?g:q.effect||g:h;q=q||{},"number"==typeof q&&(q={duration:q}),e=!b.isEmptyObject(q),q.complete=m,q.delay&&k.delay(q.delay),e&&b.effects&&b.effects.effect[l]?k[h](q):l!==h&&k[l]?k[l](q.duration,q.easing,m):k.queue(function(n){b(this)[h](),m&&m.call(k[0]),n()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===a.data(d.target,c.widgetName+".preventClickEvent")?(a.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,f=1===c.which,e="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return f&&!e&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return d._mouseMove(g)},this._mouseUpDelegate=function(g){return d._mouseUp(g)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(c){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},_mouseUp:function(c){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(c){var b=this.options;return this.helper||b.disabled||a(c.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(c),this.handle?(a(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var b=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),b.containment&&this._setContainment(),this._trigger("start",c)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(d,b){if(this.position=this._generatePosition(d),this.positionAbs=this._convertPositionTo("absolute"),!b){var c=this._uiHash();if(this._trigger("drag",d,c)===!1){return this._mouseUp({}),!1}this.position=c.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,d),!1},_mouseStop:function(d){var b,c=this,g=!1,f=!1;for(a.ui.ddmanager&&!this.options.dropBehaviour&&(f=a.ui.ddmanager.drop(this,d)),this.dropped&&(f=this.dropped,this.dropped=!1),b=this.element[0];b&&(b=b.parentNode);){b===document&&(g=!0)}return g||"original"!==this.options.helper?("invalid"===this.options.revert&&!f||"valid"===this.options.revert&&f||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",d)!==!1&&c._clear()}):this._trigger("stop",d)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(d){var b=this.options,c=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[d])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d,b,c,f=this.options;if("parent"===f.containment&&(f.containment=this.helper[0].parentNode),("document"===f.containment||"window"===f.containment)&&(this.containment=["document"===f.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===f.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===f.containment?0:a(window).scrollLeft())+a("document"===f.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===f.containment?0:a(window).scrollTop())+(a("document"===f.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(f.containment)||f.containment.constructor===Array){f.containment.constructor===Array&&(this.containment=f.containment)}else{if(b=a(f.containment),c=b[0],!c){return}d="hidden"!==a(c).css("overflow"),this.containment=[(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderRightWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderBottomWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b}},_convertPositionTo:function(d,b){b||(b=this.position);var c="absolute"===d?1:-1,g="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(g[0].tagName);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:g.scrollTop())*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:g.scrollLeft())*c}},_generatePosition:function(q){var k,w,f,d,v=this.options,b="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,m=/(html|body)/i.test(b[0].tagName),g=q.pageX,u=q.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(w=this.relative_container.offset(),k=[this.containment[0]+w.left,this.containment[1]+w.top,this.containment[2]+w.left,this.containment[3]+w.top]):k=this.containment,q.pageX-this.offset.click.left<k[0]&&(g=k[0]+this.offset.click.left),q.pageY-this.offset.click.top<k[1]&&(u=k[1]+this.offset.click.top),q.pageX-this.offset.click.left>k[2]&&(g=k[2]+this.offset.click.left),q.pageY-this.offset.click.top>k[3]&&(u=k[3]+this.offset.click.top)),v.grid&&(f=v.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/v.grid[1])*v.grid[1]:this.originalPageY,u=k?f-this.offset.click.top>=k[1]||f-this.offset.click.top>k[3]?f:f-this.offset.click.top>=k[1]?f-v.grid[1]:f+v.grid[1]:f,d=v.grid[0]?this.originalPageX+Math.round((g-this.originalPageX)/v.grid[0])*v.grid[0]:this.originalPageX,g=k?d-this.offset.click.left>=k[0]||d-this.offset.click.left>k[2]?d:d-this.offset.click.left>=k[0]?d-v.grid[0]:d+v.grid[0]:d)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():m?0:b.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():m?0:b.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(d,b,c){return c=c||this._uiHash(),a.ui.plugin.call(this,d,[b,c]),"drag"===d&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,d,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(d,b){var c=a(this).data("ui-draggable"),g=c.options,f=a.extend({},b,{item:c.element});c.sortables=[],a(g.connectToSortable).each(function(){var e=a.data(this,"ui-sortable");e&&!e.options.disabled&&(c.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",d,f))})},stop:function(d,b){var c=a(this).data("ui-draggable"),f=a.extend({},b,{item:c.element});a.each(c.sortables,function(){this.instance.isOver?(this.instance.isOver=0,c.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(d),this.instance.options.helper=this.instance.options._helper,"original"===c.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",d,f))})},drag:function(d,b){var c=a(this).data("ui-draggable"),f=this;a.each(c.sortables,function(){var g=!1,e=this;this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(g=!0,a.each(c.sortables,function(){return this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(e.instance.element[0],this.instance.element[0])&&(g=!1),g})),g?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},d.target=this.instance.currentItem[0],this.instance._mouseCapture(d,!0),this.instance._mouseStart(d,!0,!0),this.instance.offset.click.top=c.offset.click.top,this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger("toSortable",d),c.dropped=this.instance.element,c.currentItem=c.element,this.instance.fromOutside=c),this.instance.currentItem&&this.instance._mouseDrag(d)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",d,this.instance._uiHash(this.instance)),this.instance._mouseStop(d,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),c._trigger("fromSortable",d),c.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),b=a(this).data("ui-draggable").options;c.css("cursor")&&(b._cursor=c.css("cursor")),c.css("cursor",b.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(d,b){var c=a(b.helper),f=a(this).data("ui-draggable").options;c.css("opacity")&&(f._opacity=c.css("opacity")),c.css("opacity",f.opacity)},stop:function(d,b){var c=a(this).data("ui-draggable").options;c._opacity&&a(b.helper).css("opacity",c._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(d){var b=a(this).data("ui-draggable"),c=b.options,f=!1;b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName?(c.axis&&"x"===c.axis||(b.overflowOffset.top+b.scrollParent[0].offsetHeight-d.pageY<c.scrollSensitivity?b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+c.scrollSpeed:d.pageY-b.overflowOffset.top<c.scrollSensitivity&&(b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-c.scrollSpeed)),c.axis&&"y"===c.axis||(b.overflowOffset.left+b.scrollParent[0].offsetWidth-d.pageX<c.scrollSensitivity?b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+c.scrollSpeed:d.pageX-b.overflowOffset.left<c.scrollSensitivity&&(b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-c.scrollSpeed))):(c.axis&&"x"===c.axis||(d.pageY-a(document).scrollTop()<c.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(d.pageY-a(document).scrollTop())<c.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed))),c.axis&&"y"===c.axis||(d.pageX-a(document).scrollLeft()<c.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(d.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,d)}}),a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),b=c.options;c.snapElements=[],a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var d=a(this),e=d.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:e.top,left:e.left})})},drag:function(H,D){var w,A,z,L,x,E,C,J,q,I,y=a(this).data("ui-draggable"),G=y.options,F=G.snapTolerance,B=D.offset.left,k=B+y.helperProportions.width,M=D.offset.top,K=M+y.helperProportions.height;for(q=y.snapElements.length-1;q>=0;q--){x=y.snapElements[q].left,E=x+y.snapElements[q].width,C=y.snapElements[q].top,J=C+y.snapElements[q].height,B>x-F&&E+F>B&&M>C-F&&J+F>M||B>x-F&&E+F>B&&K>C-F&&J+F>K||k>x-F&&E+F>k&&M>C-F&&J+F>M||k>x-F&&E+F>k&&K>C-F&&J+F>K?("inner"!==G.snapMode&&(w=F>=Math.abs(C-K),A=F>=Math.abs(J-M),z=F>=Math.abs(x-k),L=F>=Math.abs(E-B),w&&(D.position.top=y._convertPositionTo("relative",{top:C-y.helperProportions.height,left:0}).top-y.margins.top),A&&(D.position.top=y._convertPositionTo("relative",{top:J,left:0}).top-y.margins.top),z&&(D.position.left=y._convertPositionTo("relative",{top:0,left:x-y.helperProportions.width}).left-y.margins.left),L&&(D.position.left=y._convertPositionTo("relative",{top:0,left:E}).left-y.margins.left)),I=w||A||z||L,"outer"!==G.snapMode&&(w=F>=Math.abs(C-M),A=F>=Math.abs(J-K),z=F>=Math.abs(x-B),L=F>=Math.abs(E-k),w&&(D.position.top=y._convertPositionTo("relative",{top:C,left:0}).top-y.margins.top),A&&(D.position.top=y._convertPositionTo("relative",{top:J-y.helperProportions.height,left:0}).top-y.margins.top),z&&(D.position.left=y._convertPositionTo("relative",{top:0,left:x}).left-y.margins.left),L&&(D.position.left=y._convertPositionTo("relative",{top:0,left:E-y.helperProportions.width}).left-y.margins.left)),!y.snapElements[q].snapping&&(w||A||z||L||I)&&y.options.snap.snap&&y.options.snap.snap.call(y.element,H,a.extend(y._uiHash(),{snapItem:y.snapElements[q].item})),y.snapElements[q].snapping=w||A||z||L||I):(y.snapElements[q].snapping&&y.options.snap.release&&y.options.snap.release.call(y.element,H,a.extend(y._uiHash(),{snapItem:y.snapElements[q].item})),y.snapElements[q].snapping=!1)}}}),a.ui.plugin.add("draggable","stack",{start:function(){var d,b=this.data("ui-draggable").options,c=a.makeArray(a(b.stack)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||0)-(parseInt(a(f).css("zIndex"),10)||0)});c.length&&(d=parseInt(a(c[0]).css("zIndex"),10)||0,a(c).each(function(e){a(this).css("zIndex",d+e)}),this.css("zIndex",d+c.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(d,b){var c=a(b.helper),f=a(this).data("ui-draggable").options;c.css("zIndex")&&(f._zIndex=c.css("zIndex")),c.css("zIndex",f.zIndex)},stop:function(d,b){var c=a(this).data("ui-draggable").options;c._zIndex&&a(b.helper).css("zIndex",c._zIndex)}})}(jQuery),function(a){function b(d,f,c){return d>f&&f+c>d}a.widget("ui.droppable",{version:"1.10.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var d=this.options,c=d.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(c)?c:function(e){return e.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[],a.ui.ddmanager.droppables[d.scope].push(this),d.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var d=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>d;d++){c[d]===this&&c.splice(d,1)}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,c){"accept"===d&&(this.accept=a.isFunction(c)?c:function(e){return e.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",d,this.ui(c))},_deactivate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",d,this.ui(c))},_over:function(d){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",d,this.ui(c)))},_out:function(d){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",d,this.ui(c)))},_drop:function(f,c){var d=c||a.ui.ddmanager.current,g=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var h=a.data(this,"ui-droppable");return h.options.greedy&&!h.options.disabled&&h.options.scope===d.options.scope&&h.accept.call(h.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(h,{offset:h.element.offset()}),h.options.tolerance)?(g=!0,!1):undefined}),g?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",f,this.ui(d)),this.element):!1):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}}),a.ui.intersect=function(A,q,B){if(!q.offset){return !1}var k,g,y=(A.positionAbs||A.position.absolute).left,e=y+A.helperProportions.width,v=(A.positionAbs||A.position.absolute).top,m=v+A.helperProportions.height,x=q.offset.left,z=x+q.proportions.width,w=q.offset.top,f=w+q.proportions.height;switch(B){case"fit":return y>=x&&z>=e&&v>=w&&f>=m;case"intersect":return y+A.helperProportions.width/2>x&&z>e-A.helperProportions.width/2&&v+A.helperProportions.height/2>w&&f>m-A.helperProportions.height/2;case"pointer":return k=(A.positionAbs||A.position.absolute).left+(A.clickOffset||A.offset.click).left,g=(A.positionAbs||A.position.absolute).top+(A.clickOffset||A.offset.click).top,b(g,w,q.proportions.height)&&b(k,x,q.proportions.width);case"touch":return(v>=w&&f>=v||m>=w&&f>=m||w>v&&m>f)&&(y>=x&&z>=y||e>=x&&z>=e||x>y&&e>z);default:return !1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(h,d){var f,l,k=a.ui.ddmanager.droppables[h.options.scope]||[],c=d?d.type:null,g=(h.currentItem||h.element).find(":data(ui-droppable)").addBack();a:for(f=0;k.length>f;f++){if(!(k[f].options.disabled||h&&!k[f].accept.call(k[f].element[0],h.currentItem||h.element))){for(l=0;g.length>l;l++){if(g[l]===k[f].element[0]){k[f].proportions.height=0;continue a}}k[f].visible="none"!==k[f].element.css("display"),k[f].visible&&("mousedown"===c&&k[f]._activate.call(k[f],d),k[f].offset=k[f].element.offset(),k[f].proportions={width:k[f].element[0].offsetWidth,height:k[f].element[0].offsetHeight})}}},drop:function(f,c){var d=!1;return a.each((a.ui.ddmanager.droppables[f.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(f,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],f.currentItem||f.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(d,c){d.element.parentsUntil("body").bind("scroll.droppable",function(){d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c)})},drag:function(d,c){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,c),a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var f,k,h,e=a.ui.intersect(d,this,this.options.tolerance),g=!e&&this.isover?"isout":e&&!this.isover?"isover":null;g&&(this.options.greedy&&(k=this.options.scope,h=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===k}),h.length&&(f=a.data(h[0],"ui-droppable"),f.greedyChild="isover"===g)),f&&"isover"===g&&(f.isover=!1,f.isout=!0,f._out.call(f,c)),this[g]=!0,this["isout"===g?"isover":"isout"]=!1,this["isover"===g?"_over":"_out"].call(this,c),f&&"isout"===g&&(f.isout=!1,f.isover=!0,f._over.call(f,c)))}})},dragStop:function(d,c){d.element.parentsUntil("body").unbind("scroll.droppable"),d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c)}}}(jQuery),function(b){function c(d){return parseInt(d,10)||0}function a(d){return !isNaN(parseInt(d,10))}b.widget("ui.resizable",b.ui.mouse,{version:"1.10.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var k,f,g,m,l,d=this,h=this.options;if(this.element.addClass("ui-resizable"),b.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(b("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),k=this.handles.split(","),this.handles={},f=0;k.length>f;f++){g=b.trim(k[f]),l="ui-resizable-"+g,m=b("<div class='ui-resizable-handle "+l+"'></div>"),m.css({zIndex:h.zIndex}),"se"===g&&m.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(m)}}this._renderAxis=function(u){var q,r,w,v;u=u||this.element;for(q in this.handles){this.handles[q].constructor===String&&(this.handles[q]=b(this.handles[q],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=b(this.handles[q],this.element),v=/sw|ne|nw|se|n|s/.test(q)?r.outerHeight():r.outerWidth(),w=["padding",/ne|nw|n/.test(q)?"Top":/se|sw|s/.test(q)?"Bottom":/^e$/.test(q)?"Right":"Left"].join(""),u.css(w,v),this._proportionallyResize()),b(this.handles[q]).length}},this._renderAxis(this.element),this._handles=b(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){d.resizing||(this.className&&(m=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),d.axis=m&&m[1]?m[1]:"se")}),h.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(b(this).removeClass("ui-resizable-autohide"),d._handles.show())}).mouseleave(function(){h.disabled||d.resizing||(b(this).addClass("ui-resizable-autohide"),d._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var f,d=function(g){b(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(d(this.element),f=this.element,this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f),f.remove()),this.originalElement.css("resize",this.originalResizeStyle),d(this.originalElement),this},_mouseCapture:function(g){var d,f,h=!1;for(d in this.handles){f=b(this.handles[d])[0],(f===g.target||b.contains(f,g.target))&&(h=!0)}return !this.options.disabled&&h},_mouseStart:function(e){var g,m,l,d=this.options,k=this.element.position(),f=this.element;return this.resizing=!0,/absolute/.test(f.css("position"))?f.css({position:"absolute",top:f.css("top"),left:f.css("left")}):f.is(".ui-draggable")&&f.css({position:"absolute",top:k.top,left:k.left}),this._renderProxy(),g=c(this.helper.css("left")),m=c(this.helper.css("top")),d.containment&&(g+=b(d.containment).scrollLeft()||0,m+=b(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:m},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:m},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof d.aspectRatio?d.aspectRatio:this.originalSize.width/this.originalSize.height||1,l=b(".ui-resizable-"+this.axis).css("cursor"),b("body").css("cursor","auto"===l?this.axis+"-resize":l),f.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(x){var v,C=this.helper,m={},k=this.originalMousePosition,A=this.axis,f=this.position.top,w=this.position.left,q=this.size.width,z=this.size.height,B=x.pageX-k.left||0,y=x.pageY-k.top||0,g=this._change[A];return g?(v=g.apply(this,[x,B,y]),this._updateVirtualBoundaries(x.shiftKey),(this._aspectRatio||x.shiftKey)&&(v=this._updateRatio(v,x)),v=this._respectSize(v,x),this._updateCache(v),this._propagate("resize",x),this.position.top!==f&&(m.top=this.position.top+"px"),this.position.left!==w&&(m.left=this.position.left+"px"),this.size.width!==q&&(m.width=this.size.width+"px"),this.size.height!==z&&(m.height=this.size.height+"px"),C.css(m),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),b.isEmptyObject(m)||this._trigger("resize",x,this.ui()),!1):!1},_mouseStop:function(u){this.resizing=!1;var m,x,g,f,w,d,q,k=this.options,v=this;return this._helper&&(m=this._proportionallyResizeElements,x=m.length&&/textarea/i.test(m[0].nodeName),g=x&&b.ui.hasScroll(m[0],"left")?0:v.sizeDiff.height,f=x?0:v.sizeDiff.width,w={width:v.helper.width()-f,height:v.helper.height()-g},d=parseInt(v.element.css("left"),10)+(v.position.left-v.originalPosition.left)||null,q=parseInt(v.element.css("top"),10)+(v.position.top-v.originalPosition.top)||null,k.animate||this.element.css(b.extend(w,{top:q,left:d})),v.helper.height(v.size.height),v.helper.width(v.size.width),this._helper&&!k.animate&&this._proportionallyResize()),b("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",u),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(f){var k,g,m,l,d,h=this.options;d={minWidth:a(h.minWidth)?h.minWidth:0,maxWidth:a(h.maxWidth)?h.maxWidth:1/0,minHeight:a(h.minHeight)?h.minHeight:0,maxHeight:a(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||f)&&(k=d.minHeight*this.aspectRatio,m=d.minWidth/this.aspectRatio,g=d.maxHeight*this.aspectRatio,l=d.maxWidth/this.aspectRatio,k>d.minWidth&&(d.minWidth=k),m>d.minHeight&&(d.minHeight=m),d.maxWidth>g&&(d.maxWidth=g),d.maxHeight>l&&(d.maxHeight=l)),this._vBoundaries=d},_updateCache:function(d){this.offset=this.helper.offset(),a(d.left)&&(this.position.left=d.left),a(d.top)&&(this.position.top=d.top),a(d.height)&&(this.size.height=d.height),a(d.width)&&(this.size.width=d.width)},_updateRatio:function(d){var g=this.position,f=this.size,h=this.axis;return a(d.height)?d.width=d.height*this.aspectRatio:a(d.width)&&(d.height=d.width/this.aspectRatio),"sw"===h&&(d.left=g.left+(f.width-d.width),d.top=null),"nw"===h&&(d.top=g.top+(f.height-d.height),d.left=g.left+(f.width-d.width)),d},_respectSize:function(y){var q=this._vBoundaries,z=this.axis,g=a(y.width)&&q.maxWidth&&q.maxWidth<y.width,f=a(y.height)&&q.maxHeight&&q.maxHeight<y.height,w=a(y.width)&&q.minWidth&&q.minWidth>y.width,d=a(y.height)&&q.minHeight&&q.minHeight>y.height,m=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,v=/sw|nw|w/.test(z),x=/nw|ne|n/.test(z);return w&&(y.width=q.minWidth),d&&(y.height=q.minHeight),g&&(y.width=q.maxWidth),f&&(y.height=q.maxHeight),w&&v&&(y.left=m-q.minWidth),g&&v&&(y.left=m-q.maxWidth),d&&x&&(y.top=k-q.minHeight),f&&x&&(y.top=k-q.maxHeight),y.width||y.height||y.left||!y.top?y.width||y.height||y.top||!y.left||(y.left=null):y.top=null,y},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var f,h,d,g,l,k=this.helper||this.element;for(f=0;this._proportionallyResizeElements.length>f;f++){if(l=this._proportionallyResizeElements[f],!this.borderDif){for(this.borderDif=[],d=[l.css("borderTopWidth"),l.css("borderRightWidth"),l.css("borderBottomWidth"),l.css("borderLeftWidth")],g=[l.css("paddingTop"),l.css("paddingRight"),l.css("paddingBottom"),l.css("paddingLeft")],h=0;d.length>h;h++){this.borderDif[h]=(parseInt(d[h],10)||0)+(parseInt(g[h],10)||0)}}l.css({height:k.height()-this.borderDif[0]-this.borderDif[2]||0,width:k.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var f=this.element,d=this.options;this.elementOffset=f.offset(),this._helper?(this.helper=this.helper||b("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++d.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(d,f){return{width:this.originalSize.width+f}},w:function(f,h){var d=this.originalSize,g=this.originalPosition;return{left:g.left+h,width:d.width-h}},n:function(f,h,d){var g=this.originalSize,k=this.originalPosition;return{top:k.top+d,height:g.height-d}},s:function(f,g,d){return{height:this.originalSize.height+d}},se:function(g,d,f){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,d,f]))},sw:function(g,d,f){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,d,f]))},ne:function(g,d,f){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,d,f]))},nw:function(g,d,f){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,d,f]))}},_propagate:function(f,d){b.ui.plugin.call(this,f,[d,this.ui()]),"resize"!==f&&this._trigger(f,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),b.ui.plugin.add("resizable","animate",{stop:function(u){var m=b(this).data("ui-resizable"),x=m.options,g=m._proportionallyResizeElements,f=g.length&&/textarea/i.test(g[0].nodeName),w=f&&b.ui.hasScroll(g[0],"left")?0:m.sizeDiff.height,d=f?0:m.sizeDiff.width,q={width:m.size.width-d,height:m.size.height-w},k=parseInt(m.element.css("left"),10)+(m.position.left-m.originalPosition.left)||null,v=parseInt(m.element.css("top"),10)+(m.position.top-m.originalPosition.top)||null;m.element.animate(b.extend(q,v&&k?{top:v,left:k}:{}),{duration:x.animateDuration,easing:x.animateEasing,step:function(){var e={width:parseInt(m.element.css("width"),10),height:parseInt(m.element.css("height"),10),top:parseInt(m.element.css("top"),10),left:parseInt(m.element.css("left"),10)};g&&g.length&&b(g[0]).css({width:e.width,height:e.height}),m._updateCache(e),m._propagate("resize",u)}})}}),b.ui.plugin.add("resizable","containment",{start:function(){var q,A,k,g,y,e,v,m=b(this).data("ui-resizable"),x=m.options,z=m.element,w=x.containment,f=w instanceof b?w.get(0):/parent/.test(w)?z.parent().get(0):w;f&&(m.containerElement=b(f),/document/.test(w)||w===document?(m.containerOffset={left:0,top:0},m.containerPosition={left:0,top:0},m.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight}):(q=b(f),A=[],b(["Top","Right","Left","Bottom"]).each(function(d,h){A[d]=c(q.css("padding"+h))}),m.containerOffset=q.offset(),m.containerPosition=q.position(),m.containerSize={height:q.innerHeight()-A[3],width:q.innerWidth()-A[1]},k=m.containerOffset,g=m.containerSize.height,y=m.containerSize.width,e=b.ui.hasScroll(f,"left")?f.scrollWidth:y,v=b.ui.hasScroll(f)?f.scrollHeight:g,m.parentData={element:f,left:k.left,top:k.top,width:e,height:v}))},resize:function(w){var q,B,k,g,z=b(this).data("ui-resizable"),f=z.options,v=z.containerOffset,m=z.position,y=z._aspectRatio||w.shiftKey,A={top:0,left:0},x=z.containerElement;x[0]!==document&&/static/.test(x.css("position"))&&(A=v),m.left<(z._helper?v.left:0)&&(z.size.width=z.size.width+(z._helper?z.position.left-v.left:z.position.left-A.left),y&&(z.size.height=z.size.width/z.aspectRatio),z.position.left=f.helper?v.left:0),m.top<(z._helper?v.top:0)&&(z.size.height=z.size.height+(z._helper?z.position.top-v.top:z.position.top),y&&(z.size.width=z.size.height*z.aspectRatio),z.position.top=z._helper?v.top:0),z.offset.left=z.parentData.left+z.position.left,z.offset.top=z.parentData.top+z.position.top,q=Math.abs((z._helper?z.offset.left-A.left:z.offset.left-A.left)+z.sizeDiff.width),B=Math.abs((z._helper?z.offset.top-A.top:z.offset.top-v.top)+z.sizeDiff.height),k=z.containerElement.get(0)===z.element.parent().get(0),g=/relative|absolute/.test(z.containerElement.css("position")),k&&g&&(q-=z.parentData.left),q+z.size.width>=z.parentData.width&&(z.size.width=z.parentData.width-q,y&&(z.size.height=z.size.width/z.aspectRatio)),B+z.size.height>=z.parentData.height&&(z.size.height=z.parentData.height-B,y&&(z.size.width=z.size.height*z.aspectRatio))},stop:function(){var u=b(this).data("ui-resizable"),m=u.options,w=u.containerOffset,g=u.containerPosition,f=u.containerElement,v=b(u.helper),d=v.offset(),q=v.outerWidth()-u.sizeDiff.width,k=v.outerHeight()-u.sizeDiff.height;u._helper&&!m.animate&&/relative/.test(f.css("position"))&&b(this).css({left:d.left-g.left-w.left,width:q,height:k}),u._helper&&!m.animate&&/static/.test(f.css("position"))&&b(this).css({left:d.left-g.left-w.left,width:q,height:k})}}),b.ui.plugin.add("resizable","alsoResize",{start:function(){var g=b(this).data("ui-resizable"),d=g.options,f=function(h){b(h).each(function(){var k=b(this);k.data("ui-resizable-alsoresize",{width:parseInt(k.width(),10),height:parseInt(k.height(),10),left:parseInt(k.css("left"),10),top:parseInt(k.css("top"),10)})})};"object"!=typeof d.alsoResize||d.alsoResize.parentNode?f(d.alsoResize):d.alsoResize.length?(d.alsoResize=d.alsoResize[0],f(d.alsoResize)):b.each(d.alsoResize,function(e){f(e)})},resize:function(m,f){var k=b(this).data("ui-resizable"),u=k.options,q=k.originalSize,d=k.originalPosition,l={height:k.size.height-q.height||0,width:k.size.width-q.width||0,top:k.position.top-d.top||0,left:k.position.left-d.left||0},g=function(n,h){b(n).each(function(){var s=b(this),w=b(this).data("ui-resizable-alsoresize"),v={},r=h&&h.length?h:s.parents(f.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(r,function(x,y){var o=(w[y]||0)+(l[y]||0);o&&o>=0&&(v[y]=o||null)}),s.css(v)})};"object"!=typeof u.alsoResize||u.alsoResize.nodeType?g(u.alsoResize):b.each(u.alsoResize,function(h,n){g(h,n)})},stop:function(){b(this).removeData("resizable-alsoresize")}}),b.ui.plugin.add("resizable","ghost",{start:function(){var g=b(this).data("ui-resizable"),d=g.options,f=g.size;g.ghost=g.originalElement.clone(),g.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:""),g.ghost.appendTo(g.helper)},resize:function(){var d=b(this).data("ui-resizable");d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=b(this).data("ui-resizable");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),b.ui.plugin.add("resizable","grid",{resize:function(){var E=b(this).data("ui-resizable"),A=E.options,K=E.size,x=E.originalSize,w=E.originalPosition,H=E.axis,k="number"==typeof A.grid?[A.grid,A.grid]:A.grid,B=k[0]||1,z=k[1]||1,G=Math.round((K.width-x.width)/B)*B,J=Math.round((K.height-x.height)/z)*z,F=x.width+G,q=x.height+J,D=A.maxWidth&&F>A.maxWidth,C=A.maxHeight&&q>A.maxHeight,y=A.minWidth&&A.minWidth>F,I=A.minHeight&&A.minHeight>q;A.grid=k,y&&(F+=B),I&&(q+=z),D&&(F-=B),C&&(q-=z),/^(se|s|e)$/.test(H)?(E.size.width=F,E.size.height=q):/^(ne)$/.test(H)?(E.size.width=F,E.size.height=q,E.position.top=w.top-J):/^(sw)$/.test(H)?(E.size.width=F,E.size.height=q,E.position.left=w.left-G):(E.size.width=F,E.size.height=q,E.position.top=w.top-J,E.position.left=w.left-G)}})}(jQuery),function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,b=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var f=a(this),d=f.offset();a.data(this,"selectable-item",{element:this,$element:f,left:d.left,top:d.top,right:d.left+f.outerWidth(),bottom:d.top+f.outerHeight(),startselected:!1,selected:f.hasClass("ui-selected"),selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(d){var b=this,c=this.options;this.opos=[d.pageX,d.pageY],this.options.disabled||(this.selectees=a(c.filter,this.element[0]),this._trigger("start",d),a(c.appendTo).append(this.helper),this.helper.css({left:d.pageX,top:d.pageY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=a.data(this,"selectable-item");e.startselected=!0,d.metaKey||d.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,b._trigger("unselecting",d,{unselecting:e.element}))}),a(d.target).parents().addBack().each(function(){var e,f=a.data(this,"selectable-item");return f?(e=!d.metaKey&&!d.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),f.unselecting=!e,f.selecting=e,f.selected=e,e?b._trigger("selecting",d,{selecting:f.element}):b._trigger("unselecting",d,{unselecting:f.element}),!1):undefined}))},_mouseDrag:function(k){if(this.dragged=!0,!this.options.disabled){var c,f=this,m=this.options,l=this.opos[0],b=this.opos[1],g=k.pageX,d=k.pageY;return l>g&&(c=g,g=l,l=c),b>d&&(c=d,d=b,b=c),this.helper.css({left:l,top:b,width:g-l,height:d-b}),this.selectees.each(function(){var h=a.data(this,"selectable-item"),e=!1;h&&h.element!==f.element[0]&&("touch"===m.tolerance?e=!(h.left>g||l>h.right||h.top>d||b>h.bottom):"fit"===m.tolerance&&(e=h.left>l&&g>h.right&&h.top>b&&d>h.bottom),e?(h.selected&&(h.$element.removeClass("ui-selected"),h.selected=!1),h.unselecting&&(h.$element.removeClass("ui-unselecting"),h.unselecting=!1),h.selecting||(h.$element.addClass("ui-selecting"),h.selecting=!0,f._trigger("selecting",k,{selecting:h.element}))):(h.selecting&&((k.metaKey||k.ctrlKey)&&h.startselected?(h.$element.removeClass("ui-selecting"),h.selecting=!1,h.$element.addClass("ui-selected"),h.selected=!0):(h.$element.removeClass("ui-selecting"),h.selecting=!1,h.startselected&&(h.$element.addClass("ui-unselecting"),h.unselecting=!0),f._trigger("unselecting",k,{unselecting:h.element}))),h.selected&&(k.metaKey||k.ctrlKey||h.startselected||(h.$element.removeClass("ui-selected"),h.selected=!1,h.$element.addClass("ui-unselecting"),h.unselecting=!0,f._trigger("unselecting",k,{unselecting:h.element})))))}),!1}},_mouseStop:function(c){var b=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,b._trigger("unselected",c,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,b._trigger("selected",c,{selected:d.element})}),this._trigger("stop",c),this.helper.remove(),!1}})}(jQuery),function(b){function c(f,g,d){return f>g&&g+d>f}function a(d){return/left|right/.test(d.css("float"))||/inline|table-cell/.test(d.css("display"))}b.widget("ui.sortable",b.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var d=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===d.axis||a(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var d=this.items.length-1;d>=0;d--){this.items[d].item.removeData(this.widgetName+"-item")}return this},_setOption:function(f,d){"disabled"===f?(this.options[f]=d,this.widget().toggleClass("ui-sortable-disabled",!!d)):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(g,d){var f=null,k=!1,h=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(g),b(g.target).parents().each(function(){return b.data(this,h.widgetName+"-item")===h?(f=b(this),!1):undefined}),b.data(g.target,h.widgetName+"-item")===h&&(f=b(g.target)),f?!this.options.handle||d||(b(this.options.handle,f).find("*").addBack().each(function(){this===g.target&&(k=!0)}),k)?(this.currentItem=f,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(h,f,g){var l,k,d=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(h),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:h.pageX-this.offset.left,top:h.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(h),this.originalPageX=h.pageX,this.originalPageY=h.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),d.containment&&this._setContainment(),d.cursor&&"auto"!==d.cursor&&(k=this.document.find("body"),this.storedCursor=k.css("cursor"),k.css("cursor",d.cursor),this.storedStylesheet=b("<style>*{ cursor: "+d.cursor+" !important; }</style>").appendTo(k)),d.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",d.opacity)),d.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",d.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",h,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!g){for(l=this.containers.length-1;l>=0;l--){this.containers[l]._trigger("activate",h,this._uiHash(this))}}return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,h),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(h),!0},_mouseDrag:function(k){var f,g,m,l,d=this.options,h=!1;for(this.position=this._generatePosition(k),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-k.pageY<d.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+d.scrollSpeed:k.pageY-this.overflowOffset.top<d.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-d.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-k.pageX<d.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+d.scrollSpeed:k.pageX-this.overflowOffset.left<d.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-d.scrollSpeed)):(k.pageY-b(document).scrollTop()<d.scrollSensitivity?h=b(document).scrollTop(b(document).scrollTop()-d.scrollSpeed):b(window).height()-(k.pageY-b(document).scrollTop())<d.scrollSensitivity&&(h=b(document).scrollTop(b(document).scrollTop()+d.scrollSpeed)),k.pageX-b(document).scrollLeft()<d.scrollSensitivity?h=b(document).scrollLeft(b(document).scrollLeft()-d.scrollSpeed):b(window).width()-(k.pageX-b(document).scrollLeft())<d.scrollSensitivity&&(h=b(document).scrollLeft(b(document).scrollLeft()+d.scrollSpeed))),h!==!1&&b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,k)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),f=this.items.length-1;f>=0;f--){if(g=this.items[f],m=g.item[0],l=this._intersectsWithPointer(g),l&&g.instance===this.currentContainer&&m!==this.currentItem[0]&&this.placeholder[1===l?"next":"prev"]()[0]!==m&&!b.contains(this.placeholder[0],m)&&("semi-dynamic"===this.options.type?!b.contains(this.element[0],m):!0)){if(this.direction=1===l?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(g)){break}this._rearrange(k,g),this._trigger("change",k,this._uiHash());break}}return this._contactContainers(k),b.ui.ddmanager&&b.ui.ddmanager.drag(this,k),this._trigger("sort",k,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(h,f){if(h){if(b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,h),this.options.revert){var g=this,l=this.placeholder.offset(),k=this.options.axis,d={};k&&"x"!==k||(d.left=l.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),k&&"y"!==k||(d.top=l.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,b(this.helper).animate(d,parseInt(this.options.revert,10)||500,function(){g._clear(h)})}else{this._clear(h,f)}return !1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("deactivate",null,this._uiHash(this)),this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",null,this._uiHash(this)),this.containers[d].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(g){var d=this._getItemsAsjQuery(g&&g.connected),f=[];return g=g||{},b(d).each(function(){var e=(b(g.item||this).attr(g.attribute||"id")||"").match(g.expression||/(.+)[\-=_](.+)/);e&&f.push((g.key||e[1]+"[]")+"="+(g.key&&g.expression?e[1]:e[2]))}),!f.length&&g.key&&f.push(g.key+"="),f.join("&")},toArray:function(g){var d=this._getItemsAsjQuery(g&&g.connected),f=[];return g=g||{},d.each(function(){f.push(b(g.item||this).attr(g.attribute||"id")||"")}),f},_intersectsWith:function(z){var v=this.positionAbs.left,m=v+this.helperProportions.width,A=this.positionAbs.top,g=A+this.helperProportions.height,f=z.left,x=f+z.width,d=z.top,q=d+z.height,k=this.offset.click.top,w=this.offset.click.left,y=A+k>d&&q>A+k&&v+w>f&&x>v+w;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>z[this.floating?"width":"height"]?y:v+this.helperProportions.width/2>f&&x>m-this.helperProportions.width/2&&A+this.helperProportions.height/2>d&&q>g-this.helperProportions.height/2},_intersectsWithPointer:function(f){var e="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,f.top,f.height),g="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,f.left,f.width),k=e&&g,h=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return k?this.floating?d&&"right"===d||"down"===h?2:1:h&&("down"===h?2:1):!1},_intersectsWithSides:function(e){var d=c(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),f=c(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),h=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?"right"===g&&f||"left"===g&&!f:h&&("down"===h&&d||"up"===h&&!d)},_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return 0!==d&&(d>0?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return 0!==d&&(d>0?"right":"left")},refresh:function(d){return this._refreshItems(d),this.refreshPositions(),this},_connectWith:function(){var d=this.options;return d.connectWith.constructor===String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(m){var f,k,u,q,d=[],l=[],g=this._connectWith();if(g&&m){for(f=g.length-1;f>=0;f--){for(u=b(g[f]),k=u.length-1;k>=0;k--){q=b.data(u[k],this.widgetFullName),q&&q!==this&&!q.options.disabled&&l.push([b.isFunction(q.options.items)?q.options.items.call(q.element):b(q.options.items,q.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),q])}}}for(l.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),f=l.length-1;f>=0;f--){l[f][0].each(function(){d.push(this)})}return b(d)},_removeCurrentsFromItems:function(){var d=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(f){for(var e=0;d.length>e;e++){if(d[e]===f.item[0]){return !1}}return !0})},_refreshItems:function(w){this.items=[],this.containers=[this];var q,B,k,g,z,f,v,m,y=this.items,A=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],w,{item:this.currentItem}):b(this.options.items,this.element),this]],x=this._connectWith();if(x&&this.ready){for(q=x.length-1;q>=0;q--){for(k=b(x[q]),B=k.length-1;B>=0;B--){g=b.data(k[B],this.widgetFullName),g&&g!==this&&!g.options.disabled&&(A.push([b.isFunction(g.options.items)?g.options.items.call(g.element[0],w,{item:this.currentItem}):b(g.options.items,g.element),g]),this.containers.push(g))}}}for(q=A.length-1;q>=0;q--){for(z=A[q][1],f=A[q][0],B=0,m=f.length;m>B;B++){v=b(f[B]),v.data(this.widgetName+"-item",z),y.push({item:v,instance:z,width:0,height:0,left:0,top:0})}}},refreshPositions:function(g){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var d,f,k,h;for(d=this.items.length-1;d>=0;d--){f=this.items[d],f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(k=this.options.toleranceElement?b(this.options.toleranceElement,f.item):f.item,g||(f.width=k.outerWidth(),f.height=k.outerHeight()),h=k.offset(),f.left=h.left,f.top=h.top)}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(d=this.containers.length-1;d>=0;d--){h=this.containers[d].element.offset(),this.containers[d].containerCache.left=h.left,this.containers[d].containerCache.top=h.top,this.containers[d].containerCache.width=this.containers[d].element.outerWidth(),this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}return this},_createPlaceholder:function(g){g=g||this;var d,f=g.options;f.placeholder&&f.placeholder.constructor!==String||(d=f.placeholder,f.placeholder={element:function(){var e=g.currentItem[0].nodeName.toLowerCase(),h=b(g.document[0].createElement(e)).addClass(d||g.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?h.append("<td colspan='99'>&#160;</td>"):"img"===e&&h.attr("src",g.currentItem.attr("src")),d||h.css("visibility","hidden"),h},update:function(e,h){(!d||f.forcePlaceholderSize)&&(h.height()||h.height(g.currentItem.innerHeight()-parseInt(g.currentItem.css("paddingTop")||0,10)-parseInt(g.currentItem.css("paddingBottom")||0,10)),h.width()||h.width(g.currentItem.innerWidth()-parseInt(g.currentItem.css("paddingLeft")||0,10)-parseInt(g.currentItem.css("paddingRight")||0,10)))}}),g.placeholder=b(f.placeholder.element.call(g.element,g.currentItem)),g.currentItem.after(g.placeholder),f.placeholder.update(g,g.placeholder)},_contactContainers:function(D){var q,m,B,e,w,v,A,C,z,k,y=null,x=null;for(q=this.containers.length-1;q>=0;q--){if(!b.contains(this.currentItem[0],this.containers[q].element[0])){if(this._intersectsWith(this.containers[q].containerCache)){if(y&&b.contains(this.containers[q].element[0],y.element[0])){continue}y=this.containers[q],x=q}else{this.containers[q].containerCache.over&&(this.containers[q]._trigger("out",D,this._uiHash(this)),this.containers[q].containerCache.over=0)}}}if(y){if(1===this.containers.length){this.containers[x].containerCache.over||(this.containers[x]._trigger("over",D,this._uiHash(this)),this.containers[x].containerCache.over=1)}else{for(B=10000,e=null,k=y.floating||a(this.currentItem),w=k?"left":"top",v=k?"width":"height",A=this.positionAbs[w]+this.offset.click[w],m=this.items.length-1;m>=0;m--){b.contains(this.containers[x].element[0],this.items[m].item[0])&&this.items[m].item[0]!==this.currentItem[0]&&(!k||c(this.positionAbs.top+this.offset.click.top,this.items[m].top,this.items[m].height))&&(C=this.items[m].item.offset()[w],z=!1,Math.abs(C-A)>Math.abs(C+this.items[m][v]-A)&&(z=!0,C+=this.items[m][v]),B>Math.abs(C-A)&&(B=Math.abs(C-A),e=this.items[m],this.direction=z?"up":"down"))}if(!e&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[x]){return}e?this._rearrange(D,e,null,!0):this._rearrange(D,null,this.containers[x].element,!0),this._trigger("change",D,this._uiHash()),this.containers[x]._trigger("change",D,this._uiHash(this)),this.currentContainer=this.containers[x],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[x]._trigger("over",D,this._uiHash(this)),this.containers[x].containerCache.over=1}}},_createHelper:function(g){var d=this.options,f=b.isFunction(d.helper)?b(d.helper.apply(this.element[0],[g,this.currentItem])):"clone"===d.helper?this.currentItem.clone():this.currentItem;return f.parents("body").length||b("parent"!==d.appendTo?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(f[0]),f[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!f[0].style.width||d.forceHelperSize)&&f.width(this.currentItem.width()),(!f[0].style.height||d.forceHelperSize)&&f.height(this.currentItem.height()),f},_adjustOffsetFromHelper:function(d){"string"==typeof d&&(d=d.split(" ")),b.isArray(d)&&(d={left:+d[0],top:+d[1]||0}),"left" in d&&(this.offset.click.left=d.left+this.margins.left),"right" in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left),"top" in d&&(this.offset.click.top=d.top+this.margins.top),"bottom" in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(d={top:0,left:0}),{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g,d,f,h=this.options;"parent"===h.containment&&(h.containment=this.helper[0].parentNode),("document"===h.containment||"window"===h.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b("document"===h.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"===h.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(h.containment)||(g=b(h.containment)[0],d=b(h.containment).offset(),f="hidden"!==b(g).css("overflow"),this.containment=[d.left+(parseInt(b(g).css("borderLeftWidth"),10)||0)+(parseInt(b(g).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(b(g).css("borderTopWidth"),10)||0)+(parseInt(b(g).css("paddingTop"),10)||0)-this.margins.top,d.left+(f?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(b(g).css("borderLeftWidth"),10)||0)-(parseInt(b(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(f?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(b(g).css("borderTopWidth"),10)||0)-(parseInt(b(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(g,d){d||(d=this.position);var f="absolute"===g?1:-1,k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(k[0].tagName);return{top:d.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:k.scrollTop())*f,left:d.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:k.scrollLeft())*f}},_generatePosition:function(m){var f,k,u=this.options,q=m.pageX,d=m.pageY,l="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(l[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(m.pageX-this.offset.click.left<this.containment[0]&&(q=this.containment[0]+this.offset.click.left),m.pageY-this.offset.click.top<this.containment[1]&&(d=this.containment[1]+this.offset.click.top),m.pageX-this.offset.click.left>this.containment[2]&&(q=this.containment[2]+this.offset.click.left),m.pageY-this.offset.click.top>this.containment[3]&&(d=this.containment[3]+this.offset.click.top)),u.grid&&(f=this.originalPageY+Math.round((d-this.originalPageY)/u.grid[1])*u.grid[1],d=this.containment?f-this.offset.click.top>=this.containment[1]&&f-this.offset.click.top<=this.containment[3]?f:f-this.offset.click.top>=this.containment[1]?f-u.grid[1]:f+u.grid[1]:f,k=this.originalPageX+Math.round((q-this.originalPageX)/u.grid[0])*u.grid[0],q=this.containment?k-this.offset.click.left>=this.containment[0]&&k-this.offset.click.left<=this.containment[2]?k:k-this.offset.click.left>=this.containment[0]?k-u.grid[0]:k+u.grid[0]:k)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:l.scrollTop()),left:q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:l.scrollLeft())}},_rearrange:function(f,h,d,g){d?d[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?h.item[0]:h.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var k=this.counter;this._delay(function(){k===this.counter&&this.refreshPositions(!g)})},_clear:function(f,h){this.reverting=!1;var d,g=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS){("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="")}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(this.fromOutside&&!h&&g.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||h||g.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(h||(g.push(function(e){this._trigger("remove",e,this._uiHash())}),g.push(function(e){return function(k){e._trigger("receive",k,this._uiHash(this))}}.call(this,this.currentContainer)),g.push(function(e){return function(k){e._trigger("update",k,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--){h||g.push(function(e){return function(k){e._trigger("deactivate",k,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over&&(g.push(function(e){return function(k){e._trigger("out",k,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over=0)}if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!h){for(this._trigger("beforeStop",f,this._uiHash()),d=0;g.length>d;d++){g[d].call(this,f)}this._trigger("stop",f,this._uiHash())}return this.fromOutside=!1,!1}if(h||this._trigger("beforeStop",f,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!h){for(d=0;g.length>d;d++){g[d].call(this,f)}this._trigger("stop",f,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){b.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(f){var d=f||this;return{helper:d.helper,placeholder:d.placeholder||b([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:f?f.element:null}}})}(jQuery),function(b,c){var a="ui-effects-";b.effects={effect:{}},function(E,z){function w(f,l,d){var h=D[l.type]||{};return null==f?d||!l.def?null:l.def:(f=h.floor?~~f:parseFloat(f),isNaN(f)?l.def:h.mod?(f+h.mod)%h.mod:0>f?0:f>h.max?h.max:f)}function F(d){var e=v(),f=e._rgba=[];return d=d.toLowerCase(),y(x,function(u,I){var s,H=I.re.exec(d),G=H&&I.parse(H),n=I.space||"rgba";return G?(s=e[n](G),e[B[n].cache]=s[B[n].cache],f=e._rgba=s._rgba,!1):z}),f.length?("0,0,0,0"===f.join()&&E.extend(f,m.transparent),e):m[d]}function q(f,h,d){return d=(d+1)%1,1>6*d?f+6*(h-f)*d:1>2*d?h:2>3*d?f+6*(h-f)*(2/3-d):f}var m,C="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",g=/^([\-+])=\s*(\d+\.?\d*)/,x=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[d[1],d[2],d[3],d[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[2.55*d[1],2.55*d[2],2.55*d[3],d[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(d){return[d[1],d[2]/100,d[3]/100,d[4]]}}],v=E.Color=function(h,d,f,l){return new E.Color.fn.parse(h,d,f,l)},B={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},D={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},A=v.support={},k=E("<p>")[0],y=E.each;k.style.cssText="background-color:rgba(1,1,1,.5)",A.rgba=k.style.backgroundColor.indexOf("rgba")>-1,y(B,function(d,f){f.cache="_"+d,f.props.alpha={idx:3,type:"percent",def:1}}),v.fn=E.extend(v.prototype,{parse:function(H,e,o,l){if(H===z){return this._rgba=[null,null,null,null],this}(H.jquery||H.nodeType)&&(H=E(H).css(e),e=z);var f=this,G=E.type(H),s=this._rgba=[];return e!==z&&(H=[H,e,o,l],G="array"),"string"===G?this.parse(F(H)||m._default):"array"===G?(y(B.rgba.props,function(d,h){s[h.idx]=w(H[h.idx],h)}),this):"object"===G?(H instanceof v?y(B,function(d,h){H[h.cache]&&(f[h.cache]=H[h.cache].slice())}):y(B,function(h,d){var n=d.cache;y(d.props,function(r,u){if(!f[n]&&d.to){if("alpha"===r||null==H[r]){return}f[n]=d.to(f._rgba)}f[n][u.idx]=w(H[r],u,!0)}),f[n]&&0>E.inArray(null,f[n].slice(0,3))&&(f[n][3]=1,d.from&&(f._rgba=d.from(f[n])))}),this):z},is:function(e){var d=v(e),f=!0,h=this;return y(B,function(n,u){var l,s=d[u.cache];return s&&(l=h[u.cache]||u.to&&u.to(h._rgba)||[],y(u.props,function(r,o){return null!=s[o.idx]?f=s[o.idx]===l[o.idx]:z})),f}),f},_space:function(){var d=[],f=this;return y(B,function(e,h){f[h.cache]&&d.push(e)}),d.pop()},transition:function(f,H){var u=v(f),J=u._space(),I=B[J],d=0===this.alpha()?v("transparent"):this,G=d[I.cache]||I.to(d._rgba),l=G.slice();return u=u[I.cache],y(I.props,function(r,L){var s=L.idx,h=G[s],e=u[s],K=D[L.type]||{};null!==e&&(null===h?l[s]=e:(K.mod&&(e-h>K.mod/2?h+=K.mod:h-e>K.mod/2&&(h-=K.mod)),l[s]=w((e-h)*H+h,L)))}),this[J](l)},blend:function(h){if(1===this._rgba[3]){return this}var d=this._rgba.slice(),f=d.pop(),l=v(h)._rgba;return v(E.map(d,function(n,o){return(1-f)*l[o]+f*n}))},toRgbaString:function(){var f="rgba(",d=E.map(this._rgba,function(h,l){return null==h?l>2?1:0:h});return 1===d[3]&&(d.pop(),f="rgb("),f+d.join()+")"},toHslaString:function(){var f="hsla(",d=E.map(this.hsla(),function(h,l){return null==h&&(h=l>2?1:0),l&&3>l&&(h=Math.round(100*h)+"%"),h});return 1===d[3]&&(d.pop(),f="hsl("),f+d.join()+")"},toHexString:function(h){var d=this._rgba.slice(),f=d.pop();return h&&d.push(~~(255*f)),"#"+E.map(d,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),v.fn.parse.prototype=v.fn,B.hsla.to=function(O){if(null==O[0]||null==O[1]||null==O[2]){return[null,null,null,O[3]]}var K,I,P=O[0]/255,G=O[1]/255,f=O[2]/255,M=O[3],d=Math.max(P,G,f),J=Math.min(P,G,f),H=d-J,L=d+J,N=0.5*L;return K=J===d?0:P===d?60*(G-f)/H+360:G===d?60*(f-P)/H+120:60*(P-G)/H+240,I=0===H?0:0.5>=N?H/L:H/(2-L),[Math.round(K)%360,I,N,null==M?1:M]},B.hsla.from=function(h){if(null==h[0]||null==h[1]||null==h[2]){return[null,null,null,h[3]]}var u=h[0]/360,f=h[1],l=h[2],G=h[3],d=0.5>=l?l*(1+f):l+f-l*f,n=2*l-d;return[Math.round(255*q(n,d,u+1/3)),Math.round(255*q(n,d,u)),Math.round(255*q(n,d,u-1/3)),G]},y(B,function(f,u){var l=u.props,d=u.cache,e=u.to,r=u.from;v.fn[f]=function(o){if(e&&!this[d]&&(this[d]=e(this._rgba)),o===z){return this[d].slice()}var I,G=E.type(o),h="array"===G||"object"===G?o:arguments,H=this[d].slice();return y(l,function(n,K){var J=h["object"===G?n:K.idx];null==J&&(J=H[K.idx]),H[K.idx]=w(J,K)}),r?(I=v(r(H)),I[d]=H,I):v(H)},y(l,function(n,h){v.fn[n]||(v.fn[n]=function(K){var I,G=E.type(K),H="alpha"===n?this._hsla?"hsla":"rgba":f,s=this[H](),J=s[h.idx];return"undefined"===G?J:("function"===G&&(K=K.call(this,J),G=E.type(K)),null==K&&h.empty?this:("string"===G&&(I=g.exec(K),I&&(K=J+parseFloat(I[2])*("+"===I[1]?1:-1))),s[h.idx]=K,this[H](s)))})})}),v.hook=function(f){var d=f.split(" ");y(d,function(l,h){E.cssHooks[h]={set:function(H,J){var I,s,G="";if("transparent"!==J&&("string"!==E.type(J)||(I=F(J)))){if(J=v(I||J),!A.rgba&&1!==J._rgba[3]){for(s="backgroundColor"===h?H.parentNode:H;(""===G||"transparent"===G)&&s&&s.style;){try{G=E.css(s,"backgroundColor"),s=s.parentNode}catch(u){}}J=J.blend(G&&"transparent"!==G?G:"_default")}J=J.toRgbaString()}try{H.style[h]=J}catch(u){}}},E.fx.step[h]=function(n){n.colorInit||(n.start=v(n.elem,h),n.end=v(n.end),n.colorInit=!0),E.cssHooks[h].set(n.elem,n.start.transition(n.end,n.pos))}})},v.hook(C),E.cssHooks.borderColor={expand:function(d){var f={};return y(["Top","Right","Bottom","Left"],function(e,h){f["border"+h+"Color"]=d}),f}},m=E.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function d(l){var h,k,q=l.ownerDocument.defaultView?l.ownerDocument.defaultView.getComputedStyle(l,null):l.currentStyle,m={};if(q&&q.length&&q[0]&&q[q[0]]){for(k=q.length;k--;){h=q[k],"string"==typeof q[h]&&(m[b.camelCase(h)]=q[h])}}else{for(h in q){"string"==typeof q[h]&&(m[h]=q[h])}}return m}function e(m,k){var l,o,h={};for(l in k){o=k[l],m[l]!==o&&(f[l]||(b.fx.step[l]||!isNaN(parseFloat(o)))&&(h[l]=o))}return h}var g=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(k,h){b.fx.step[h]=function(l){("none"!==l.end&&!l.setAttr||1===l.pos&&!l.setAttr)&&(jQuery.style(l.elem,h,l.end),l.setAttr=!0)}}),b.fn.addBack||(b.fn.addBack=function(h){return this.add(null==h?this.prevObject:this.prevObject.filter(h))}),b.effects.animateClass=function(n,q,k,m){var l=b.speed(q,k,m);return this.queue(function(){var v,s=b(this),u=s.attr("class")||"",h=l.children?s.find("*").addBack():s;h=h.map(function(){var o=b(this);return{el:o,start:d(this)}}),v=function(){b.each(g,function(r,o){n[o]&&s[o+"Class"](n[o])})},v(),h=h.map(function(){return this.end=d(this.el[0]),this.diff=e(this.start,this.end),this}),s.attr("class",u),h=h.map(function(){var w=this,o=b.Deferred(),r=b.extend({},l,{queue:!1,complete:function(){o.resolve(w)}});return this.el.animate(this.diff,r),o.promise()}),b.when.apply(b,h.get()).done(function(){v(),b.each(arguments,function(){var o=this.el;b.each(this.diff,function(r){o.css(r,"")})}),l.complete.call(s[0])})})},b.fn.extend({addClass:function(h){return function(k,l,q,m){return l?b.effects.animateClass.call(this,{add:k},l,q,m):h.apply(this,arguments)}}(b.fn.addClass),removeClass:function(h){return function(k,l,q,m){return arguments.length>1?b.effects.animateClass.call(this,{remove:k},l,q,m):h.apply(this,arguments)}}(b.fn.removeClass),toggleClass:function(h){return function(l,u,q,k,m){return"boolean"==typeof u||u===c?q?b.effects.animateClass.call(this,u?{add:l}:{remove:l},q,k,m):h.apply(this,arguments):b.effects.animateClass.call(this,{toggle:l},u,q,k)}}(b.fn.toggleClass),switchClass:function(l,h,k,q,m){return b.effects.animateClass.call(this,{add:h,remove:l},k,q,m)}})}(),function(){function d(h,f,g,k){return b.isPlainObject(h)&&(f=h,h=h.effect),h={effect:h},null==f&&(f={}),b.isFunction(f)&&(k=f,g=null,f={}),("number"==typeof f||b.fx.speeds[f])&&(k=g,g=f,f={}),b.isFunction(g)&&(k=g,g=null),f&&b.extend(h,f),g=g||f.duration,h.duration=b.fx.off?0:"number"==typeof g?g:g in b.fx.speeds?b.fx.speeds[g]:b.fx.speeds._default,h.complete=k||f.complete,h}function e(f){return !f||"number"==typeof f||b.fx.speeds[f]?!0:"string"!=typeof f||b.effects.effect[f]?b.isFunction(f)?!0:"object"!=typeof f||f.effect?!1:!0:!0}b.extend(b.effects,{version:"1.10.2",save:function(f,h){for(var g=0;h.length>g;g++){null!==h[g]&&f.data(a+h[g],f[0].style[h[g]])}},restore:function(f,g){var k,h;for(h=0;g.length>h;h++){null!==g[h]&&(k=f.data(a+g[h]),k===c&&(k=""),f.css(g[h],k))}},setMode:function(f,g){return"toggle"===g&&(g=f.is(":hidden")?"show":"hide"),g},getBaseline:function(g,k){var f,h;switch(g[0]){case"top":f=0;break;case"middle":f=0.5;break;case"bottom":f=1;break;default:f=g[0]/k.height}switch(g[1]){case"left":h=0;break;case"center":h=0.5;break;case"right":h=1;break;default:h=g[1]/k.width}return{x:h,y:f}},createWrapper:function(k){if(k.parent().is(".ui-effects-wrapper")){return k.parent()}var g={width:k.outerWidth(!0),height:k.outerHeight(!0),"float":k.css("float")},h=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),m={width:k.width(),height:k.height()},l=document.activeElement;try{l.id}catch(f){l=document.body}return k.wrap(h),(k[0]===l||b.contains(k[0],l))&&b(l).focus(),h=k.parent(),"static"===k.css("position")?(h.css({position:"relative"}),k.css({position:"relative"})):(b.extend(g,{position:k.css("position"),zIndex:k.css("z-index")}),b.each(["top","left","bottom","right"],function(n,o){g[o]=k.css(o),isNaN(parseInt(g[o],10))&&(g[o]="auto")}),k.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),k.css(m),h.css(g).show()},removeWrapper:function(g){var f=document.activeElement;return g.parent().is(".ui-effects-wrapper")&&(g.parent().replaceWith(g),(g[0]===f||b.contains(g[0],f))&&b(f).focus()),g},setTransition:function(h,f,g,k){return k=k||{},b.each(f,function(m,l){var n=h.cssUnit(l);n[0]>0&&(k[l]=n[0]*g+n[1])}),k}}),b.fn.extend({effect:function(){function h(u){function m(){b.isFunction(v)&&v.call(w[0]),b.isFunction(u)&&u()}var w=b(this),v=g.complete,q=g.mode;(w.is(":hidden")?"hide"===q:"show"===q)?(w[q](),m()):f.call(w[0],g,m)}var g=d.apply(this,arguments),l=g.mode,k=g.queue,f=b.effects.effect[g.effect];return b.fx.off||!f?l?this[l](g.duration,g.complete):this.each(function(){g.complete&&g.complete.call(this)}):k===!1?this.each(h):this.queue(k||"fx",h)},show:function(f){return function(h){if(e(h)){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="show",this.effect.call(this,g)}}(b.fn.show),hide:function(f){return function(h){if(e(h)){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="hide",this.effect.call(this,g)}}(b.fn.hide),toggle:function(f){return function(h){if(e(h)||"boolean"==typeof h){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="toggle",this.effect.call(this,g)}}(b.fn.toggle),cssUnit:function(h){var f=this.css(h),g=[];return b.each(["em","px","%","pt"],function(k,l){f.indexOf(l)>0&&(g=[parseFloat(f),l])}),g}})}(),function(){var d={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,e){d[e]=function(g){return Math.pow(g,f+2)}}),b.extend(d,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(g){for(var h,f=4;((h=Math.pow(2,--f))-1)/11>g;){}return 1/Math.pow(4,3-f)-7.5625*Math.pow((3*h-2)/22-g,2)}}),b.each(d,function(g,f){b.easing["easeIn"+g]=f,b.easing["easeOut"+g]=function(e){return 1-f(1-e)},b.easing["easeInOut"+g]=function(e){return 0.5>e?f(2*e)/2:1-f(-2*e+2)/2}})}()}(jQuery),function(b){var d=0,a={},c={};a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="hide",c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="show",b.widget("ui.accordion",{version:"1.10.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var f=this.options;this.prevShow=this.prevHide=b(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),f.collapsible||f.active!==!1&&null!=f.active||(f.active=0),this._processPanels(),0>f.active&&(f.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():b(),content:this.active.length?this.active.next():b()}},_createIcons:function(){var f=this.options.icons;f&&(b("<span>").addClass("ui-accordion-header-icon ui-icon "+f.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(f.header).addClass(f.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(f,g){return"active"===f?(this._activate(g),undefined):("event"===f&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(g)),this._super(f,g),"collapsible"!==f||g||this.options.active!==!1||this._activate(0),"icons"===f&&(this._destroyIcons(),g&&this._createIcons()),"disabled"===f&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!g),undefined)},_keydown:function(h){if(!h.altKey&&!h.ctrlKey){var f=b.ui.keyCode,g=this.headers.length,l=this.headers.index(h.target),k=!1;switch(h.keyCode){case f.RIGHT:case f.DOWN:k=this.headers[(l+1)%g];break;case f.LEFT:case f.UP:k=this.headers[(l-1+g)%g];break;case f.SPACE:case f.ENTER:this._eventHandler(h);break;case f.HOME:k=this.headers[0];break;case f.END:k=this.headers[g-1]}k&&(b(h.target).attr("tabIndex",-1),b(k).attr("tabIndex",0),k.focus(),h.preventDefault())}},_panelKeyDown:function(f){f.keyCode===b.ui.keyCode.UP&&f.ctrlKey&&b(f.currentTarget).prev().focus()},refresh:function(){var f=this.options;this._processPanels(),(f.active===!1&&f.collapsible===!0||!this.headers.length)&&(f.active=!1,this.active=b()),f.active===!1?this._activate(0):this.active.length&&!b.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(f.active=!1,this.active=b()):this._activate(Math.max(0,f.active-1)):f.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var f,g=this.options,k=g.heightStyle,h=this.element.parent(),e=this.accordionId="ui-accordion-"+(this.element.attr("id")||++d);this.active=this._findActive(g.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(q){var l=b(this),m=l.attr("id"),u=l.next(),r=u.attr("id");m||(m=e+"-header-"+q,l.attr("id",m)),r||(r=e+"-panel-"+q,u.attr("id",r)),l.attr("aria-controls",r),u.attr("aria-labelledby",m)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(g.event),"fill"===k?(f=h.height(),this.element.siblings(":visible").each(function(){var m=b(this),l=m.css("position");"absolute"!==l&&"fixed"!==l&&(f-=m.outerHeight(!0))}),this.headers.each(function(){f-=b(this).outerHeight(!0)}),this.headers.next().each(function(){b(this).height(Math.max(0,f-b(this).innerHeight()+b(this).height()))}).css("overflow","auto")):"auto"===k&&(f=0,this.headers.next().each(function(){f=Math.max(f,b(this).css("height","").height())}).height(f))},_activate:function(g){var f=this._findActive(g)[0];f!==this.active[0]&&(f=f||this.active[0],this._eventHandler({target:f,currentTarget:f,preventDefault:b.noop}))},_findActive:function(f){return"number"==typeof f?this.headers.eq(f):b()},_setupEvents:function(g){var f={keydown:"_keydown"};g&&b.each(g.split(" "),function(h,k){f[k]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,f),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(v){var q=this.options,x=this.active,k=b(v.currentTarget),g=k[0]===x[0],w=g&&q.collapsible,f=w?b():k.next(),u=x.next(),m={oldHeader:x,oldPanel:u,newHeader:w?b():k,newPanel:f};v.preventDefault(),g&&!q.collapsible||this._trigger("beforeActivate",v,m)===!1||(q.active=w?!1:this.headers.index(k),this.active=g?b():k,this._toggle(m),x.removeClass("ui-accordion-header-active ui-state-active"),q.icons&&x.children(".ui-accordion-header-icon").removeClass(q.icons.activeHeader).addClass(q.icons.header),g||(k.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),q.icons&&k.children(".ui-accordion-header-icon").removeClass(q.icons.header).addClass(q.icons.activeHeader),k.next().addClass("ui-accordion-content-active")))},_toggle:function(h){var f=h.newPanel,g=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=f,this.prevHide=g,this.options.animate?this._animate(f,g,h):(g.hide(),f.show(),this._toggleComplete(h)),g.attr({"aria-expanded":"false","aria-hidden":"true"}),g.prev().attr("aria-selected","false"),f.length&&g.length?g.prev().attr("tabIndex",-1):f.length&&this.headers.filter(function(){return 0===b(this).attr("tabIndex")}).attr("tabIndex",-1),f.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(A,v,m){var k,y,f,s=this,q=0,x=A.length&&(!v.length||A.index()<v.index()),z=this.options.animate||{},w=x&&z.down||z,g=function(){s._toggleComplete(m)};return"number"==typeof w&&(f=w),"string"==typeof w&&(y=w),y=y||w.easing||z.easing,f=f||w.duration||z.duration,v.length?A.length?(k=A.show().outerHeight(),v.animate(a,{duration:f,easing:y,step:function(h,l){l.now=Math.round(h)}}),A.hide().animate(c,{duration:f,easing:y,complete:g,step:function(h,e){e.now=Math.round(h),"height"!==e.prop?q+=e.now:"content"!==s.options.heightStyle&&(e.now=Math.round(k-v.outerHeight()-q),q=0)}}),undefined):v.animate(a,f,y,g):A.animate(c,f,y,g)},_toggleComplete:function(f){var g=f.oldPanel;g.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),g.length&&(g.parent()[0].className=g.parent()[0].className),this._trigger("activate",null,f)}})}(jQuery),function(a){var b=0;a.widget("ui.autocomplete",{version:"1.10.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var g,d,f,k=this.element[0].nodeName.toLowerCase(),h="textarea"===k,c="input"===k;this.isMultiLine=h?!0:c?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[h||c?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(l){if(this.element.prop("readOnly")){return g=!0,f=!0,d=!0,undefined}g=!1,f=!1,d=!1;var e=a.ui.keyCode;switch(l.keyCode){case e.PAGE_UP:g=!0,this._move("previousPage",l);break;case e.PAGE_DOWN:g=!0,this._move("nextPage",l);break;case e.UP:g=!0,this._keyEvent("previous",l);break;case e.DOWN:g=!0,this._keyEvent("next",l);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&(g=!0,l.preventDefault(),this.menu.select(l));break;case e.TAB:this.menu.active&&this.menu.select(l);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(l),l.preventDefault());break;default:d=!0,this._searchTimeout(l)}},keypress:function(e){if(g){return g=!1,e.preventDefault(),undefined}if(!d){var l=a.ui.keyCode;switch(e.keyCode){case l.PAGE_UP:this._move("previousPage",e);break;case l.PAGE_DOWN:this._move("nextPage",e);break;case l.UP:this._keyEvent("previous",e);break;case l.DOWN:this._keyEvent("next",e)}}},input:function(e){return f?(f=!1,e.preventDefault(),undefined):(this._searchTimeout(e),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(e),this._change(e),undefined)}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:a(),role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(m){m.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var l=this.menu.element[0];a(m.target).closest(".ui-menu-item").length||this._delay(function(){var n=this;this.document.one("mousedown",function(e){e.target===n.element[0]||e.target===l||a.contains(l,e.target)||n.close()})})},menufocus:function(n,l){if(this.isNewMenu&&(this.isNewMenu=!1,n.originalEvent&&/^mouse/.test(n.originalEvent.type))){return this.menu.blur(),this.document.one("mousemove",function(){a(n.target).trigger(n.originalEvent)}),undefined}var m=l.item.data("ui-autocomplete-item");!1!==this._trigger("focus",n,{item:m})?n.originalEvent&&/^key/.test(n.originalEvent.type)&&this._value(m.value):this.liveRegion.text(m.value)},menuselect:function(m,o){var l=o.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=l})),!1!==this._trigger("select",m,{item:l})&&this._value(l.value),this.term=this._value(),this.close(m),this.selectedItem=l}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(c,d){this._super(c,d),"source"===c&&this._initSource(),"appendTo"===c&&this.menu.element.appendTo(this._appendTo()),"disabled"===c&&d&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;return c&&(c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0)),c||(c=this.element.closest(".ui-front")),c.length||(c=this.document[0].body),c},_initSource:function(){var f,c,d=this;a.isArray(this.options.source)?(f=this.options.source,this.source=function(e,g){g(a.ui.autocomplete.filter(f,e.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(g,h){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:g,dataType:"json",success:function(e){h(e)},error:function(){h([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,d){return c=null!=c?c:this._value(),this.term=this._value(),c.length<this.options.minLength?this.close(d):this._trigger("search",d)!==!1?this._search(c):undefined},_search:function(c){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:c},this._response())},_response:function(){var d=this,c=++b;return function(e){c===b&&d.__response(e),d.pending--,d.pending||d.element.removeClass("ui-autocomplete-loading")}},__response:function(c){c&&(c=this._normalize(c)),this._trigger("response",null,{content:c}),!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0,this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:a.map(c,function(d){return"string"==typeof d?{label:d,value:d}:a.extend({label:d.label||d.value,value:d.value||d.label},d)})},_suggest:function(d){var c=this.menu.element.empty();this._renderMenu(c,d),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(f,c){var d=this;a.each(c,function(g,e){d._renderItemData(f,e)})},_renderItemData:function(c,d){return this._renderItem(c,d).data("ui-autocomplete-item",d)},_renderItem:function(d,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(d)},_move:function(c,d){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[c](d),undefined):(this.search(null,d),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(c,d){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(c,d),d.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(f,c){var d=RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(f,function(e){return d.test(e.label||e.value||e)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(c>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var d;this._superApply(arguments),this.options.disabled||this.cancelSearch||(d=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults,this.liveRegion.text(d))}})}(jQuery),function(u){var m,g,v,d,c="ui-button ui-widget ui-state-default ui-corner-all",q="ui-state-hover ui-state-active ",b="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",k=function(){var a=u(this).find(":ui-button");setTimeout(function(){a.button("refresh")},1)},f=function(l){var a=l.name,h=l.form,o=u([]);return a&&(a=a.replace(/'/g,"\\'"),o=h?u(h).find("[name='"+a+"']"):u("[name='"+a+"']",l.ownerDocument).filter(function(){return !this.form})),o};u.widget("ui.button",{version:"1.10.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,k),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,l=this.options,o="checkbox"===this.type||"radio"===this.type,h=o?"":"ui-state-active",n="ui-state-focus";null===l.label&&(l.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){l.disabled||this===m&&u(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){l.disabled||u(this).removeClass(h)}).bind("click"+this.eventNamespace,function(a){l.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(n)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(n)}),o&&(this.element.bind("change"+this.eventNamespace,function(){d||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){l.disabled||(d=!1,g=a.pageX,v=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){l.disabled||(g!==a.pageX||v!==a.pageY)&&(d=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return l.disabled||d?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(l.disabled||d){return !1}u(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var a=e.element[0];f(a).not(a).map(function(){return u(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return l.disabled?!1:(u(this).addClass("ui-state-active"),m=this,e.document.one("mouseup",function(){m=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return l.disabled?!1:(u(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(a){return l.disabled?!1:((a.keyCode===u.ui.keyCode.SPACE||a.keyCode===u.ui.keyCode.ENTER)&&u(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){u(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===u.ui.keyCode.SPACE&&u(this).click()})),this._setOption("disabled",l.disabled),this._resetButton()},_determineButtonType:function(){var h,l,a;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(h=this.element.parents().last(),l="label[for='"+this.element.attr("id")+"']",this.buttonElement=h.find(l),this.buttonElement.length||(h=h.length?h.siblings():this.element.siblings(),this.buttonElement=h.filter(l),this.buttonElement.length||(this.buttonElement=h.find(l))),this.element.addClass("ui-helper-hidden-accessible"),a=this.element.is(":checked"),a&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" "+q+" "+b).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,h){return this._super(a,h),"disabled"===a?(h?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?f(this.element[0]).each(function(){u(this).is(":checked")?u(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):u(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type){return this.options.label&&this.element.val(this.options.label),undefined}var l=this.buttonElement.removeClass(b),a=u("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(l.empty()).text(),h=this.options.icons,w=h.primary&&h.secondary,r=[];h.primary||h.secondary?(this.options.text&&r.push("ui-button-text-icon"+(w?"s":h.primary?"-primary":"-secondary")),h.primary&&l.prepend("<span class='ui-button-icon-primary ui-icon "+h.primary+"'></span>"),h.secondary&&l.append("<span class='ui-button-icon-secondary ui-icon "+h.secondary+"'></span>"),this.options.text||(r.push(w?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||l.attr("title",u.trim(a)))):r.push("ui-button-text-only"),l.addClass(r.join(" "))}}),u.widget("ui.buttonset",{version:"1.10.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,h){"disabled"===a&&this.buttons.button("option",a,h),this._super(a,h)},refresh:function(){var a="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return u(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return u(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(d,h){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},d.extend(this._defaults,this.regional[""]),this.dpDiv=f(d("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function f(m){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return m.delegate(a,"mouseout",function(){d(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&d(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",function(){d.datepicker._isDisabledDatepicker(k.inline?m.parent()[0]:k.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&d(this).addClass("ui-datepicker-next-hover"))})}function l(n,a){d.extend(n,a);for(var m in a){null==a[m]&&(n[m]=a[m])}return n}d.extend(d.ui,{datepicker:{version:"1.10.2"}});var k,b="datepicker",g=(new Date).getTime();d.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return l(this._defaults,a||{}),this},_attachDatepicker:function(q,a){var m,u,r;m=q.nodeName.toLowerCase(),u="div"===m||"span"===m,q.id||(this.uuid+=1,q.id="dp"+this.uuid),r=this._newInst(d(q),u),r.settings=d.extend({},a||{}),"input"===m?this._connectDatepicker(q,r):u&&this._inlineDatepicker(q,r)},_newInst:function(m,a){var o=m[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:o,input:m,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?f(d("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(n,a){var m=d(n);a.append=d([]),a.trigger=d([]),m.hasClass(this.markerClassName)||(this._attachments(m,a),m.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),d.data(n,b,a),a.settings.disabled&&this._disableDatepicker(n))},_attachments:function(w,q){var u,y,x,m=this._get(q,"appendText"),v=this._get(q,"isRTL");q.append&&q.append.remove(),m&&(q.append=d("<span class='"+this._appendClass+"'>"+m+"</span>"),w[v?"before":"after"](q.append)),w.unbind("focus",this._showDatepicker),q.trigger&&q.trigger.remove(),u=this._get(q,"showOn"),("focus"===u||"both"===u)&&w.focus(this._showDatepicker),("button"===u||"both"===u)&&(y=this._get(q,"buttonText"),x=this._get(q,"buttonImage"),q.trigger=d(this._get(q,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:x,alt:y,title:y}):d("<button type='button'></button>").addClass(this._triggerClass).html(x?d("<img/>").attr({src:x,alt:y,title:y}):y)),w[v?"before":"after"](q.trigger),q.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput===w[0]?d.datepicker._hideDatepicker():d.datepicker._datepickerShowing&&d.datepicker._lastInput!==w[0]?(d.datepicker._hideDatepicker(),d.datepicker._showDatepicker(w[0])):d.datepicker._showDatepicker(w[0]),!1}))},_autoSize:function(r){if(this._get(r,"autoSize")&&!r.inline){var v,q,u,x,w=new Date(2009,11,20),m=this._get(r,"dateFormat");m.match(/[DM]/)&&(v=function(a){for(q=0,u=0,x=0;a.length>x;x++){a[x].length>q&&(q=a[x].length,u=x)}return u},w.setMonth(v(this._get(r,m.match(/MM/)?"monthNames":"monthNamesShort"))),w.setDate(v(this._get(r,m.match(/DD/)?"dayNames":"dayNamesShort"))+20-w.getDay())),r.input.attr("size",this._formatDate(r,w).length)}},_inlineDatepicker:function(n,a){var m=d(n);m.hasClass(this.markerClassName)||(m.addClass(this.markerClassName).append(a.dpDiv),d.data(n,b,a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(n),a.dpDiv.css("display","block"))},_dialogDatepicker:function(x,v,B,n,a){var w,q,z,A,y,m=this._dialogInst;return m||(this.uuid+=1,w="dp"+this.uuid,this._dialogInput=d("<input type='text' id='"+w+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),m=this._dialogInst=this._newInst(this._dialogInput,!1),m.settings={},d.data(this._dialogInput[0],b,m)),l(m.settings,n||{}),v=v&&v.constructor===Date?this._formatDate(m,v):v,this._dialogInput.val(v),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(q=document.documentElement.clientWidth,z=document.documentElement.clientHeight,A=document.documentElement.scrollLeft||document.body.scrollLeft,y=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[q/2-100+A,z/2-150+y]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),m.settings.onSelect=B,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],b,m),this},_destroyDatepicker:function(o){var a,m=d(o),q=d.data(o,b);m.hasClass(this.markerClassName)&&(a=o.nodeName.toLowerCase(),d.removeData(o,b),"input"===a?(q.append.remove(),q.trigger.remove(),m.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===a||"span"===a)&&m.removeClass(this.markerClassName).empty())},_enableDatepicker:function(q){var a,m,u=d(q),r=d.data(q,b);u.hasClass(this.markerClassName)&&(a=q.nodeName.toLowerCase(),"input"===a?(q.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===a||"span"===a)&&(m=u.children("."+this._inlineClass),m.children().removeClass("ui-state-disabled"),m.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=d.map(this._disabledInputs,function(e){return e===q?null:e}))},_disableDatepicker:function(q){var a,m,u=d(q),r=d.data(q,b);u.hasClass(this.markerClassName)&&(a=q.nodeName.toLowerCase(),"input"===a?(q.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===a||"span"===a)&&(m=u.children("."+this._inlineClass),m.children().addClass("ui-state-disabled"),m.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=d.map(this._disabledInputs,function(e){return e===q?null:e}),this._disabledInputs[this._disabledInputs.length]=q)},_isDisabledDatepicker:function(a){if(!a){return !1}for(var m=0;this._disabledInputs.length>m;m++){if(this._disabledInputs[m]===a){return !0}}return !1},_getInst:function(m){try{return d.data(m,b)}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,u,w){var m,v,q,e,x=this._getInst(n);return 2===arguments.length&&"string"==typeof u?"defaults"===u?d.extend({},d.datepicker._defaults):x?"all"===u?d.extend({},x.settings):this._get(x,u):null:(m=u||{},"string"==typeof u&&(m={},m[u]=w),x&&(this._curInst===x&&this._hideDatepicker(),v=this._getDateDatepicker(n,!0),q=this._getMinMaxDate(x,"min"),e=this._getMinMaxDate(x,"max"),l(x.settings,m),null!==q&&m.dateFormat!==h&&m.minDate===h&&(x.settings.minDate=this._formatDate(x,q)),null!==e&&m.dateFormat!==h&&m.maxDate===h&&(x.settings.maxDate=this._formatDate(x,e)),"disabled" in m&&(m.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(d(n),x),this._autoSize(x),this._setDate(x,v),this._updateAlternate(x),this._updateDatepicker(x)),h)},_changeDatepicker:function(m,n,a){this._optionDatepicker(m,n,a)},_refreshDatepicker:function(a){var m=this._getInst(a);m&&this._updateDatepicker(m)},_setDateDatepicker:function(m,n){var a=this._getInst(m);a&&(this._setDate(a,n),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(m,n){var a=this._getInst(m);return a&&!a.inline&&this._setDateFromField(a,n),a?this._getDate(a):null},_doKeyDown:function(w){var q,u,y,x=d.datepicker._getInst(w.target),m=!0,v=x.dpDiv.is(".ui-datepicker-rtl");if(x._keyEvent=!0,d.datepicker._datepickerShowing){switch(w.keyCode){case 9:d.datepicker._hideDatepicker(),m=!1;break;case 13:return y=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",x.dpDiv),y[0]&&d.datepicker._selectDay(w.target,x.selectedMonth,x.selectedYear,y[0]),q=d.datepicker._get(x,"onSelect"),q?(u=d.datepicker._formatDate(x),q.apply(x.input?x.input[0]:null,[u,x])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(w.target,w.ctrlKey?-d.datepicker._get(x,"stepBigMonths"):-d.datepicker._get(x,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(w.target,w.ctrlKey?+d.datepicker._get(x,"stepBigMonths"):+d.datepicker._get(x,"stepMonths"),"M");break;case 35:(w.ctrlKey||w.metaKey)&&d.datepicker._clearDate(w.target),m=w.ctrlKey||w.metaKey;break;case 36:(w.ctrlKey||w.metaKey)&&d.datepicker._gotoToday(w.target),m=w.ctrlKey||w.metaKey;break;case 37:(w.ctrlKey||w.metaKey)&&d.datepicker._adjustDate(w.target,v?1:-1,"D"),m=w.ctrlKey||w.metaKey,w.originalEvent.altKey&&d.datepicker._adjustDate(w.target,w.ctrlKey?-d.datepicker._get(x,"stepBigMonths"):-d.datepicker._get(x,"stepMonths"),"M");break;case 38:(w.ctrlKey||w.metaKey)&&d.datepicker._adjustDate(w.target,-7,"D"),m=w.ctrlKey||w.metaKey;break;case 39:(w.ctrlKey||w.metaKey)&&d.datepicker._adjustDate(w.target,v?-1:1,"D"),m=w.ctrlKey||w.metaKey,w.originalEvent.altKey&&d.datepicker._adjustDate(w.target,w.ctrlKey?+d.datepicker._get(x,"stepBigMonths"):+d.datepicker._get(x,"stepMonths"),"M");break;case 40:(w.ctrlKey||w.metaKey)&&d.datepicker._adjustDate(w.target,7,"D"),m=w.ctrlKey||w.metaKey;break;default:m=!1}}else{36===w.keyCode&&w.ctrlKey?d.datepicker._showDatepicker(this):m=!1}m&&(w.preventDefault(),w.stopPropagation())},_doKeyPress:function(a){var e,q,m=d.datepicker._getInst(a.target);return d.datepicker._get(m,"constrainInput")?(e=d.datepicker._possibleChars(d.datepicker._get(m,"dateFormat")),q=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">q||!e||e.indexOf(q)>-1):h},_doKeyUp:function(o){var a,m=d.datepicker._getInst(o.target);if(m.input.val()!==m.lastVal){try{a=d.datepicker.parseDate(d.datepicker._get(m,"dateFormat"),m.input?m.input.val():null,d.datepicker._getFormatConfig(m)),a&&(d.datepicker._setDateFromField(m),d.datepicker._updateAlternate(m),d.datepicker._updateDatepicker(m))}catch(q){}}return !0},_showDatepicker:function(x){if(x=x.target||x,"input"!==x.nodeName.toLowerCase()&&(x=d("input",x.parentNode)[0]),!d.datepicker._isDisabledDatepicker(x)&&d.datepicker._lastInput!==x){var q,v,y,n,w,u,m;q=d.datepicker._getInst(x),d.datepicker._curInst&&d.datepicker._curInst!==q&&(d.datepicker._curInst.dpDiv.stop(!0,!0),q&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0])),v=d.datepicker._get(q,"beforeShow"),y=v?v.apply(x,[x,q]):{},y!==!1&&(l(q.settings,y),q.lastVal=null,d.datepicker._lastInput=x,d.datepicker._setDateFromField(q),d.datepicker._inDialog&&(x.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(x),d.datepicker._pos[1]+=x.offsetHeight),n=!1,d(x).parents().each(function(){return n|="fixed"===d(this).css("position"),!n}),w={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,q.dpDiv.empty(),q.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(q),w=d.datepicker._checkOffset(q,w,n),q.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":n?"fixed":"absolute",display:"none",left:w.left+"px",top:w.top+"px"}),q.inline||(u=d.datepicker._get(q,"showAnim"),m=d.datepicker._get(q,"duration"),q.dpDiv.zIndex(d(x).zIndex()+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects.effect[u]?q.dpDiv.show(u,d.datepicker._get(q,"showOptions"),m):q.dpDiv[u||"show"](u?m:null),q.input.is(":visible")&&!q.input.is(":disabled")&&q.input.focus(),d.datepicker._curInst=q))}},_updateDatepicker:function(r){this.maxRows=4,k=r,r.dpDiv.empty().append(this._generateHTML(r)),this._attachHandlers(r),r.dpDiv.find("."+this._dayOverClass+" a").mouseover();var o,q=this._getNumberOfMonths(r),u=q[1],m=17;r.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),u>1&&r.dpDiv.addClass("ui-datepicker-multi-"+u).css("width",m*u+"em"),r.dpDiv[(1!==q[0]||1!==q[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),r.dpDiv[(this._get(r,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),r===d.datepicker._curInst&&d.datepicker._datepickerShowing&&r.input&&r.input.is(":visible")&&!r.input.is(":disabled")&&r.input[0]!==document.activeElement&&r.input.focus(),r.yearshtml&&(o=r.yearshtml,setTimeout(function(){o===r.yearshtml&&r.yearshtml&&r.dpDiv.find("select.ui-datepicker-year:first").replaceWith(r.yearshtml),o=r.yearshtml=null},0))},_getBorders:function(a){var m=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(m(a.css("border-left-width"))),parseFloat(m(a.css("border-top-width")))]},_checkOffset:function(y,w,A){var u=y.dpDiv.outerWidth(),q=y.dpDiv.outerHeight(),z=y.input?y.input.outerWidth():0,m=y.input?y.input.outerHeight():0,x=document.documentElement.clientWidth+(A?0:d(document).scrollLeft()),v=document.documentElement.clientHeight+(A?0:d(document).scrollTop());return w.left-=this._get(y,"isRTL")?u-z:0,w.left-=A&&w.left===y.input.offset().left?d(document).scrollLeft():0,w.top-=A&&w.top===y.input.offset().top+m?d(document).scrollTop():0,w.left-=Math.min(w.left,w.left+u>x&&x>u?Math.abs(w.left+u-x):0),w.top-=Math.min(w.top,w.top+q>v&&v>q?Math.abs(q+m):0),w},_findPos:function(o){for(var a,m=this._getInst(o),q=this._get(m,"isRTL");o&&("hidden"===o.type||1!==o.nodeType||d.expr.filters.hidden(o));){o=o[q?"previousSibling":"nextSibling"]}return a=d(o).offset(),[a.left,a.top]},_hideDatepicker:function(u){var a,m,w,v,q=this._curInst;!q||u&&q!==d.data(u,b)||this._datepickerShowing&&(a=this._get(q,"showAnim"),m=this._get(q,"duration"),w=function(){d.datepicker._tidyDialog(q)},d.effects&&(d.effects.effect[a]||d.effects[a])?q.dpDiv.hide(a,d.datepicker._get(q,"showOptions"),m,w):q.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?m:null,w),a||w(),this._datepickerShowing=!1,v=this._get(q,"onClose"),v&&v.apply(q.input?q.input[0]:null,[q.input?q.input.val():"",q]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(n){if(d.datepicker._curInst){var a=d(n.target),m=d.datepicker._getInst(a[0]);(a[0].id!==d.datepicker._mainDivId&&0===a.parents("#"+d.datepicker._mainDivId).length&&!a.hasClass(d.datepicker.markerClassName)&&!a.closest("."+d.datepicker._triggerClass).length&&d.datepicker._datepickerShowing&&(!d.datepicker._inDialog||!d.blockUI)||a.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!==m)&&d.datepicker._hideDatepicker()}},_adjustDate:function(q,a,m){var u=d(q),r=this._getInst(u[0]);this._isDisabledDatepicker(u[0])||(this._adjustInstDate(r,a+("M"===m?this._get(r,"showCurrentAtPos"):0),m),this._updateDatepicker(r))},_gotoToday:function(o){var a,m=d(o),q=this._getInst(m[0]);this._get(q,"gotoCurrent")&&q.currentDay?(q.selectedDay=q.currentDay,q.drawMonth=q.selectedMonth=q.currentMonth,q.drawYear=q.selectedYear=q.currentYear):(a=new Date,q.selectedDay=a.getDate(),q.drawMonth=q.selectedMonth=a.getMonth(),q.drawYear=q.selectedYear=a.getFullYear()),this._notifyChange(q),this._adjustDate(m)},_selectMonthYear:function(q,a,m){var u=d(q),r=this._getInst(u[0]);r["selected"+("M"===m?"Month":"Year")]=r["draw"+("M"===m?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(u)},_selectDay:function(u,q,r,w){var v,m=d(u);d(w).hasClass(this._unselectableClass)||this._isDisabledDatepicker(m[0])||(v=this._getInst(m[0]),v.selectedDay=v.currentDay=d("a",w).html(),v.selectedMonth=v.currentMonth=q,v.selectedYear=v.currentYear=r,this._selectDate(u,this._formatDate(v,v.currentDay,v.currentMonth,v.currentYear)))},_clearDate:function(m){var a=d(m);this._selectDate(a,"")},_selectDate:function(q,a){var m,u=d(q),r=this._getInst(u[0]);a=null!=a?a:this._formatDate(r),r.input&&r.input.val(a),this._updateAlternate(r),m=this._get(r,"onSelect"),m?m.apply(r.input?r.input[0]:null,[a,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(q){var a,m,u,r=this._get(q,"altField");r&&(a=this._get(q,"altFormat")||this._get(q,"dateFormat"),m=this._getDate(q),u=this.formatDate(a,m,this._getFormatConfig(q)),d(r).each(function(){d(this).val(u)}))},noWeekends:function(a){var m=a.getDay();return[m>0&&6>m,""]},iso8601Week:function(m){var n,a=new Date(m.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),n=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((n-a)/86400000)/7)+1},parseDate:function(M,E,I){if(null==M||null==E){throw"Invalid arguments"}if(E="object"==typeof E?""+E:E+"",""===E){return null}var H,T,F,N,K=0,R=(I?I.shortYearCutoff:null)||this._defaults.shortYearCutoff,B="string"!=typeof R?R:(new Date).getFullYear()%100+parseInt(R,10),Q=(I?I.dayNamesShort:null)||this._defaults.dayNamesShort,G=(I?I.dayNames:null)||this._defaults.dayNames,P=(I?I.monthNamesShort:null)||this._defaults.monthNamesShort,O=(I?I.monthNames:null)||this._defaults.monthNames,J=-1,A=-1,U=-1,S=-1,e=!1,z=function(a){var m=M.length>H+1&&M.charAt(H+1)===a;return m&&H++,m},L=function(m){var r=z(m),a="@"===m?14:"!"===m?20:"y"===m&&r?4:"o"===m?3:2,u=RegExp("^\\d{1,"+a+"}"),s=E.substring(K).match(u);if(!s){throw"Missing number at position "+K}return K+=s[0].length,parseInt(s[0],10)},q=function(s,w,v){var m=-1,u=d.map(z(s)?v:w,function(a,n){return[[n,a]]}).sort(function(a,n){return -(a[1].length-n[1].length)});if(d.each(u,function(o,a){var r=a[1];return E.substr(K,r.length).toLowerCase()===r.toLowerCase()?(m=a[0],K+=r.length,!1):h}),-1!==m){return m+1}throw"Unknown name at position "+K},C=function(){if(E.charAt(K)!==M.charAt(H)){throw"Unexpected literal at position "+K}K++};for(H=0;M.length>H;H++){if(e){"'"!==M.charAt(H)||z("'")?C():e=!1}else{switch(M.charAt(H)){case"d":U=L("d");break;case"D":q("D",Q,G);break;case"o":S=L("o");break;case"m":A=L("m");break;case"M":A=q("M",P,O);break;case"y":J=L("y");break;case"@":N=new Date(L("@")),J=N.getFullYear(),A=N.getMonth()+1,U=N.getDate();break;case"!":N=new Date((L("!")-this._ticksTo1970)/10000),J=N.getFullYear(),A=N.getMonth()+1,U=N.getDate();break;case"'":z("'")?C():e=!0;break;default:C()}}}if(E.length>K&&(F=E.substr(K),!/^\s+/.test(F))){throw"Extra/unparsed characters found in date: "+F}if(-1===J?J=(new Date).getFullYear():100>J&&(J+=(new Date).getFullYear()-(new Date).getFullYear()%100+(B>=J?0:-100)),S>-1){for(A=1,U=S;;){if(T=this._getDaysInMonth(J,A-1),T>=U){break}A++,U-=T}}if(N=this._daylightSavingAdjust(new Date(J,A-1,U)),N.getFullYear()!==J||N.getMonth()+1!==A||N.getDate()!==U){throw"Invalid date"}return N},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(E,z,x){if(!z){return""}var F,v=(x?x.dayNamesShort:null)||this._defaults.dayNamesShort,q=(x?x.dayNames:null)||this._defaults.dayNames,C=(x?x.monthNamesShort:null)||this._defaults.monthNamesShort,m=(x?x.monthNames:null)||this._defaults.monthNames,y=function(n){var a=E.length>F+1&&E.charAt(F+1)===n;return a&&F++,a},w=function(n,r,a){var o=""+r;if(y(n)){for(;a>o.length;){o="0"+o}}return o},B=function(n,r,a,o){return y(n)?o[r]:a[r]},D="",A=!1;if(z){for(F=0;E.length>F;F++){if(A){"'"!==E.charAt(F)||y("'")?D+=E.charAt(F):A=!1}else{switch(E.charAt(F)){case"d":D+=w("d",z.getDate(),2);break;case"D":D+=B("D",z.getDay(),v,q);break;case"o":D+=w("o",Math.round((new Date(z.getFullYear(),z.getMonth(),z.getDate()).getTime()-new Date(z.getFullYear(),0,0).getTime())/86400000),3);break;case"m":D+=w("m",z.getMonth()+1,2);break;case"M":D+=B("M",z.getMonth(),C,m);break;case"y":D+=y("y")?z.getFullYear():(10>z.getYear()%100?"0":"")+z.getYear()%100;break;case"@":D+=z.getTime();break;case"!":D+=10000*z.getTime()+this._ticksTo1970;break;case"'":y("'")?D+="'":A=!0;break;default:D+=E.charAt(F)}}}}return D},_possibleChars:function(m){var q,a="",o=!1,r=function(e){var n=m.length>q+1&&m.charAt(q+1)===e;return n&&q++,n};for(q=0;m.length>q;q++){if(o){"'"!==m.charAt(q)||r("'")?a+=m.charAt(q):o=!1}else{switch(m.charAt(q)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":r("'")?a+="'":o=!0;break;default:a+=m.charAt(q)}}}return a},_get:function(e,a){return e.settings[a]!==h?e.settings[a]:this._defaults[a]},_setDateFromField:function(u,x){if(u.input.val()!==u.lastVal){var q=this._get(u,"dateFormat"),v=u.lastVal=u.input?u.input.val():null,z=this._getDefaultDate(u),y=z,m=this._getFormatConfig(u);try{y=this.parseDate(q,v,m)||z}catch(w){v=x?"":v}u.selectedDay=y.getDate(),u.drawMonth=u.selectedMonth=y.getMonth(),u.drawYear=u.selectedYear=y.getFullYear(),u.currentDay=v?y.getDate():0,u.currentMonth=v?y.getMonth():0,u.currentYear=v?y.getFullYear():0,this._adjustInstDate(u)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(u,q,r){var w=function(a){var n=new Date;return n.setDate(n.getDate()+a),n},v=function(y){try{return d.datepicker.parseDate(d.datepicker._get(u,"dateFormat"),y,d.datepicker._getFormatConfig(u))}catch(A){}for(var D=(y.toLowerCase().match(/^c/)?d.datepicker._getDate(u):null)||new Date,C=D.getFullYear(),x=D.getMonth(),B=D.getDate(),z=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,e=z.exec(y);e;){switch(e[2]||"d"){case"d":case"D":B+=parseInt(e[1],10);break;case"w":case"W":B+=7*parseInt(e[1],10);break;case"m":case"M":x+=parseInt(e[1],10),B=Math.min(B,d.datepicker._getDaysInMonth(C,x));break;case"y":case"Y":C+=parseInt(e[1],10),B=Math.min(B,d.datepicker._getDaysInMonth(C,x))}e=z.exec(y)}return new Date(C,x,B)},m=null==q||""===q?r:"string"==typeof q?v(q):"number"==typeof q?isNaN(q)?r:w(q):new Date(q.getTime());return m=m&&"Invalid Date"==""+m?r:m,m&&(m.setHours(0),m.setMinutes(0),m.setSeconds(0),m.setMilliseconds(0)),this._daylightSavingAdjust(m)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(r,v,q){var u=!v,x=r.selectedMonth,w=r.selectedYear,m=this._restrictMinMax(r,this._determineDate(r,v,new Date));r.selectedDay=r.currentDay=m.getDate(),r.drawMonth=r.selectedMonth=r.currentMonth=m.getMonth(),r.drawYear=r.selectedYear=r.currentYear=m.getFullYear(),x===r.selectedMonth&&w===r.selectedYear||q||this._notifyChange(r),this._adjustInstDate(r),r.input&&r.input.val(u?"":this._formatDate(r))},_getDate:function(a){var m=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return m},_attachHandlers:function(n){var a=this._get(n,"stepMonths"),m="#"+n.id.replace(/\\\\/g,"\\");n.dpDiv.find("[data-handler]").map(function(){var o={prev:function(){window["DP_jQuery_"+g].datepicker._adjustDate(m,-a,"M")},next:function(){window["DP_jQuery_"+g].datepicker._adjustDate(m,+a,"M")},hide:function(){window["DP_jQuery_"+g].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+g].datepicker._gotoToday(m)},selectDay:function(){return window["DP_jQuery_"+g].datepicker._selectDay(m,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+g].datepicker._selectMonthYear(m,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+g].datepicker._selectMonthYear(m,this,"Y"),!1}};d(this).bind(this.getAttribute("data-event"),o[this.getAttribute("data-handler")])})},_generateHTML:function(aJ){var aY,aU,aK,aP,aO,a2,aL,aV,aR,a0,aI,aZ,aN,aX,aW,aQ,aH,a3,a1,aE,aG,aS,aF,ay,az,at,al,ah,ao,ai,aD,aB,au,an,ax,ae,am,aw,aj,aT=new Date,ap=this._daylightSavingAdjust(new Date(aT.getFullYear(),aT.getMonth(),aT.getDate())),ab=this._get(aJ,"isRTL"),aA=this._get(aJ,"showButtonPanel"),af=this._get(aJ,"hideIfNoPrevNext"),aq=this._get(aJ,"navigationAsDateFormat"),ag=this._getNumberOfMonths(aJ),aM=this._get(aJ,"showCurrentAtPos"),ak=this._get(aJ,"stepMonths"),ac=1!==ag[0]||1!==ag[1],aC=this._daylightSavingAdjust(aJ.currentDay?new Date(aJ.currentYear,aJ.currentMonth,aJ.currentDay):new Date(9999,9,9)),av=this._getMinMaxDate(aJ,"min"),ar=this._getMinMaxDate(aJ,"max"),aa=aJ.drawMonth-aM,ad=aJ.drawYear;if(0>aa&&(aa+=12,ad--),ar){for(aY=this._daylightSavingAdjust(new Date(ar.getFullYear(),ar.getMonth()-ag[0]*ag[1]+1,ar.getDate())),aY=av&&av>aY?av:aY;this._daylightSavingAdjust(new Date(ad,aa,1))>aY;){aa--,0>aa&&(aa=11,ad--)}}for(aJ.drawMonth=aa,aJ.drawYear=ad,aU=this._get(aJ,"prevText"),aU=aq?this.formatDate(aU,this._daylightSavingAdjust(new Date(ad,aa-ak,1)),this._getFormatConfig(aJ)):aU,aK=this._canAdjustMonth(aJ,-1,ad,aa)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"e":"w")+"'>"+aU+"</span></a>":af?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"e":"w")+"'>"+aU+"</span></a>",aP=this._get(aJ,"nextText"),aP=aq?this.formatDate(aP,this._daylightSavingAdjust(new Date(ad,aa+ak,1)),this._getFormatConfig(aJ)):aP,aO=this._canAdjustMonth(aJ,1,ad,aa)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"w":"e")+"'>"+aP+"</span></a>":af?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"w":"e")+"'>"+aP+"</span></a>",a2=this._get(aJ,"currentText"),aL=this._get(aJ,"gotoCurrent")&&aJ.currentDay?aC:ap,a2=aq?this.formatDate(a2,aL,this._getFormatConfig(aJ)):a2,aV=aJ.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aJ,"closeText")+"</button>",aR=aA?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ab?aV:"")+(this._isInRange(aJ,aL)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a2+"</button>":"")+(ab?"":aV)+"</div>":"",a0=parseInt(this._get(aJ,"firstDay"),10),a0=isNaN(a0)?0:a0,aI=this._get(aJ,"showWeek"),aZ=this._get(aJ,"dayNames"),aN=this._get(aJ,"dayNamesMin"),aX=this._get(aJ,"monthNames"),aW=this._get(aJ,"monthNamesShort"),aQ=this._get(aJ,"beforeShowDay"),aH=this._get(aJ,"showOtherMonths"),a3=this._get(aJ,"selectOtherMonths"),a1=this._getDefaultDate(aJ),aE="",aS=0;ag[0]>aS;aS++){for(aF="",this.maxRows=4,ay=0;ag[1]>ay;ay++){if(az=this._daylightSavingAdjust(new Date(ad,aa,aJ.selectedDay)),at=" ui-corner-all",al="",ac){if(al+="<div class='ui-datepicker-group",ag[1]>1){switch(ay){case 0:al+=" ui-datepicker-group-first",at=" ui-corner-"+(ab?"right":"left");break;case ag[1]-1:al+=" ui-datepicker-group-last",at=" ui-corner-"+(ab?"left":"right");break;default:al+=" ui-datepicker-group-middle",at=""}}al+="'>"}for(al+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+at+"'>"+(/all|left/.test(at)&&0===aS?ab?aO:aK:"")+(/all|right/.test(at)&&0===aS?ab?aK:aO:"")+this._generateMonthYearHeader(aJ,aa,ad,av,ar,aS>0||ay>0,aX,aW)+"</div><table class='ui-datepicker-calendar'><thead><tr>",ah=aI?"<th class='ui-datepicker-week-col'>"+this._get(aJ,"weekHeader")+"</th>":"",aG=0;7>aG;aG++){ao=(aG+a0)%7,ah+="<th"+((aG+a0+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+aZ[ao]+"'>"+aN[ao]+"</span></th>"}for(al+=ah+"</tr></thead><tbody>",ai=this._getDaysInMonth(ad,aa),ad===aJ.selectedYear&&aa===aJ.selectedMonth&&(aJ.selectedDay=Math.min(aJ.selectedDay,ai)),aD=(this._getFirstDayOfMonth(ad,aa)-a0+7)%7,aB=Math.ceil((aD+ai)/7),au=ac?this.maxRows>aB?this.maxRows:aB:aB,this.maxRows=au,an=this._daylightSavingAdjust(new Date(ad,aa,1-aD)),ax=0;au>ax;ax++){for(al+="<tr>",ae=aI?"<td class='ui-datepicker-week-col'>"+this._get(aJ,"calculateWeek")(an)+"</td>":"",aG=0;7>aG;aG++){am=aQ?aQ.apply(aJ.input?aJ.input[0]:null,[an]):[!0,""],aw=an.getMonth()!==aa,aj=aw&&!a3||!am[0]||av&&av>an||ar&&an>ar,ae+="<td class='"+((aG+a0+6)%7>=5?" ui-datepicker-week-end":"")+(aw?" ui-datepicker-other-month":"")+(an.getTime()===az.getTime()&&aa===aJ.selectedMonth&&aJ._keyEvent||a1.getTime()===an.getTime()&&a1.getTime()===az.getTime()?" "+this._dayOverClass:"")+(aj?" "+this._unselectableClass+" ui-state-disabled":"")+(aw&&!aH?"":" "+am[1]+(an.getTime()===aC.getTime()?" "+this._currentClass:"")+(an.getTime()===ap.getTime()?" ui-datepicker-today":""))+"'"+(aw&&!aH||!am[2]?"":" title='"+am[2].replace(/'/g,"&#39;")+"'")+(aj?"":" data-handler='selectDay' data-event='click' data-month='"+an.getMonth()+"' data-year='"+an.getFullYear()+"'")+">"+(aw&&!aH?"&#xa0;":aj?"<span class='ui-state-default'>"+an.getDate()+"</span>":"<a class='ui-state-default"+(an.getTime()===ap.getTime()?" ui-state-highlight":"")+(an.getTime()===aC.getTime()?" ui-state-active":"")+(aw?" ui-priority-secondary":"")+"' href='#'>"+an.getDate()+"</a>")+"</td>",an.setDate(an.getDate()+1),an=this._daylightSavingAdjust(an)}al+=ae+"</tr>"}aa++,aa>11&&(aa=0,ad++),al+="</tbody></table>"+(ac?"</div>"+(ag[0]>0&&ay===ag[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),aF+=al}aE+=aF}return aE+=aR,aJ._keyEvent=!1,aE},_generateMonthYearHeader:function(z,L,H,A,E,D,P,B){var I,G,N,x,M,C,K,J,F=this._get(z,"changeMonth"),w=this._get(z,"changeYear"),Q=this._get(z,"showMonthAfterYear"),O="<div class='ui-datepicker-title'>",q="";if(D||!F){q+="<span class='ui-datepicker-month'>"+P[L]+"</span>"}else{for(I=A&&A.getFullYear()===H,G=E&&E.getFullYear()===H,q+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",N=0;12>N;N++){(!I||N>=A.getMonth())&&(!G||E.getMonth()>=N)&&(q+="<option value='"+N+"'"+(N===L?" selected='selected'":"")+">"+B[N]+"</option>")}q+="</select>"}if(Q||(O+=q+(!D&&F&&w?"":"&#xa0;")),!z.yearshtml){if(z.yearshtml="",D||!w){O+="<span class='ui-datepicker-year'>"+H+"</span>"}else{for(x=this._get(z,"yearRange").split(":"),M=(new Date).getFullYear(),C=function(a){var m=a.match(/c[+\-].*/)?H+parseInt(a.substring(1),10):a.match(/[+\-].*/)?M+parseInt(a,10):parseInt(a,10);return isNaN(m)?M:m},K=C(x[0]),J=Math.max(K,C(x[1]||"")),K=A?Math.max(K,A.getFullYear()):K,J=E?Math.min(J,E.getFullYear()):J,z.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";J>=K;K++){z.yearshtml+="<option value='"+K+"'"+(K===H?" selected='selected'":"")+">"+K+"</option>"}z.yearshtml+="</select>",O+=z.yearshtml,z.yearshtml=null}}return O+=this._get(z,"yearSuffix"),Q&&(O+=(!D&&F&&w?"":"&#xa0;")+q),O+="</div>"},_adjustInstDate:function(r,v,q){var u=r.drawYear+("Y"===q?v:0),x=r.drawMonth+("M"===q?v:0),w=Math.min(r.selectedDay,this._getDaysInMonth(u,x))+("D"===q?v:0),m=this._restrictMinMax(r,this._daylightSavingAdjust(new Date(u,x,w)));r.selectedDay=m.getDate(),r.drawMonth=r.selectedMonth=m.getMonth(),r.drawYear=r.selectedYear=m.getFullYear(),("M"===q||"Y"===q)&&this._notifyChange(r)},_restrictMinMax:function(m,q){var a=this._getMinMaxDate(m,"min"),o=this._getMinMaxDate(m,"max"),r=a&&a>q?a:q;return o&&r>o?o:r},_notifyChange:function(a){var m=this._get(a,"onChangeMonthYear");m&&m.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var m=this._get(a,"numberOfMonths");return null==m?[1,1]:"number"==typeof m?[1,m]:m},_getMinMaxDate:function(a,m){return this._determineDate(a,this._get(a,m+"Date"),null)},_getDaysInMonth:function(a,m){return 32-this._daylightSavingAdjust(new Date(a,m,32)).getDate()},_getFirstDayOfMonth:function(a,m){return new Date(a,m,1).getDay()},_canAdjustMonth:function(m,r,a,q){var v=this._getNumberOfMonths(m),u=this._daylightSavingAdjust(new Date(a,q+(0>r?r:v[0]*v[1]),1));return 0>r&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(m,u)},_isInRange:function(z,x){var v,A,u=this._getMinMaxDate(z,"min"),q=this._getMinMaxDate(z,"max"),y=null,m=null,w=this._get(z,"yearRange");return w&&(v=w.split(":"),A=(new Date).getFullYear(),y=parseInt(v[0],10),m=parseInt(v[1],10),v[0].match(/[+\-].*/)&&(y+=A),v[1].match(/[+\-].*/)&&(m+=A)),(!u||x.getTime()>=u.getTime())&&(!q||x.getTime()<=q.getTime())&&(!y||x.getFullYear()>=y)&&(!m||m>=x.getFullYear())},_getFormatConfig:function(a){var m=this._get(a,"shortYearCutoff");return m="string"!=typeof m?m:(new Date).getFullYear()%100+parseInt(m,10),{shortYearCutoff:m,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(m,q,a,o){q||(m.currentDay=m.selectedDay,m.currentMonth=m.selectedMonth,m.currentYear=m.selectedYear);var r=q?"object"==typeof q?q:this._daylightSavingAdjust(new Date(o,a,q)):this._daylightSavingAdjust(new Date(m.currentYear,m.currentMonth,m.currentDay));return this.formatDate(this._get(m,"dateFormat"),r,this._getFormatConfig(m))}}),d.fn.datepicker=function(m){if(!this.length){return this}d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick),d.datepicker.initialized=!0),0===d("#"+d.datepicker._mainDivId).length&&d("body").append(d.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof m||"isDisabled"!==m&&"getDate"!==m&&"widget"!==m?"option"===m&&2===arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+m+"Datepicker"].apply(d.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof m?d.datepicker["_"+m+"Datepicker"].apply(d.datepicker,[this].concat(a)):d.datepicker._attachDatepicker(this,m)}):d.datepicker["_"+m+"Datepicker"].apply(d.datepicker,[this[0]].concat(a))},d.datepicker=new c,d.datepicker.initialized=!1,d.datepicker.uuid=(new Date).getTime(),d.datepicker.version="1.10.2",window["DP_jQuery_"+g]=d}(jQuery),function(b){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};b.widget("ui.dialog",{version:"1.10.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(f){var d=b(this).css(f).offset().top;0>d&&b(this).css("top",f.top-d)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&b.fn.draggable&&this._makeDraggable(),this.options.resizable&&b.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var d=this.options.appendTo;return d&&(d.jquery||d.nodeType)?b(d):this.document.find(d||"body").eq(0)},_destroy:function(){var d,f=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),d=f.parent.children().eq(f.index),d.length&&d[0]!==this.element[0]?d.before(this.element):f.parent.append(this.element)},widget:function(){return this.uiDialog},disable:b.noop,enable:b.noop,close:function(f){var d=this;this._isOpen&&this._trigger("beforeClose",f)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||b(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",f)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(f,g){var d=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return d&&!g&&this._trigger("focus",f),d},open:function(){var d=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=b(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){d._focusTabbable(),d._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var d=this.element.find("[autofocus]");d.length||(d=this.element.find(":tabbable")),d.length||(d=this.uiDialogButtonPane.find(":tabbable")),d.length||(d=this.uiDialogTitlebarClose.filter(":tabbable")),d.length||(d=this.uiDialog),d.eq(0).focus()},_keepFocus:function(f){function d(){var h=this.document[0].activeElement,g=this.uiDialog[0]===h||b.contains(this.uiDialog[0],h);g||this._focusTabbable()}f.preventDefault(),d.call(this),this._delay(d)},_createWrapper:function(){this.uiDialog=b("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(g){if(this.options.closeOnEscape&&!g.isDefaultPrevented()&&g.keyCode&&g.keyCode===b.ui.keyCode.ESCAPE){return g.preventDefault(),this.close(g),undefined}if(g.keyCode===b.ui.keyCode.TAB){var d=this.uiDialog.find(":tabbable"),f=d.filter(":first"),h=d.filter(":last");g.target!==h[0]&&g.target!==this.uiDialog[0]||g.shiftKey?g.target!==f[0]&&g.target!==this.uiDialog[0]||!g.shiftKey||(h.focus(1),g.preventDefault()):(f.focus(1),g.preventDefault())}},mousedown:function(d){this._moveToTop(d)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var d;this.uiDialogTitlebar=b("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(f){b(f.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=b("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),d=b("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(d),this.uiDialog.attr({"aria-labelledby":d.attr("id")})},_title:function(d){this.options.title||d.html("&#160;"),d.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=b("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=b("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var f=this,d=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),b.isEmptyObject(d)||b.isArray(d)&&!d.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(b.each(d,function(e,g){var k,h;g=b.isFunction(g)?{click:g,text:e}:g,g=b.extend({type:"button"},g),k=g.click,g.click=function(){k.apply(f.element[0],arguments)},h={icons:g.icons,text:g.showText},delete g.icons,delete g.showText,b("<button></button>",g).button(h).appendTo(f.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function g(e){return{position:e.position,offset:e.offset}}var d=this,f=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,h){b(this).addClass("ui-dialog-dragging"),d._blockFrames(),d._trigger("dragStart",e,g(h))},drag:function(e,h){d._trigger("drag",e,g(h))},stop:function(h,e){f.position=[e.position.left-d.document.scrollLeft(),e.position.top-d.document.scrollTop()],b(this).removeClass("ui-dialog-dragging"),d._unblockFrames(),d._trigger("dragStop",h,g(e))}})},_makeResizable:function(){function h(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var f=this,g=this.options,l=g.resizable,k=this.uiDialog.css("position"),d="string"==typeof l?l:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:this._minHeight(),handles:d,start:function(e,m){b(this).addClass("ui-dialog-resizing"),f._blockFrames(),f._trigger("resizeStart",e,h(m))},resize:function(e,m){f._trigger("resize",e,h(m))},stop:function(m,e){g.height=b(this).height(),g.width=b(this).width(),b(this).removeClass("ui-dialog-resizing"),f._unblockFrames(),f._trigger("resizeStop",m,h(e))}}).css("position",k)},_minHeight:function(){var d=this.options;return"auto"===d.height?d.minHeight:Math.min(d.minHeight,d.height)},_position:function(){var d=this.uiDialog.is(":visible");d||this.uiDialog.show(),this.uiDialog.position(this.options.position),d||this.uiDialog.hide()},_setOptions:function(e){var g=this,f=!1,d={};b.each(e,function(h,k){g._setOption(h,k),h in c&&(f=!0),h in a&&(d[h]=k)}),f&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",d)},_setOption:function(f,h){var d,g,k=this.uiDialog;"dialogClass"===f&&k.removeClass(this.options.dialogClass).addClass(h),"disabled"!==f&&(this._super(f,h),"appendTo"===f&&this.uiDialog.appendTo(this._appendTo()),"buttons"===f&&this._createButtons(),"closeText"===f&&this.uiDialogTitlebarClose.button({label:""+h}),"draggable"===f&&(d=k.is(":data(ui-draggable)"),d&&!h&&k.draggable("destroy"),!d&&h&&this._makeDraggable()),"position"===f&&this._position(),"resizable"===f&&(g=k.is(":data(ui-resizable)"),g&&!h&&k.resizable("destroy"),g&&"string"==typeof h&&k.resizable("option","handles",h),g||h===!1||this._makeResizable()),"title"===f&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var f,h,d,g=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),g.minWidth>g.width&&(g.width=g.minWidth),f=this.uiDialog.css({height:"auto",width:g.width}).outerHeight(),h=Math.max(0,g.minHeight-f),d="number"==typeof g.maxHeight?Math.max(0,g.maxHeight-f):"none","auto"===g.height?this.element.css({minHeight:h,maxHeight:d,height:"auto"}):this.element.height(Math.max(0,g.height-f)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var d=b(this);return b("<div>").css({position:"absolute",width:d.outerWidth(),height:d.outerHeight()}).appendTo(d.parent()).offset(d.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(d){return b(d.target).closest(".ui-dialog").length?!0:!!b(d.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var f=this,d=this.widgetFullName;b.ui.dialog.overlayInstances||this._delay(function(){b.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(e){f._allowInteraction(e)||(e.preventDefault(),b(".ui-dialog:visible:last .ui-dialog-content").data(d)._focusTabbable())})}),this.overlay=b("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),b.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(b.ui.dialog.overlayInstances--,b.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),b.ui.dialog.overlayInstances=0,b.uiBackCompat!==!1&&b.widget("ui.dialog",b.ui.dialog,{_position:function(){var g,d=this.options.position,f=[],h=[0,0];d?(("string"==typeof d||"object"==typeof d&&"0" in d)&&(f=d.split?d.split(" "):[d[0],d[1]],1===f.length&&(f[1]=f[0]),b.each(["left","top"],function(k,l){+f[k]===f[k]&&(h[k]=f[k],f[k]=l)}),d={my:f[0]+(0>h[0]?h[0]:"+"+h[0])+" "+f[1]+(0>h[1]?h[1]:"+"+h[1]),at:f.join(" ")}),d=b.extend({},b.ui.dialog.prototype.options.position,d)):d=b.ui.dialog.prototype.options.position,g=this.uiDialog.is(":visible"),g||this.uiDialog.show(),this.uiDialog.position(d),g||this.uiDialog.hide()}})}(jQuery),function(b){var c=/up|down|vertical/,a=/up|left|vertical|horizontal/;b.effects.effect.blind=function(H,w){var q,E,e,z=b(this),y=["position","top","bottom","left","right","height","width"],D=b.effects.setMode(z,H.mode||"hide"),G=H.direction||"up",C=c.test(G),k=C?"height":"width",B=C?"top":"left",A=a.test(G),x={},F="show"===D;z.parent().is(".ui-effects-wrapper")?b.effects.save(z.parent(),y):b.effects.save(z,y),z.show(),q=b.effects.createWrapper(z).css({overflow:"hidden"}),E=q[k](),e=parseFloat(q.css(B))||0,x[k]=F?E:0,A||(z.css(C?"bottom":"right",0).css(C?"top":"left","auto").css({position:"absolute"}),x[B]=F?e:E+e),F&&(q.css(k,0),A||q.css(B,e+E)),q.animate(x,{duration:H.duration,easing:H.easing,queue:!1,complete:function(){"hide"===D&&z.hide(),b.effects.restore(z,y),b.effects.removeWrapper(z),w()}})}}(jQuery),function(a){a.effects.effect.bounce=function(J,F){var x,C,B,N=a(this),z=["position","top","bottom","left","right","height","width"],G=a.effects.setMode(N,J.mode||"effect"),E="hide"===G,L="show"===G,w=J.direction||"up",K=J.distance,A=J.times||5,I=2*A+(L||E?1:0),H=J.duration/I,D=J.easing,q="up"===w||"down"===w?"top":"left",O="up"===w||"left"===w,M=N.queue(),k=M.length;for((L||E)&&z.push("opacity"),a.effects.save(N,z),N.show(),a.effects.createWrapper(N),K||(K=N["top"===q?"outerHeight":"outerWidth"]()/3),L&&(B={opacity:1},B[q]=0,N.css("opacity",0).css(q,O?2*-K:2*K).animate(B,H,D)),E&&(K/=Math.pow(2,A-1)),B={},B[q]=0,x=0;A>x;x++){C={},C[q]=(O?"-=":"+=")+K,N.animate(C,H,D).animate(B,H,D),K=E?2*K:K/2}E&&(C={opacity:0},C[q]=(O?"-=":"+=")+K,N.animate(C,H,D)),N.queue(function(){E&&N.hide(),a.effects.restore(N,z),a.effects.removeWrapper(N),F()}),k>1&&M.splice.apply(M,[1,0].concat(M.splice(k,I+1))),N.dequeue()}}(jQuery),function(a){a.effects.effect.clip=function(y,v){var D,m,k,B=a(this),b=["position","top","bottom","left","right","height","width"],w=a.effects.setMode(B,y.mode||"hide"),q="show"===w,A=y.direction||"vertical",C="vertical"===A,z=C?"height":"width",g=C?"top":"left",x={};a.effects.save(B,b),B.show(),D=a.effects.createWrapper(B).css({overflow:"hidden"}),m="IMG"===B[0].tagName?D:B,k=m[z](),q&&(m.css(z,0),m.css(g,k/2)),x[z]=q?k:0,x[g]=q?0:k/2,m.animate(x,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){q||B.hide(),a.effects.restore(B,b),a.effects.removeWrapper(B),v()}})}}(jQuery),function(a){a.effects.effect.drop=function(q,k){var y,f=a(this),d=["position","top","bottom","left","right","opacity","height","width"],w=a.effects.setMode(f,q.mode||"hide"),b="show"===w,m=q.direction||"left",g="up"===m||"down"===m?"top":"left",v="up"===m||"left"===m?"pos":"neg",x={opacity:b?1:0};a.effects.save(f,d),f.show(),a.effects.createWrapper(f),y=q.distance||f["top"===g?"outerHeight":"outerWidth"](!0)/2,b&&f.css("opacity",0).css(g,"pos"===v?-y:y),x[g]=(b?"pos"===v?"+=":"-=":"pos"===v?"-=":"+=")+y,f.animate(x,{queue:!1,duration:q.duration,easing:q.easing,complete:function(){"hide"===w&&f.hide(),a.effects.restore(f,d),a.effects.removeWrapper(f),k()}})}}(jQuery),function(a){a.effects.effect.explode=function(H,D){function w(){K.push(this),K.length===q*I&&A()}function A(){y.css({visibility:"visible"}),a(K).remove(),F||y.hide(),D()}var z,L,x,E,C,J,q=H.pieces?Math.round(Math.sqrt(H.pieces)):3,I=q,y=a(this),G=a.effects.setMode(y,H.mode||"hide"),F="show"===G,B=y.show().css("visibility","hidden").offset(),k=Math.ceil(y.outerWidth()/I),M=Math.ceil(y.outerHeight()/q),K=[];for(z=0;q>z;z++){for(E=B.top+z*M,J=z-(q-1)/2,L=0;I>L;L++){x=B.left+L*k,C=L-(I-1)/2,y.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-L*k,top:-z*M}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:k,height:M,left:x+(F?C*k:0),top:E+(F?J*M:0),opacity:F?0:1}).animate({left:x+(F?0:C*k),top:E+(F?0:J*M),opacity:F?1:0},H.duration||500,H.easing,w)}}}}(jQuery),function(a){a.effects.effect.fade=function(d,b){var c=a(this),f=a.effects.setMode(c,d.mode||"toggle");c.animate({opacity:f},{queue:!1,duration:d.duration,easing:d.easing,complete:b})}}(jQuery),function(a){a.effects.effect.fold=function(D,z){var J,w,q=a(this),G=["position","top","bottom","left","right","height","width"],b=a.effects.setMode(q,D.mode||"hide"),A="show"===b,y="hide"===b,F=D.size||15,I=/([0-9]+)%/.exec(F),E=!!D.horizFirst,k=A!==E,C=k?["width","height"]:["height","width"],B=D.duration/2,x={},H={};a.effects.save(q,G),q.show(),J=a.effects.createWrapper(q).css({overflow:"hidden"}),w=k?[J.width(),J.height()]:[J.height(),J.width()],I&&(F=parseInt(I[1],10)/100*w[y?0:1]),A&&J.css(E?{height:0,width:F}:{height:F,width:0}),x[C[0]]=A?w[0]:F,H[C[1]]=A?w[1]:0,J.animate(x,B,D.easing).animate(H,B,D.easing,function(){y&&q.hide(),a.effects.restore(q,G),a.effects.removeWrapper(q),z()})}}(jQuery),function(a){a.effects.effect.highlight=function(f,c){var d=a(this),h=["backgroundImage","backgroundColor","opacity"],g=a.effects.setMode(d,f.mode||"show"),b={backgroundColor:d.css("backgroundColor")};"hide"===g&&(b.opacity=0),a.effects.save(d,h),d.show().css({backgroundImage:"none",backgroundColor:f.color||"#ffff99"}).animate(b,{queue:!1,duration:f.duration,easing:f.easing,complete:function(){"hide"===g&&d.hide(),a.effects.restore(d,h),c()}})}}(jQuery),function(a){a.effects.effect.pulsate=function(w,q){var B,k=a(this),g=a.effects.setMode(k,w.mode||"show"),z="show"===g,b="hide"===g,v=z||"hide"===g,m=2*(w.times||5)+(v?1:0),y=w.duration/m,A=0,x=k.queue(),f=x.length;for((z||!k.is(":visible"))&&(k.css("opacity",0).show(),A=1),B=1;m>B;B++){k.animate({opacity:A},y,w.easing),A=1-A}k.animate({opacity:A},y,w.easing),k.queue(function(){b&&k.hide(),q()}),f>1&&x.splice.apply(x,[1,0].concat(x.splice(f,m+1))),k.dequeue()}}(jQuery),function(a){a.effects.effect.puff=function(k,c){var f=a(this),m=a.effects.setMode(f,k.mode||"hide"),l="hide"===m,b=parseInt(k.percent,10)||150,g=b/100,d={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};a.extend(k,{effect:"scale",queue:!1,fade:!0,mode:m,complete:c,percent:l?b:100,from:l?d:{height:d.height*g,width:d.width*g,outerHeight:d.outerHeight*g,outerWidth:d.outerWidth*g}}),f.effect(k)},a.effects.effect.scale=function(q,k){var w=a(this),f=a.extend(!0,{},q),d=a.effects.setMode(w,q.mode||"effect"),v=parseInt(q.percent,10)||(0===parseInt(q.percent,10)?0:"hide"===d?0:100),b=q.direction||"both",m=q.origin,g={height:w.height(),width:w.width(),outerHeight:w.outerHeight(),outerWidth:w.outerWidth()},u={y:"horizontal"!==b?v/100:1,x:"vertical"!==b?v/100:1};f.effect="size",f.queue=!1,f.complete=k,"effect"!==d&&(f.origin=m||["middle","center"],f.restore=!0),f.from=q.from||("show"===d?{height:0,width:0,outerHeight:0,outerWidth:0}:g),f.to={height:g.height*u.y,width:g.width*u.x,outerHeight:g.outerHeight*u.y,outerWidth:g.outerWidth*u.x},f.fade&&("show"===d&&(f.from.opacity=0,f.to.opacity=1),"hide"===d&&(f.from.opacity=1,f.to.opacity=0)),w.effect(f)},a.effects.effect.size=function(H,D){var w,A,z,L=a(this),x=["position","top","bottom","left","right","width","height","overflow","opacity"],E=["position","top","bottom","left","right","overflow","opacity"],C=["width","height","overflow"],J=["fontSize"],q=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],I=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],y=a.effects.setMode(L,H.mode||"effect"),G=H.restore||"effect"!==y,F=H.scale||"both",B=H.origin||["middle","center"],k=L.css("position"),M=G?x:E,K={height:0,width:0,outerHeight:0,outerWidth:0};"show"===y&&L.show(),w={height:L.height(),width:L.width(),outerHeight:L.outerHeight(),outerWidth:L.outerWidth()},"toggle"===H.mode&&"show"===y?(L.from=H.to||K,L.to=H.from||w):(L.from=H.from||("show"===y?K:w),L.to=H.to||("hide"===y?K:w)),z={from:{y:L.from.height/w.height,x:L.from.width/w.width},to:{y:L.to.height/w.height,x:L.to.width/w.width}},("box"===F||"both"===F)&&(z.from.y!==z.to.y&&(M=M.concat(q),L.from=a.effects.setTransition(L,q,z.from.y,L.from),L.to=a.effects.setTransition(L,q,z.to.y,L.to)),z.from.x!==z.to.x&&(M=M.concat(I),L.from=a.effects.setTransition(L,I,z.from.x,L.from),L.to=a.effects.setTransition(L,I,z.to.x,L.to))),("content"===F||"both"===F)&&z.from.y!==z.to.y&&(M=M.concat(J).concat(C),L.from=a.effects.setTransition(L,J,z.from.y,L.from),L.to=a.effects.setTransition(L,J,z.to.y,L.to)),a.effects.save(L,M),L.show(),a.effects.createWrapper(L),L.css("overflow","hidden").css(L.from),B&&(A=a.effects.getBaseline(B,w),L.from.top=(w.outerHeight-L.outerHeight())*A.y,L.from.left=(w.outerWidth-L.outerWidth())*A.x,L.to.top=(w.outerHeight-L.to.outerHeight)*A.y,L.to.left=(w.outerWidth-L.to.outerWidth)*A.x),L.css(L.from),("content"===F||"both"===F)&&(q=q.concat(["marginTop","marginBottom"]).concat(J),I=I.concat(["marginLeft","marginRight"]),C=x.concat(q).concat(I),L.find("*[width]").each(function(){var b=a(this),c={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};G&&a.effects.save(b,C),b.from={height:c.height*z.from.y,width:c.width*z.from.x,outerHeight:c.outerHeight*z.from.y,outerWidth:c.outerWidth*z.from.x},b.to={height:c.height*z.to.y,width:c.width*z.to.x,outerHeight:c.height*z.to.y,outerWidth:c.width*z.to.x},z.from.y!==z.to.y&&(b.from=a.effects.setTransition(b,q,z.from.y,b.from),b.to=a.effects.setTransition(b,q,z.to.y,b.to)),z.from.x!==z.to.x&&(b.from=a.effects.setTransition(b,I,z.from.x,b.from),b.to=a.effects.setTransition(b,I,z.to.x,b.to)),b.css(b.from),b.animate(b.to,H.duration,H.easing,function(){G&&a.effects.restore(b,C)})})),L.animate(L.to,{queue:!1,duration:H.duration,easing:H.easing,complete:function(){0===L.to.opacity&&L.css("opacity",L.from.opacity),"hide"===y&&L.hide(),a.effects.restore(L,M),G||("static"===k?L.css({position:"relative",top:L.to.top,left:L.to.left}):a.each(["top","left"],function(b,c){L.css(c,function(g,d){var f=parseInt(d,10),h=b?L.to.left:L.to.top;return"auto"===d?h+"px":f+h+"px"})})),a.effects.removeWrapper(L),D()}})}}(jQuery),function(a){a.effects.effect.shake=function(G,C){var q,z=a(this),y=["position","top","bottom","left","right","height","width"],J=a.effects.setMode(z,G.mode||"effect"),w=G.direction||"left",D=G.distance||20,B=G.times||3,I=2*B+1,k=Math.round(G.duration/I),H="up"===w||"down"===w?"top":"left",x="up"===w||"left"===w,F={},E={},A={},b=z.queue(),K=b.length;for(a.effects.save(z,y),z.show(),a.effects.createWrapper(z),F[H]=(x?"-=":"+=")+D,E[H]=(x?"+=":"-=")+2*D,A[H]=(x?"-=":"+=")+2*D,z.animate(F,k,G.easing),q=1;B>q;q++){z.animate(E,k,G.easing).animate(A,k,G.easing)}z.animate(E,k,G.easing).animate(F,k/2,G.easing).queue(function(){"hide"===J&&z.hide(),a.effects.restore(z,y),a.effects.removeWrapper(z),C()}),K>1&&b.splice.apply(b,[1,0].concat(b.splice(K,I+1))),z.dequeue()}}(jQuery),function(a){a.effects.effect.slide=function(q,k){var y,f=a(this),d=["position","top","bottom","left","right","width","height"],w=a.effects.setMode(f,q.mode||"show"),b="show"===w,m=q.direction||"left",g="up"===m||"down"===m?"top":"left",v="up"===m||"left"===m,x={};a.effects.save(f,d),f.show(),y=q.distance||f["top"===g?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(f).css({overflow:"hidden"}),b&&f.css(g,v?isNaN(y)?"-"+y:-y:y),x[g]=(b?v?"+=":"-=":v?"-=":"+=")+y,f.animate(x,{queue:!1,duration:q.duration,easing:q.easing,complete:function(){"hide"===w&&f.hide(),a.effects.restore(f,d),a.effects.removeWrapper(f),k()}})}}(jQuery),function(a){a.effects.effect.transfer=function(v,m){var A=a(this),g=a(v.to),f="fixed"===g.css("position"),y=a("body"),b=f?y.scrollTop():0,q=f?y.scrollLeft():0,k=g.offset(),x={top:k.top-b,left:k.left-q,height:g.innerHeight(),width:g.innerWidth()},z=A.offset(),w=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(v.className).css({top:z.top-b,left:z.left-q,height:A.innerHeight(),width:A.innerWidth(),position:f?"fixed":"absolute"}).animate(x,v.duration,v.easing,function(){w.remove(),m()})}}(jQuery),function(a){a.widget("ui.menu",{version:"1.10.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(b){this.options.disabled&&b.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(b){b.preventDefault()},"click .ui-state-disabled > a":function(b){b.preventDefault()},"click .ui-menu-item:has(a)":function(c){var b=a(c.target).closest(".ui-menu-item");!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(c),b.has(".ui-menu").length?this.expand(c):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var b=a(c.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(c,b)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,d){var b=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(c,b)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(k){function c(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var f,m,l,b,g,d=!0;switch(k.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(k);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(k);break;case a.ui.keyCode.HOME:this._move("first","first",k);break;case a.ui.keyCode.END:this._move("last","last",k);break;case a.ui.keyCode.UP:this.previous(k);break;case a.ui.keyCode.DOWN:this.next(k);break;case a.ui.keyCode.LEFT:this.collapse(k);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(k);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(k);break;case a.ui.keyCode.ESCAPE:this.collapse(k);break;default:d=!1,m=this.previousFilter||"",l=String.fromCharCode(k.keyCode),b=!1,clearTimeout(this.filterTimer),l===m?b=!0:l=m+l,g=RegExp("^"+c(l),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())}),f=b&&-1!==f.index(this.active.next())?this.active.nextAll(".ui-menu-item"):f,f.length||(l=String.fromCharCode(k.keyCode),g=RegExp("^"+c(l),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())})),f.length?(this.focus(k,f),f.length>1?(this.previousFilter=l,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}d&&k.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(b):this.select(b))},refresh:function(){var d,b=this.options.icons.submenu,c=this.element.find(this.options.menus);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var g=a(this),f=g.prev("a"),h=a("<span>").addClass("ui-menu-icon ui-icon "+b).data("ui-menu-submenu-carat",!0);f.attr("aria-haspopup","true").prepend(h),g.attr("aria-labelledby",f.attr("id"))}),d=c.add(this.element),d.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),d.children(":not(.ui-menu-item)").each(function(){var f=a(this);/[^\-\u2014\u2013\s]/.test(f.text())||f.addClass("ui-widget-content ui-menu-divider")}),d.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(b,c){"icons"===b&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu),this._super(b,c)},focus:function(c,f){var b,d;this.blur(c,c&&"focus"===c.type),this._scrollIntoView(f),this.active=f.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),c&&"keydown"===c.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),b=f.children(".ui-menu"),b.length&&/^mouse/.test(c.type)&&this._startOpening(b),this.activeMenu=f.parent(),this._trigger("focus",c,{item:f})},_scrollIntoView:function(g){var c,d,k,h,b,f;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,k=g.offset().top-this.activeMenu.offset().top-c-d,h=this.activeMenu.scrollTop(),b=this.activeMenu.height(),f=g.height(),0>k?this.activeMenu.scrollTop(h+k):k+f>b&&this.activeMenu.scrollTop(h+k-b+f))},blur:function(b,c){c||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",b,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer),"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(b)},this.delay))},_open:function(c){var b=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true"),c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(c,b){clearTimeout(this.timer),this.timer=this._delay(function(){var d=b?this.element:a(c&&c.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(c),this.activeMenu=d},this.delay)},_close:function(b){b||(b=this.active?this.active.parent():this.element),b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(b){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(b,c))},expand:function(b){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(b,c)}))},next:function(b){this._move("next","first",b)},previous:function(b){this._move("prev","last",b)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(c,f,b){var d;this.active&&(d="first"===c||"last"===c?this.active["first"===c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[f]()),this.focus(b,d)},nextPage:function(d){var b,c,f;return this.active?(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=a(this),0>b.offset().top-c-f}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(d),undefined)},previousPage:function(d){var b,c,f;return this.active?(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=a(this),b.offset().top-c+f>0}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(d),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0),this._trigger("select",c,b)}})}(jQuery),function(D,y){function v(c,d,a){return[parseFloat(c[0])*(g.test(c[0])?d/100:1),parseFloat(c[1])*(g.test(c[1])?a/100:1)]}function E(c,a){return parseInt(D.css(c,a),10)||0}function m(c){var a=c[0];return 9===a.nodeType?{width:c.width(),height:c.height(),offset:{top:0,left:0}}:D.isWindow(a)?{width:c.width(),height:c.height(),offset:{top:c.scrollTop(),left:c.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:c.outerWidth(),height:c.outerHeight(),offset:c.offset()}}D.ui=D.ui||{};var k,B=Math.max,b=Math.abs,w=Math.round,q=/left|center|right/,A=/top|center|bottom/,C=/[\+\-]\d+(\.[\d]+)?%?/,z=/^\w+/,g=/%$/,x=D.fn.position;D.position={scrollbarWidth:function(){if(k!==y){return k}var d,e,f=D("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),c=f.children()[0];return D("body").append(f),d=c.offsetWidth,f.css("overflow","scroll"),e=c.offsetWidth,d===e&&(e=f[0].clientWidth),f.remove(),k=d-e},getScrollInfo:function(d){var a=d.isWindow?"":d.element.css("overflow-x"),c=d.isWindow?"":d.element.css("overflow-y"),h="scroll"===a||"auto"===a&&d.width<d.element[0].scrollWidth,f="scroll"===c||"auto"===c&&d.height<d.element[0].scrollHeight;return{width:f?D.position.scrollbarWidth():0,height:h?D.position.scrollbarWidth():0}},getWithinInfo:function(d){var a=D(d||window),c=D.isWindow(a[0]);return{element:a,isWindow:c,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}},D.fn.position=function(l){if(!l||!l.of){return x.apply(this,arguments)}l=D.extend({},l);var c,a,h,d,G,F,r=D(l.of),n=D.position.getWithinInfo(l.within),u=D.position.getScrollInfo(n),f=(l.collision||"flip").split(" "),s={};return F=m(r),r[0].preventDefault&&(l.at="left top"),a=F.width,h=F.height,d=F.offset,G=D.extend({},d),D.each(["my","at"],function(){var o,e,H=(l[this]||"").split(" ");1===H.length&&(H=q.test(H[0])?H.concat(["center"]):A.test(H[0])?["center"].concat(H):["center","center"]),H[0]=q.test(H[0])?H[0]:"center",H[1]=A.test(H[1])?H[1]:"center",o=C.exec(H[0]),e=C.exec(H[1]),s[this]=[o?o[0]:0,e?e[0]:0],l[this]=[z.exec(H[0])[0],z.exec(H[1])[0]]}),1===f.length&&(f[1]=f[0]),"right"===l.at[0]?G.left+=a:"center"===l.at[0]&&(G.left+=a/2),"bottom"===l.at[1]?G.top+=h:"center"===l.at[1]&&(G.top+=h/2),c=v(s.at,a,h),G.left+=c[0],G.top+=c[1],this.each(function(){var H,J,N=D(this),R=N.outerWidth(),M=N.outerHeight(),L=E(this,"marginLeft"),Q=E(this,"marginTop"),e=R+L+E(this,"marginRight")+u.width,o=M+Q+E(this,"marginBottom")+u.height,O=D.extend({},G),K=v(s.my,N.outerWidth(),N.outerHeight());"right"===l.my[0]?O.left-=R:"center"===l.my[0]&&(O.left-=R/2),"bottom"===l.my[1]?O.top-=M:"center"===l.my[1]&&(O.top-=M/2),O.left+=K[0],O.top+=K[1],D.support.offsetFractions||(O.left=w(O.left),O.top=w(O.top)),H={marginLeft:L,marginTop:Q},D.each(["left","top"],function(I,P){D.ui.position[f[I]]&&D.ui.position[f[I]][P](O,{targetWidth:a,targetHeight:h,elemWidth:R,elemHeight:M,collisionPosition:H,collisionWidth:e,collisionHeight:o,offset:[c[0]+K[0],c[1]+K[1]],my:l.my,at:l.at,within:n,elem:N})}),l.using&&(J=function(P){var I=d.left-O.left,T=I+a-R,V=d.top-O.top,U=V+h-M,S={target:{element:r,left:d.left,top:d.top,width:a,height:h},element:{element:N,left:O.left,top:O.top,width:R,height:M},horizontal:0>T?"left":I>0?"right":"center",vertical:0>U?"top":V>0?"bottom":"middle"};R>a&&a>b(I+T)&&(S.horizontal="center"),M>h&&h>b(V+U)&&(S.vertical="middle"),S.important=B(b(I),b(T))>B(b(V),b(U))?"horizontal":"vertical",l.using.call(this,P,S)}),N.offset(D.extend(O,{using:J}))})},D.ui.position={fit:{left:function(H,G){var u,I=G.within,d=I.isWindow?I.scrollLeft:I.offset.left,c=I.width,a=H.left-G.collisionPosition.marginLeft,F=d-a,f=a+G.collisionWidth-c-d;G.collisionWidth>c?F>0&&0>=f?(u=H.left+F+G.collisionWidth-c-d,H.left+=F-u):H.left=f>0&&0>=F?d:F>f?d+c-G.collisionWidth:d:F>0?H.left+=F:f>0?H.left-=f:H.left=B(H.left-a,H.left)},top:function(H,G){var u,I=G.within,d=I.isWindow?I.scrollTop:I.offset.top,c=G.within.height,a=H.top-G.collisionPosition.marginTop,F=d-a,f=a+G.collisionHeight-c-d;G.collisionHeight>c?F>0&&0>=f?(u=H.top+F+G.collisionHeight-c-d,H.top+=F-u):H.top=f>0&&0>=F?d:F>f?d+c-G.collisionHeight:d:F>0?H.top+=F:f>0?H.top-=f:H.top=B(H.top-a,H.top)}},flip:{left:function(Q,L){var I,R,G=L.within,F=G.offset.left+G.scrollLeft,O=G.width,J=G.isWindow?G.scrollLeft:G.offset.left,H=Q.left-L.collisionPosition.marginLeft,N=H-J,P=H+L.collisionWidth-O-J,M="left"===L.my[0]?-L.elemWidth:"right"===L.my[0]?L.elemWidth:0,r="left"===L.at[0]?L.targetWidth:"right"===L.at[0]?-L.targetWidth:0,K=-2*L.offset[0];0>N?(I=Q.left+M+r+K+L.collisionWidth-O-F,(0>I||b(N)>I)&&(Q.left+=M+r+K)):P>0&&(R=Q.left-L.collisionPosition.marginLeft+M+r+K-J,(R>0||P>b(R))&&(Q.left+=M+r+K))},top:function(R,M){var I,S,G=M.within,F=G.offset.top+G.scrollTop,P=G.height,J=G.isWindow?G.scrollTop:G.offset.top,H=R.top-M.collisionPosition.marginTop,O=H-J,Q=H+M.collisionHeight-P-J,N="top"===M.my[1],r=N?-M.elemHeight:"bottom"===M.my[1]?M.elemHeight:0,L="top"===M.at[1]?M.targetHeight:"bottom"===M.at[1]?-M.targetHeight:0,K=-2*M.offset[1];0>O?(S=R.top+r+L+K+M.collisionHeight-P-F,R.top+r+L+K>O&&(0>S||b(O)>S)&&(R.top+=r+L+K)):Q>0&&(I=R.top-M.collisionPosition.marginTop+r+L+K-J,R.top+r+L+K>Q&&(I>0||Q>b(I))&&(R.top+=r+L+K))}},flipfit:{left:function(){D.ui.position.flip.left.apply(this,arguments),D.ui.position.fit.left.apply(this,arguments)},top:function(){D.ui.position.flip.top.apply(this,arguments),D.ui.position.fit.top.apply(this,arguments)}}},function(){var l,d,f,F,u,c=document.getElementsByTagName("body")[0],h=document.createElement("div");l=document.createElement(c?"div":"body"),f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},c&&D.extend(f,{position:"absolute",left:"-1000px",top:"-1000px"});for(u in f){l.style[u]=f[u]}l.appendChild(h),d=c||document.documentElement,d.insertBefore(l,d.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",F=D(h).offset().left,D.support.offsetFractions=F>10&&11>F,l.innerHTML="",d.removeChild(l)}()}(jQuery),function(a,b){a.widget("ui.progressbar",{version:"1.10.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(c){return c===b?this.options.value:(this.options.value=this._constrainedValue(c),this._refreshValue(),b)},_constrainedValue:function(c){return c===b&&(c=this.options.value),this.indeterminate=c===!1,"number"!=typeof c&&(c=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,c))},_setOptions:function(c){var d=c.value;delete c.value,this._super(c),this.options.value=this._constrainedValue(d),this._refreshValue()},_setOption:function(c,d){"max"===c&&(d=Math.max(this.min,d)),this._super(c,d)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var d=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||d>this.min).toggleClass("ui-corner-right",d===this.options.max).width(c.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":d}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==d&&(this.oldValue=d,this._trigger("change")),d===this.options.max&&this._trigger("complete")}})}(jQuery),function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var g,d,f=this.options,k=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",c=[];for(d=f.values&&f.values.length||1,k.length>d&&(k.slice(d).remove(),k=k.slice(0,d)),g=k.length;d>g;g++){c.push(h)}this.handles=k.add(a(c.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(l){a(this).data("ui-slider-handle-index",l)})},_createRange:function(){var d=this.options,c="";d.range?(d.range===!0&&(d.values?d.values.length&&2!==d.values.length?d.values=[d.values[0],d.values[0]]:a.isArray(d.values)&&(d.values=d.values.slice(0)):d.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:""))):this.range=a([])},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c),this._on(c,this._handleEvents),this._hoverable(c),this._focusable(c)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(v){var m,z,g,f,x,d,q,k,w=this,y=this.options;return y.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),m={x:v.pageX,y:v.pageY},z=this._normValueFromMouse(m),g=this._valueMax()-this._valueMin()+1,this.handles.each(function(h){var c=Math.abs(z-w.values(h));(g>c||g===c&&(h===w._lastChangedValue||w.values(h)===y.min))&&(g=c,f=a(this),x=h)}),d=this._start(v,x),d===!1?!1:(this._mouseSliding=!0,this._handleIndex=x,f.addClass("ui-state-active").focus(),q=f.offset(),k=!a(v.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=k?{left:0,top:0}:{left:v.pageX-q.left-f.width()/2,top:v.pageY-q.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(v,x,z),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(d){var f={x:d.pageX,y:d.pageY},c=this._normValueFromMouse(f);return this._slide(d,this._handleIndex,c),!1},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(d){var g,c,f,k,h;return"horizontal"===this.orientation?(g=this.elementSize.width,c=d.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(g=this.elementSize.height,c=d.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),f=c/g,f>1&&(f=1),0>f&&(f=0),"vertical"===this.orientation&&(f=1-f),k=this._valueMax()-this._valueMin(),h=this._valueMin()+f*k,this._trimAlignValue(h)},_start:function(d,f){var c={handle:this.handles[f],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("start",d,c)},_slide:function(d,g,c){var f,k,h;this.options.values&&this.options.values.length?(f=this.values(g?0:1),2===this.options.values.length&&this.options.range===!0&&(0===g&&c>f||1===g&&f>c)&&(c=f),c!==this.values(g)&&(k=this.values(),k[g]=c,h=this._trigger("slide",d,{handle:this.handles[g],value:c,values:k}),f=this.values(g?0:1),h!==!1&&this.values(g,c,!0))):c!==this.value()&&(h=this._trigger("slide",d,{handle:this.handles[g],value:c}),h!==!1&&this.value(c))},_stop:function(d,f){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("stop",d,c)},_change:function(d,f){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._lastChangedValue=f,this._trigger("change",d,c)}},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(f,c){var d,h,g;if(arguments.length>1){return this.options.values[f]=this._trimAlignValue(c),this._refreshValue(),this._change(null,f),undefined}if(!arguments.length){return this._values()}if(!a.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(f):this.value()}for(d=this.options.values,h=arguments[0],g=0;d.length>g;g+=1){d[g]=this._trimAlignValue(h[g]),this._change(null,g)}this._refreshValue()},_setOption:function(f,c){var d,g=0;switch("range"===f&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(g=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),f){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;g>d;d+=1){this._change(null,d)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(d){var g,c,f;if(arguments.length){return g=this.options.values[d],g=this._trimAlignValue(g)}if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),f=0;c.length>f;f+=1){c[f]=this._trimAlignValue(c[f])}return c}return[]},_trimAlignValue:function(d){if(this._valueMin()>=d){return this._valueMin()}if(d>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,c=(d-this._valueMin())%g,f=d-c;return 2*Math.abs(c)>=g&&(f+=c>0?g:-g),parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var u,m,x,g,f,w=this.options.range,d=this.options,q=this,k=this._animateOff?!1:d.animate,v={};this.options.values&&this.options.values.length?this.handles.each(function(c){m=100*((q.values(c)-q._valueMin())/(q._valueMax()-q._valueMin())),v["horizontal"===q.orientation?"left":"bottom"]=m+"%",a(this).stop(1,1)[k?"animate":"css"](v,d.animate),q.options.range===!0&&("horizontal"===q.orientation?(0===c&&q.range.stop(1,1)[k?"animate":"css"]({left:m+"%"},d.animate),1===c&&q.range[k?"animate":"css"]({width:m-u+"%"},{queue:!1,duration:d.animate})):(0===c&&q.range.stop(1,1)[k?"animate":"css"]({bottom:m+"%"},d.animate),1===c&&q.range[k?"animate":"css"]({height:m-u+"%"},{queue:!1,duration:d.animate}))),u=m}):(x=this.value(),g=this._valueMin(),f=this._valueMax(),m=f!==g?100*((x-g)/(f-g)):0,v["horizontal"===this.orientation?"left":"bottom"]=m+"%",this.handle.stop(1,1)[k?"animate":"css"](v,d.animate),"min"===w&&"horizontal"===this.orientation&&this.range.stop(1,1)[k?"animate":"css"]({width:m+"%"},d.animate),"max"===w&&"horizontal"===this.orientation&&this.range[k?"animate":"css"]({width:100-m+"%"},{queue:!1,duration:d.animate}),"min"===w&&"vertical"===this.orientation&&this.range.stop(1,1)[k?"animate":"css"]({height:m+"%"},d.animate),"max"===w&&"vertical"===this.orientation&&this.range[k?"animate":"css"]({height:100-m+"%"},{queue:!1,duration:d.animate}))},_handleEvents:{keydown:function(d){var e,h,g,c,f=a(d.target).data("ui-slider-handle-index");switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(d.target).addClass("ui-state-active"),e=this._start(d,f),e===!1)){return}}switch(c=this.options.step,h=g=this.options.values&&this.options.values.length?this.values(f):this.value(),d.keyCode){case a.ui.keyCode.HOME:g=this._valueMin();break;case a.ui.keyCode.END:g=this._valueMax();break;case a.ui.keyCode.PAGE_UP:g=this._trimAlignValue(h+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:g=this._trimAlignValue(h-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(h===this._valueMax()){return}g=this._trimAlignValue(h+c);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(h===this._valueMin()){return}g=this._trimAlignValue(h-c)}this._slide(d,f,g)},click:function(c){c.preventDefault()},keyup:function(d){var c=a(d.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(d,c),this._change(d,c),a(d.target).removeClass("ui-state-active"))}}})}(jQuery),function(a){function b(c){return function(){var d=this.element.val();c.apply(this,arguments),this._refresh(),d!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var d={},c=this.element;return a.each(["min","max","step"],function(e,f){var g=c.attr(f);void 0!==g&&g.length&&(d[f]=g)}),d},_events:{keydown:function(c){this._start(c)&&this._keydown(c)&&c.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",c),void 0)},mousewheel:function(c,d){if(d){if(!this.spinning&&!this._start(c)){return !1}this._spin((d>0?1:-1)*this.options.step,c),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(c)},100),c.preventDefault()}},"mousedown .ui-spinner-button":function(f){function c(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),f.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(f)!==!1&&this._repeat(null,a(f.currentTarget).hasClass("ui-spinner-up")?1:-1,f)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){return a(c.currentTarget).hasClass("ui-state-active")?this._start(c)===!1?!1:(this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(0.5*c.height())&&c.height()>0&&c.height(c.height()),this.options.disabled&&this.disable()},_keydown:function(f){var c=this.options,d=a.ui.keyCode;switch(f.keyCode){case d.UP:return this._repeat(null,1,f),!0;case d.DOWN:return this._repeat(null,-1,f),!0;case d.PAGE_UP:return this._repeat(null,c.page,f),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,f),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){return this.spinning||this._trigger("start",c)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(d,f,c){d=d||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,f,c)},d),this._spin(f*this.options.step,c)},_spin:function(d,f){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+d*this._increment(this.counter)),this.spinning&&this._trigger("spin",f,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(d){var c=this.options.incremental;return c?a.isFunction(c)?c(d):Math.floor(d*d*d/50000-d*d/500+17*d/200+1):1},_precision:function(){var c=this._precisionOf(this.options.step);return null!==this.options.min&&(c=Math.max(c,this._precisionOf(this.options.min))),c},_precisionOf:function(d){var f=""+d,c=f.indexOf(".");return -1===c?0:f.length-c-1},_adjustValue:function(d){var g,c,f=this.options;return g=null!==f.min?f.min:0,c=d-g,c=Math.round(c/f.step)*f.step,d=g+c,d=parseFloat(d.toFixed(this._precision())),null!==f.max&&d>f.max?f.max:null!==f.min&&f.min>d?f.min:d},_stop:function(c){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",c))},_setOption:function(d,f){if("culture"===d||"numberFormat"===d){var c=this._parse(this.element.val());return this.options[d]=f,this.element.val(this._format(c)),void 0}("max"===d||"min"===d||"step"===d)&&"string"==typeof f&&(f=this._parse(f)),"icons"===d&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(f.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(f.down)),this._super(d,f),"disabled"===d&&(f?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(c){this._super(c),this._value(this.element.val())}),_parse:function(c){return"string"==typeof c&&""!==c&&(c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c),""===c||isNaN(c)?null:c},_format:function(c){return""===c?"":window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(d,f){var c;""!==d&&(c=this._parse(d),null!==c&&(f||(c=this._adjustValue(c)),d=this._format(c))),this.element.val(d),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(c){this._stepUp(c)}),_stepUp:function(c){this._start()&&(this._spin((c||1)*this.options.step),this._stop())},stepDown:b(function(c){this._stepDown(c)}),_stepDown:function(c){this._start()&&(this._spin((c||1)*-this.options.step),this._stop())},pageUp:b(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:b(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){return arguments.length?(b(this._value).call(this,c),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(b,d){function a(){return ++g}function c(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var g=0,f=/#.*$/;b.widget("ui.tabs",{version:"1.10.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var k=this,h=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",h.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(l){b(this).is(".ui-state-disabled")&&l.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){b(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),h.active=this._initialActive(),b.isArray(h.disabled)&&(h.disabled=b.unique(h.disabled.concat(b.map(this.tabs.filter(".ui-state-disabled"),function(e){return k.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(h.active):b(),this._refresh(),this.active.length&&this.load(h.active)},_initialActive:function(){var e=this.options.active,h=this.options.collapsible,k=location.hash.substring(1);return null===e&&(k&&this.tabs.each(function(l,m){return b(m).attr("aria-controls")===k?(e=l,!1):d}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=h?!1:0)),!h&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):b()}},_tabKeydown:function(e){var h=b(this.document[0].activeElement).closest("li"),l=this.tabs.index(h),k=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:l++;break;case b.ui.keyCode.UP:case b.ui.keyCode.LEFT:k=!1,l--;break;case b.ui.keyCode.END:l=this.anchors.length-1;break;case b.ui.keyCode.HOME:l=0;break;case b.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(l),d;case b.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(l===this.options.active?!1:l),d;default:return}e.preventDefault(),clearTimeout(this.activating),l=this._focusNextTab(l,k),e.ctrlKey||(h.attr("aria-selected","false"),this.tabs.eq(l).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",l)},this.delay))}},_panelKeydown:function(h){this._handlePageNav(h)||h.ctrlKey&&h.keyCode===b.ui.keyCode.UP&&(h.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===b.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===b.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):d},_findNextTab:function(l,h){function k(){return l>m&&(l=0),0>l&&(l=m),l}for(var m=this.tabs.length-1;-1!==b.inArray(k(),this.options.disabled);){l=h?l+1:l-1}return l},_focusNextTab:function(h,k){return h=this._findNextTab(h,k),this.tabs.eq(h).focus(),h},_setOption:function(h,e){return"active"===h?(this._activate(e),d):"disabled"===h?(this._setupDisabled(e),d):(this._super(h,e),"collapsible"===h&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===h&&this._setupEvents(e),"heightStyle"===h&&this._setupHeightStyle(e),d)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+a()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var k=this.options,h=this.tablist.children(":has(a[href])");k.disabled=b.map(h.filter(".ui-state-disabled"),function(e){return h.index(e)}),this._processTabs(),k.active!==!1&&this.anchors.length?this.active.length&&!b.contains(this.tablist[0],this.active[0])?this.tabs.length===k.disabled.length?(k.active=!1,this.active=b()):this._activate(this._findNextTab(Math.max(0,k.active-1),!1)):k.active=this.tabs.index(this.active):(k.active=!1,this.active=b()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var h=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return b("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=b(),this.anchors.each(function(m,w){var u,k,s,q=b(w).uniqueId().attr("id"),e=b(w).closest("li"),v=e.attr("aria-controls");c(w)?(u=w.hash,k=h.element.find(h._sanitizeSelector(u))):(s=h._tabId(e),u="#"+s,k=h.element.find(u),k.length||(k=h._createPanel(s),k.insertAfter(h.panels[m-1]||h.tablist)),k.attr("aria-live","polite")),k.length&&(h.panels=h.panels.add(k)),v&&e.data("ui-tabs-aria-controls",v),e.attr({"aria-controls":u.substring(1),"aria-labelledby":q}),k.attr("aria-labelledby",q)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(h){return b("<div>").attr("id",h).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(l){b.isArray(l)&&(l.length?l.length===this.anchors.length&&(l=!0):l=!1);for(var h,k=0;h=this.tabs[k];k++){l===!0||-1!==b.inArray(k,l)?b(h).addClass("ui-state-disabled").attr("aria-disabled","true"):b(h).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=l},_setupEvents:function(k){var h={click:function(e){e.preventDefault()}};k&&b.each(k.split(" "),function(l,m){h[m]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,h),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(l){var h,k=this.element.parent();"fill"===l?(h=k.height(),h-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var n=b(this),m=n.css("position");"absolute"!==m&&"fixed"!==m&&(h-=n.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){h-=b(this).outerHeight(!0)}),this.panels.each(function(){b(this).height(Math.max(0,h-b(this).innerHeight()+b(this).height()))}).css("overflow","auto")):"auto"===l&&(h=0,this.panels.each(function(){h=Math.max(h,b(this).height("").height())}).height(h))},_eventHandler:function(x){var v=this.options,A=this.active,q=b(x.currentTarget),m=q.closest("li"),z=m[0]===A[0],k=z&&v.collapsible,w=k?b():this._getPanelForTab(m),u=A.length?this._getPanelForTab(A):b(),y={oldTab:A,oldPanel:u,newTab:k?b():m,newPanel:w};x.preventDefault(),m.hasClass("ui-state-disabled")||m.hasClass("ui-tabs-loading")||this.running||z&&!v.collapsible||this._trigger("beforeActivate",x,y)===!1||(v.active=k?!1:this.tabs.index(m),this.active=z?b():m,this.xhr&&this.xhr.abort(),u.length||w.length||b.error("jQuery UI Tabs: Mismatching fragment identifier."),w.length&&this.load(this.tabs.index(m),x),this._toggle(x,y))},_toggle:function(q,k){function l(){u.running=!1,u._trigger("activate",q,k)}function v(){k.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),h.length&&u.options.show?u._show(h,u.options.show,l):(h.show(),l())}var u=this,h=k.newPanel,m=k.oldPanel;this.running=!0,m.length&&this.options.hide?this._hide(m,this.options.hide,function(){k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),v()}):(k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),m.hide(),v()),m.attr({"aria-expanded":"false","aria-hidden":"true"}),k.oldTab.attr("aria-selected","false"),h.length&&m.length?k.oldTab.attr("tabIndex",-1):h.length&&this.tabs.filter(function(){return 0===b(this).attr("tabIndex")}).attr("tabIndex",-1),h.attr({"aria-expanded":"true","aria-hidden":"false"}),k.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(l){var h,k=this._findActive(l);k[0]!==this.active[0]&&(k.length||(k=this.active),h=k.find(".ui-tabs-anchor")[0],this._eventHandler({target:h,currentTarget:h,preventDefault:b.noop}))},_findActive:function(h){return h===!1?b():this.tabs.eq(h)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){b.data(this,"ui-tabs-destroy")?b(this).remove():b(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var k=b(this),h=k.data("ui-tabs-aria-controls");h?k.attr("aria-controls",h).removeData("ui-tabs-aria-controls"):k.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var h=this.options.disabled;h!==!1&&(e===d?h=!1:(e=this._getIndex(e),h=b.isArray(h)?b.map(h,function(k){return k!==e?k:null}):b.map(this.tabs,function(k,l){return l!==e?l:null})),this._setupDisabled(h))},disable:function(e){var h=this.options.disabled;if(h!==!0){if(e===d){h=!0}else{if(e=this._getIndex(e),-1!==b.inArray(e,h)){return}h=b.isArray(h)?b.merge([e],h).sort():[e]}this._setupDisabled(h)}},load:function(s,l){s=this._getIndex(s);var v=this,u=this.tabs.eq(s),k=u.find(".ui-tabs-anchor"),q=this._getPanelForTab(u),m={tab:u,panel:q};c(k[0])||(this.xhr=b.ajax(this._ajaxSettings(k,l,m)),this.xhr&&"canceled"!==this.xhr.statusText&&(u.addClass("ui-tabs-loading"),q.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){q.html(e),v._trigger("load",l,m)},1)}).complete(function(h,n){setTimeout(function(){"abort"===n&&v.panels.stop(!1,!0),u.removeClass("ui-tabs-loading"),q.removeAttr("aria-busy"),h===v.xhr&&delete v.xhr},1)})))},_ajaxSettings:function(l,h,k){var m=this;return{url:l.attr("href"),beforeSend:function(n,q){return m._trigger("beforeLoad",h,b.extend({jqXHR:n,ajaxSettings:q},k))}}},_getPanelForTab:function(k){var h=b(k).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}})}(jQuery),function(b){function d(h,f){var g=(h.attr("aria-describedby")||"").split(/\s+/);g.push(f),h.data("ui-tooltip-id",f).attr("aria-describedby",b.trim(g.join(" ")))}function a(h){var f=h.data("ui-tooltip-id"),g=(h.attr("aria-describedby")||"").split(/\s+/),k=b.inArray(f,g);-1!==k&&g.splice(k,1),h.removeData("ui-tooltip-id"),g=b.trim(g.join(" ")),g?h.attr("aria-describedby",g):h.removeAttr("aria-describedby")}var c=0;b.widget("ui.tooltip",{version:"1.10.2",options:{content:function(){var f=b(this).attr("title")||"";return b("<a>").text(f).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(h,f){var g=this;return"disabled"===h?(this[f?"_disable":"_enable"](),this.options[h]=f,void 0):(this._super(h,f),"content"===h&&b.each(this.tooltips,function(k,l){g._updateContent(l)}),void 0)},_disable:function(){var f=this;b.each(this.tooltips,function(e,g){var h=b.Event("blur");h.target=h.currentTarget=g[0],f.close(h,!0)}),this.element.find(this.options.items).addBack().each(function(){var g=b(this);g.is("[title]")&&g.data("ui-tooltip-title",g.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var f=b(this);f.data("ui-tooltip-title")&&f.attr("title",f.data("ui-tooltip-title"))})},open:function(h){var f=this,g=b(h?h.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),h&&"mouseover"===h.type&&g.parents().each(function(){var l,k=b(this);k.data("ui-tooltip-open")&&(l=b.Event("blur"),l.target=l.currentTarget=this,f.close(l,!0)),k.attr("title")&&(k.uniqueId(),f.parents[this.id]={element:this,title:k.attr("title")},k.attr("title",""))}),this._updateContent(g,h))},_updateContent:function(g,k){var f,h=this.options.content,m=this,l=k?k.type:null;return"string"==typeof h?this._open(k,g,h):(f=h.call(g[0],function(e){g.data("ui-tooltip-open")&&m._delay(function(){k&&(k.type=l),this._open(k,g,e)})}),f&&this._open(k,g,f),void 0)},_open:function(g,m,v){function u(h){e.of=h,f.is(":hidden")||f.position(e)}var f,q,k,e=b.extend({},this.options.position);if(v){if(f=this._find(m),f.length){return f.find(".ui-tooltip-content").html(v),void 0}m.is("[title]")&&(g&&"mouseover"===g.type?m.attr("title",""):m.removeAttr("title")),f=this._tooltip(m),d(m,f.attr("id")),f.find(".ui-tooltip-content").html(v),this.options.track&&g&&/^mouse/.test(g.type)?(this._on(this.document,{mousemove:u}),u(g)):f.position(b.extend({of:m},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(k=this.delayedShow=setInterval(function(){f.is(":visible")&&(u(e.of),clearInterval(k))},b.fx.interval)),this._trigger("open",g,{tooltip:f}),q={keyup:function(l){if(l.keyCode===b.ui.keyCode.ESCAPE){var h=b.Event(l);h.currentTarget=m[0],this.close(h,!0)}},remove:function(){this._removeTooltip(f)}},g&&"mouseover"!==g.type||(q.mouseleave="close"),g&&"focusin"!==g.type||(q.focusout="close"),this._on(!0,m,q)}},close:function(g){var f=this,k=b(g?g.currentTarget:this.element),h=this._find(k);this.closing||(clearInterval(this.delayedShow),k.data("ui-tooltip-title")&&k.attr("title",k.data("ui-tooltip-title")),a(k),h.stop(!0),this._hide(h,this.options.hide,function(){f._removeTooltip(b(this))}),k.removeData("ui-tooltip-open"),this._off(k,"mouseleave focusout keyup"),k[0]!==this.element[0]&&this._off(k,"remove"),this._off(this.document,"mousemove"),g&&"mouseleave"===g.type&&b.each(this.parents,function(m,l){b(l.element).attr("title",l.title),delete f.parents[m]}),this.closing=!0,this._trigger("close",g,{tooltip:h}),this.closing=!1)},_tooltip:function(g){var f="ui-tooltip-"+c++,h=b("<div>").attr({id:f,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return b("<div>").addClass("ui-tooltip-content").appendTo(h),h.appendTo(this.document[0].body),this.tooltips[f]=g,h},_find:function(g){var f=g.data("ui-tooltip-id");return f?b("#"+f):b()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var f=this;b.each(this.tooltips,function(e,g){var h=b.Event("blur");h.target=h.currentTarget=g[0],f.close(h,!0),b("#"+e).remove(),g.data("ui-tooltip-title")&&(g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))})}})}(jQuery);var BAROMETER;if(BAROMETER==undefined){BAROMETER={}}BAROMETER.load=function(a){this.barometer_id=a;this.empty_url="/images/transparent.gif";this.feedback_url="http://getbarometer.com/system/feedback_form/"+this.barometer_id;this.tab_html='<a id="barometer_tab" onclick="BAROMETER.show();" href="#">Feedback</a>';this.overlay_html='<div id="barometer_overlay" style="display: none;"><div id="barometer_main" style="top: 130.95px;"><a id="barometer_close" onclick="document.getElementById(\'barometer_overlay\').style.display = \'none\';return false" href="#"/></a><div id="overlay_header"><a href="http://getbarometer.com">Powered by Barometer</a></div><iframe src="'+this.empty_url+'" id="barometer_iframe" allowTransparency="true" scrolling="no" frameborder="0" class="loading"></iframe></div><div id="barometer_screen" onclick="document.getElementById(\'barometer_overlay\').style.display = \'none\';return false" style="height: 100%;"/></div></div>';document.write(this.tab_html);document.write(this.overlay_html)};BAROMETER.show=function(){document.getElementById("barometer_iframe").setAttribute("src",this.feedback_url);document.getElementById("barometer_overlay").style.display="block";return false};$(function(a){a.fn.fixedMenu=function(){return this.each(function(){var b=a(this);a("html").click(function(){b.find(".active").removeClass("active")});b.find("ul li > a").bind("click",function(c){c.stopPropagation();if(!a(this).parent().hasClass("single-link")&&!a(this).parent().hasClass("current")){if(a(this).parent().hasClass("active")){a(this).parent().removeClass("active")}else{a(this).parent().parent().find(".active").removeClass("active");a(this).parent().addClass("active")}}else{a(this).parent().parent().find(".active").removeClass("active")}})})}});function redirect(a){window.location.href=a}function checkCondition(b,f,a,g,c){var d="";if(c=="c_optgroup"){d=$(b.options[b.selectedIndex]).closest("optgroup").prop("label")}var e=false;if(f=="E"){e=(d==a)}if(f=="G"){e=(d>a)}if(f=="EG"){e=(d>=a)}if(f=="L"){e=(d<a)}if(f=="EL"){e=(d<=a)}if(f=="D"){e=(d!=a)}if(e){$("#"+g).show()}else{$("#"+g).hide()}}function startTextAreaResize(){if($("div")==null){return}$("div").on("keyup","textarea",function(a){$(this).css("height","auto");$(this).height(this.scrollHeight)});$("div").find("textarea").keyup()}function startformatCurrency(){if($(".currency")==null){return}$(".currency").blur(function(){$(".currency").formatCurrency()});$(".currency").formatCurrency()}function startToggle(){startTextAreaResize();$(function(){startformatCurrency()});var e=document.querySelectorAll('input[type="checkbox"].ios-switch');for(var d=0,a;a=e[d++];){var f=document.createElement("div");var c=a.getAttribute("texton");var b=a.getAttribute("textoff");f.className="ios-switch-div";$(f).attr("textOn",c);$(f).attr("textOff",b);a.parentNode.insertBefore(f,a.nextSibling)}}function copyFrom(a,b){var c=document.getElementById(a);if(c!=null){if(b.value==""){b.value=c.value;b.onchange()}}}function mudaAba(c,f,e,b){if(b==undefined){$(".aba_"+c).toggleClass("button-aba-off")}else{if(b){if($(".aba_"+c).hasClass("button-aba-off")){return}$(".aba_"+c).addClass("button-aba-off")}else{if(!$(".aba_"+c).hasClass("button-aba-off")){return}$(".aba_"+c).removeClass("button-aba-off")}}var a="true";if($(".aba_"+c).hasClass("button-aba-off")){a="false"}var h=e+"_"+c;atualizaVisualUsuario(h,a);if(f==null){return false}for(var d=0;d<f.length;d++){var g=".class_"+f[d];if(b==undefined){$(g).toggleClass("invisivel")}else{if(b){$(g).removeClass("invisivel")}else{$(g).addClass("invisivel")}}}return false}function encodeUrl(a){if(a.indexOf("?")>0){encodedParams="?";parts=a.split("?");params=parts[1].split("&");for(i=0;i<params.length;i++){if(i>0){encodedParams+="&"}if(params[i].indexOf("=")>0){p=params[i].split("=");encodedParams+=(p[0]+"="+escape(encodeURI(p[1])))}else{encodedParams+=params[i]}}a=parts[0]+encodedParams}return a}function changePosition(d,c){var b=document.getElementById(d);var a=document.getElementById(c);node2_copy=a.cloneNode(true);b.parentNode.insertBefore(node2_copy,b);a.parentNode.insertBefore(b,a);a.parentNode.replaceChild(a,node2_copy);return false}function mudaOrdem(g,d,o,n){var c=document.getElementById("rownum_"+g);var e=c.textContent;var k=parseInt(e)+o;var q=document.getElementById("tr_"+g);var f=document.getElementById("colid_"+g).textContent;for(var b=0;b<d.length;b++){var m=d[b];var a=document.getElementById("rownum_"+m);var h=a.textContent;if(k==h){a.textContent=e;c.textContent=k;var l=document.getElementById("colid_"+m).textContent;changePosition("tr_"+g,"tr_"+m);if(n=="coluna"){atualizaGenericoComValor(k,"seq_coluna",f,"F","coluna");atualizaGenericoComValor(e,"seq_coluna",l,"F","coluna")}}}return false}function confirmExclusao(){return(confirm("Tem certeza que deseja excluir?"))}function confirmAction(){return(confirm("Are you sure?"))}function alternaVisibilidade(a){var b=document.getElementById(a);var c=b.style.display;if(c=="block"){b.style.display="none"}else{b.style.display="block"}}function verificaDependencia(c,e,b){var d=document.getElementById("input_"+c);var a=document.getElementById(b);if(a!=null){if(d!=undefined){if(d.value!=e){a.style.display="none"}else{a.style.display=""}}}}function mostraInput(g){var b="txtDiv_"+g;var d=document.getElementById(b);if(d==null){return}var c=document.getElementById("viewDiv_"+g);var h=document.getElementById("input_"+g);var f=document.getElementById("celula_"+g);var e=d.offsetWidth+150;var a=d.offsetHeight;if(a<=30){a=30}if((e<120)&&(h.type=="select-one")){e=120}if(c!=undefined){c.style.display="none"}if(d!=undefined){d.style.display="block"}f.onclick=function(){return false};if(h!=undefined){h.onblur=function(){escondeInput(g);return false};h.onkeydown=function(){return inputKeyDown(g,h)};h.focus()}return true}function inputKeyDown(a,b){if(window.event.keyCode==13){b.blur();return false}if(window.event.keyCode==9){b.blur();if(window.event.shiftKey){mostraInput(a-1)}else{mostraInput(a+1)}return false}return true}function pegaConteudoInput(b,a){var d=b;var c=a;if(d.type=="select-one"){if(d.options[d.selectedIndex]==undefined){c.textContent="";return}c.textContent=d.options[d.selectedIndex].text}else{if(d.type=="checkbox"){if(d.checked){c.textContent="True"}else{c.textContent="False"}}else{c.textContent=d.value}}}function escondeInput(e){var a="txtDiv_"+e;var c=document.getElementById(a);var b=document.getElementById("viewDiv_"+e);var g=document.getElementById("input_"+e);var d=document.getElementById("celula_"+e);var f=document.getElementById("inputValor_"+e);if(c.textContent!=g.value){if(f!=null){c.style.backgroundColor="green";atualizaValorRemoto(e,g.value)}}if(b!=undefined){b.style.display="block"}if(c!=undefined){c.style.display="none"}pegaConteudoInput(g,b);d.onclick=function(){mostraInput(e);return false};return true}function getquerystring(){var a=document.forms.f1;var b=a.word.value;qstr="w="+escape(b);return qstr}function updatepage(a){document.getElementById("result").innerHTML=a}function alternaSideMenuProjeto(c){var a="#conteudo_projeto"+c;var b="#root_projeto"+c;if($(a)==null){return}$(a).toggle();if($(a).is(":visible")){$(b).addClass("menu_expandido");$(b).removeClass("menu_contraido");atualizaVisualUsuario("menu_projeto"+c,"true")}else{$(b).addClass("menu_contraido");$(b).removeClass("menu_expandido");atualizaVisualUsuario("menu_projeto"+c,"false")}}function alternaSideMenu(){$(".conteudoMenu").toggle();if($(".conteudoMenu").is(":visible")){$("#raiz_entidades").addClass("menu_expandido");$("#raiz_entidades").removeClass("menu_contraido");atualizaVisualUsuario("menu_projects","true")}else{$("#raiz_entidades").addClass("menu_contraido");$("#raiz_entidades").removeClass("menu_expandido");atualizaVisualUsuario("menu_projects","false")}}function defineOrderby(b,c,a){atualizaVisualUsuario(c,b);atualizaVisualUsuario(c+"isAsc",a);setTimeout("location.reload(true);",200)}var timeout=500;var closetimer=0;var ddmenuitem=0;function abreMenuConjunto(a){mcancelclosetime();$(a).style.removeClass("invisivel")}function mopen(b){mcancelclosetime();var a=document.getElementById(b);if(a==ddmenuitem){return}if(ddmenuitem){ddmenuitem.style.visibility="hidden"}ddmenuitem=document.getElementById(b);ddmenuitem.style.visibility="visible"}function mclose(){if(ddmenuitem){ddmenuitem.style.visibility="hidden"}}function mclosetime(){closetimer=window.setTimeout(mclose,timeout)}function mcancelclosetime(){if(closetimer){window.clearTimeout(closetimer);closetimer=null}}function preparaSubmit(){var b=document.getElementById("select_use");for(var a=0;a<b.options.length;a++){b.options[a].selected=true}return true}function adicionaTodosElementos(a,d){var c=document.getElementById(a);for(var b=0;b<c.options.length;b++){c.options[b].selected=true}adicionaElementos(a,d);for(var b=0;b<c.options.length;b++){c.options[b].selected=false}}function adicionaElementos(k,h){var f=document.getElementById(k);var g=document.getElementById(h);var e=getSelectValues(f);for(var d=0,c=e.length;d<c;d++){var b=e[d];if(b.getAttribute("selectable")=="T"){var a=document.createElement("option");a.value=b.value;a.text=b.text;a.setAttribute("id",b.getAttribute("id"));a.setAttribute("tipo",b.getAttribute("tipo"));a.setAttribute("selectable",b.getAttribute("selectable"));g.appendChild(a);f.removeChild(b)}}}function getSelectValues(c){var b=[];var d=c&&c.options;var f;for(var e=0,a=d.length;e<a;e++){f=d[e];if(f.selected){b.push(f)}}return b}function search_ajax_way(b,c,d){$("#"+b).show();var a=$("#"+c).val();$.post("/ajax/searchUsers.php?fieldname="+d,{searchit:a},function(e){$("#"+b).html(e)})}function search_unique(c,f,g,d,e,b){$("#"+c).show();var a=$("#"+f).val();$.post("/ajax/validaUnico.php?modulo="+d+"&dbfield="+e+"&novo="+b+"&fieldname="+g,{searchit:a},function(h){$("#"+c).html(h)})}function atualizaValorRemoto(d,h){var c=document.getElementById("value"+d);var e=document.getElementById("divinput"+d);var k=document.getElementById("input"+d);var b=document.getElementById("td"+d);var g=document.getElementById("inputValor"+d);var f=g.value;$inputValor="inputValor".$cellID;var a="valorid="+f+"&novoValor="+h;xmlhttpPost("/ajax/updateEntity.php",a,function(){if(self.xmlHttpReq.readyState==4){c.style.backgroundColor=""}else{c.style.backgroundColor="red"}return true})}function atualizaGenerico(b,d,e,a,c){return atualizaGenericoComValor(b.value,d,e,a,c)}function atualizaGenericoComValor(b,d,f,a,c){var e={modulo:c,campo:d,flagtexto:a,idreg:f,novoValor:b};$.ajax({url:"/ajax/updateEntity.php",data:e,type:"post",success:function(g){}});return true}function atualizaVisualUsuario(b,a){xmlhttpPost("/ajax/atualizaVisual.php","identificador="+b+"&valor="+a,function(){return true})}function atualizaColuna(d,c,b,a){d.style.backgroundColor="green";xmlhttpPost("/ajax/updateEntity.php","campo="+c+"&flagtexto="+a+"&id_coluna="+b+"&novoValor="+d.value,function(){if(self.xmlHttpReq.readyState==4){d.style.backgroundColor=""}else{d.style.backgroundColor="red"}return true})}function xmlhttpPost(e,d,a){var c=false;var b=this;if(window.XMLHttpRequest){b.xmlHttpReq=new XMLHttpRequest()}else{if(window.ActiveXObject){b.xmlHttpReq=new ActiveXObject("Microsoft.XMLHTTP")}}b.xmlHttpReq.open("POST",e,true);b.xmlHttpReq.setRequestHeader("Content-Type","application/x-www-form-urlencoded");b.xmlHttpReq.onreadystatechange=a;d=encodeURI(d);b.xmlHttpReq.send(d)}(function(a){a.fn.formatCurrency=function(b){b=jQuery.extend({name:"formatCurrency",useHtml:false,symbol:"",global:true},b);return this.each(function(){var c="0";c=a(this)[b.useHtml?"html":"val"]();c=c.replace(/\$|\,/g,"");if(isNaN(c)){c="0"}sign=(c==(c=Math.abs(c)));c=Math.floor(c*100+0.50000000001);cents=c%100;c=Math.floor(c/100).toString();if(cents<10){cents="0"+cents}for(var d=0;d<Math.floor((c.length-(1+d))/3);d++){c=c.substring(0,c.length-(4*d+3))+","+c.substring(c.length-(4*d+3))}var e=(((sign)?"":"-")+b.symbol+c+"."+cents);a(this)[b.useHtml?"html":"val"](((sign)?"":"-")+b.symbol+c+"."+cents)})};a.fn.toNumber=function(b){b=jQuery.extend({name:"toNumber",useHtml:false,global:true},b);return this.each(function(){var c=b.useHtml?"html":"val";a(this)[c](a(this)[c]().replace(/[^\d\.]/g,""))})}})(jQuery);(function(b){if(!b.browser){b.browser={};b.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());b.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase());b.browser.opera=/opera/.test(navigator.userAgent.toLowerCase());b.browser.msie=/msie/.test(navigator.userAgent.toLowerCase())}var a={destroy:function(){var c=b(this);c.unbind(".maskMoney");if(b.browser.msie){this.onpaste=null}return this},mask:function(){return this.trigger("mask")},init:function(c){c=b.extend({symbol:"",symbolStay:false,thousands:",",decimal:".",precision:2,defaultZero:true,allowZero:false,allowNegative:false},c);return this.each(function(){var q=b(this);var k=false;function l(){k=true}function g(){k=false}function u(F){F=F||window.event;var A=F.which||F.charCode||F.keyCode;if(A==undefined){return false}if(A<48||A>57){if(A==45){l();q.val(o(q));return false}else{if(A==43){l();q.val(q.val().replace("-",""));return false}else{if(A==13||A==9){if(k){g();b(this).change()}return true}else{if(b.browser.mozilla&&(A==37||A==39)&&F.charCode==0){return true}else{m(F);return true}}}}}else{if(e(q)){return false}else{m(F);var D=String.fromCharCode(A);var z=q.get(0);var E=x(z);var C=E.start;var B=E.end;z.value=z.value.substring(0,C)+D+z.value.substring(B,z.value.length);h(z,C+1);l();return false}}}function e(A){var D=(A.val().length>=A.attr("maxlength")&&A.attr("maxlength")>=0);var B=x(A.get(0));var E=B.start;var z=B.end;var C=(B.start!=B.end&&A.val().substring(E,z).match(/\d/))?true:false;return D&&!C}function f(E){E=E||window.event;var A=E.which||E.charCode||E.keyCode;if(A==undefined){return false}var z=q.get(0);var D=x(z);var C=D.start;var B=D.end;if(A==8){m(E);if(C==B){z.value=z.value.substring(0,C-1)+z.value.substring(B,z.value.length);C=C-1}else{z.value=z.value.substring(0,C)+z.value.substring(B,z.value.length)}h(z,C);l();return false}else{if(A==9){if(k){b(this).change();g()}return true}else{if(A==46||A==63272){m(E);if(z.selectionStart==z.selectionEnd){z.value=z.value.substring(0,C)+z.value.substring(B+1,z.value.length)}else{z.value=z.value.substring(0,C)+z.value.substring(B,z.value.length)}h(z,C);l();return false}else{return true}}}}function d(B){var z=y();if(q.val()==z){q.val("")}else{if(q.val()==""&&c.defaultZero){q.val(n(z))}else{q.val(n(q.val()))}}if(this.createTextRange){var A=this.createTextRange();A.collapse(false);A.select()}}function r(z){if(b.browser.msie){u(z)}if(q.val()==""||q.val()==n(y())||q.val()==c.symbol){if(!c.allowZero){q.val("")}else{if(!c.symbolStay){q.val(y())}else{q.val(n(y()))}}}else{if(!c.symbolStay){q.val(q.val().replace(c.symbol,""))}else{if(c.symbolStay&&q.val()==c.symbol){q.val(n(y()))}}}}function m(z){if(z.preventDefault){z.preventDefault()}else{z.returnValue=false}}function h(z,B){var A=q.val().length;q.val(s(z.value));var C=q.val().length;B=B-(A-C);w(q,B)}function v(){var z=q.val();q.val(s(z))}function s(H){H=H.replace(c.symbol,"");var z="0123456789";var E=H.length;var G="",I="",C="";if(E!=0&&H.charAt(0)=="-"){H=H.replace("-","");if(c.allowNegative){C="-"}}if(E==0){if(!c.defaultZero){return I}I="0.00"}for(var D=0;D<E;D++){if((H.charAt(D)!="0")&&(H.charAt(D)!=c.decimal)){break}}for(;D<E;D++){if(z.indexOf(H.charAt(D))!=-1){G+=H.charAt(D)}}var B=parseFloat(G);B=isNaN(B)?0:B/Math.pow(10,c.precision);I=B.toFixed(c.precision);D=c.precision==0?0:1;var A,F=(I=I.split("."))[D].substr(0,c.precision);for(A=(I=I[0]).length;(A-=3)>=1;){I=I.substr(0,A)+c.thousands+I.substr(A)}return(c.precision>0)?n(C+I+c.decimal+F+Array((c.precision+1)-F.length).join(0)):n(C+I)}function y(){var z=parseFloat("0")/Math.pow(10,c.precision);return(z.toFixed(c.precision)).replace(new RegExp("\\.","g"),c.decimal)}function n(A){if(c.symbol!=""){var z="";if(A.length!=0&&A.charAt(0)=="-"){A=A.replace("-","");z="-"}if(A.substr(0,c.symbol.length)!=c.symbol){A=z+c.symbol+A}}return A}function o(A){var z=A.val();if(c.allowNegative){if(z!=""&&z.charAt(0)=="-"){return z.replace("-","")}else{return"-"+z}}else{return z}}function w(z,A){b(z).each(function(C,D){if(D.setSelectionRange){D.focus();D.setSelectionRange(A,A)}else{if(D.createTextRange){var B=D.createTextRange();B.collapse(true);B.moveEnd("character",A);B.moveStart("character",A);B.select()}}});return this}function x(D){var G=0,B=0,F,C,A,z,E;if(typeof D.selectionStart=="number"&&typeof D.selectionEnd=="number"){G=D.selectionStart;B=D.selectionEnd}else{C=document.selection.createRange();if(C&&C.parentElement()==D){z=D.value.length;F=D.value.replace(/\r\n/g,"\n");A=D.createTextRange();A.moveToBookmark(C.getBookmark());E=D.createTextRange();E.collapse(false);if(A.compareEndPoints("StartToEnd",E)>-1){G=B=z}else{G=-A.moveStart("character",-z);G+=F.slice(0,G).split("\n").length-1;if(A.compareEndPoints("EndToEnd",E)>-1){B=z}else{B=-A.moveEnd("character",-z);B+=F.slice(0,B).split("\n").length-1}}}}return{start:G,end:B}}if(!q.attr("readonly")){q.unbind(".maskMoney");q.bind("keypress.maskMoney",u);q.bind("keydown.maskMoney",f);q.bind("blur.maskMoney",r);q.bind("focus.maskMoney",d);q.bind("mask.maskMoney",v)}})}};b.fn.maskMoney=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.maskMoney")}}}})(window.jQuery||window.Zepto);
/*! KineticJS v4.7.2 2013-09-29 http://www.kineticjs.com by Eric Rowell @ericdrowell - MIT License https://github.com/ericdrowell/KineticJS/wiki/License*/
;var Kinetic={};!function(){Kinetic={version:"4.7.2",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,UA:function(){var d=navigator.userAgent.toLowerCase(),c=/(chrome)[ \/]([\w.]+)/.exec(d)||/(webkit)[ \/]([\w.]+)/.exec(d)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(d)||/(msie) ([\w.]+)/.exec(d)||d.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(d)||[];return{browser:c[1]||"",version:c[2]||"0"}}(),Filters:{},Node:function(b){this._init(b)},Shape:function(b){this.__init(b)},Container:function(b){this.__init(b)},Stage:function(b){this.___init(b)},Layer:function(b){this.___init(b)},Group:function(b){this.___init(b)},isDragging:function(){var b=Kinetic.DD;return b?b.isDragging:!1},isDragReady:function(){var b=Kinetic.DD;return b?!!b.node:!1},_addId:function(d,c){void 0!==c&&(this.ids[c]=d)},_removeId:function(b){void 0!==b&&delete this.ids[b]},_addName:function(d,c){void 0!==c&&(void 0===this.names[c]&&(this.names[c]=[]),this.names[c].push(d))},_removeName:function(g,f){if(void 0!==g){var l=this.names[g];if(void 0!==l){for(var k=0;k<l.length;k++){var h=l[k];h._id===f&&l.splice(k,1)}0===l.length&&delete this.names[g]}}}}}(),function(d,c){"object"==typeof exports?module.exports=c():"function"==typeof define&&define.amd?define(c):d.returnExports=c()}(this,function(){return Kinetic}),function(){Kinetic.Collection=function(){var e=[].slice.call(arguments),d=e.length,f=0;for(this.length=d;d>f;f++){this[f]=e[f]}return this},Kinetic.Collection.prototype=[],Kinetic.Collection.prototype.each=function(d){for(var c=0;c<this.length;c++){d(this[c],c)}},Kinetic.Collection.prototype.toArray=function(){var e,d=[],f=this.length;for(e=0;f>e;e++){d.push(this[e])}return d},Kinetic.Collection.toCollection=function(f){var e,h=new Kinetic.Collection,g=f.length;for(e=0;g>e;e++){h.push(f[e])}return h},Kinetic.Collection.mapMethods=function(e){var d,f=e.length;for(d=0;f>d;d++){!function(a){var g=e[a];Kinetic.Collection.prototype[g]=function(){var h,c=this.length;for(args=[].slice.call(arguments),h=0;c>h;h++){this[h][g].apply(this[h],args)}}}(d)}},Kinetic.Transform=function(){this.m=[1,0,0,1,0,0]},Kinetic.Transform.prototype={translate:function(d,c){this.m[4]+=this.m[0]*d+this.m[2]*c,this.m[5]+=this.m[1]*d+this.m[3]*c},scale:function(d,c){this.m[0]*=d,this.m[1]*=d,this.m[2]*=c,this.m[3]*=c},rotate:function(k){var h=Math.cos(k),G=Math.sin(k),o=this.m[0]*h+this.m[2]*G,n=this.m[1]*h+this.m[3]*G,m=this.m[0]*-G+this.m[2]*h,l=this.m[1]*-G+this.m[3]*h;this.m[0]=o,this.m[1]=n,this.m[2]=m,this.m[3]=l},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(h,g){var n=this.m[0]+this.m[2]*g,m=this.m[1]+this.m[3]*g,l=this.m[2]+this.m[0]*h,k=this.m[3]+this.m[1]*h;this.m[0]=n,this.m[1]=m,this.m[2]=l,this.m[3]=k},multiply:function(k){var h=this.m[0]*k.m[0]+this.m[2]*k.m[1],G=this.m[1]*k.m[0]+this.m[3]*k.m[1],o=this.m[0]*k.m[2]+this.m[2]*k.m[3],n=this.m[1]*k.m[2]+this.m[3]*k.m[3],m=this.m[0]*k.m[4]+this.m[2]*k.m[5]+this.m[4],l=this.m[1]*k.m[4]+this.m[3]*k.m[5]+this.m[5];this.m[0]=h,this.m[1]=G,this.m[2]=o,this.m[3]=n,this.m[4]=m,this.m[5]=l},invert:function(){var k=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),h=this.m[3]*k,G=-this.m[1]*k,o=-this.m[2]*k,n=this.m[0]*k,m=k*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),l=k*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=h,this.m[1]=G,this.m[2]=o,this.m[3]=n,this.m[4]=m,this.m[5]=l},getMatrix:function(){return this.m},setAbsolutePosition:function(K,J){var I=this.m[0],H=this.m[1],G=this.m[2],o=this.m[3],n=this.m[4],m=this.m[5],l=(I*(J-m)-H*(K-n))/(I*o-H*G),k=(K-n-G*l)/I;this.translate(k,l)}};var F="canvas",E="2d",D="[object Array]",C="[object Number]",B="[object String]",A=Math.PI/180,z=180/Math.PI,y="#",x="",w="0",v="Kinetic warning: ",u="Kinetic error: ",s="rgb(",r={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},q=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Kinetic.Util={_isElement:function(b){return !(!b||1!=b.nodeType)},_isFunction:function(b){return !!(b&&b.constructor&&b.call&&b.apply)},_isObject:function(b){return !!b&&b.constructor==Object},_isArray:function(b){return Object.prototype.toString.call(b)==D},_isNumber:function(b){return Object.prototype.toString.call(b)==C},_isString:function(b){return Object.prototype.toString.call(b)==B},_hasMethods:function(e){var d,f=[];for(d in e){this._isFunction(e[d])&&f.push(d)}return f.length>0},_isInDocument:function(b){for(;b=b.parentNode;){if(b==document){return !0}}return !1},_simplifyArray:function(h){var g,n,m=[],l=h.length,k=Kinetic.Util;for(g=0;l>g;g++){n=h[g],k._isNumber(n)?n=Math.round(1000*n)/1000:k._isString(n)||(n=n.toString()),m.push(n)}return m},_getXY:function(d){if(this._isNumber(d)){return{x:d,y:d}}if(this._isArray(d)){if(1===d.length){var c=d[0];if(this._isNumber(c)){return{x:c,y:c}}if(this._isArray(c)){return{x:c[0],y:c[1]}}if(this._isObject(c)){return c}}else{if(d.length>=2){return{x:d[0],y:d[1]}}}}else{if(this._isObject(d)){return d}}return null},_getSize:function(d){if(this._isNumber(d)){return{width:d,height:d}}if(this._isArray(d)){if(1===d.length){var c=d[0];if(this._isNumber(c)){return{width:c,height:c}}if(this._isArray(c)){if(c.length>=4){return{width:c[2],height:c[3]}}if(c.length>=2){return{width:c[0],height:c[1]}}}else{if(this._isObject(c)){return c}}}else{if(d.length>=4){return{width:d[2],height:d[3]}}if(d.length>=2){return{width:d[0],height:d[1]}}}}else{if(this._isObject(d)){return d}}return null},_getPoints:function(f){var e,h,g=[];if(void 0===f){return[]}if(h=f.length,this._isArray(f[0])){for(e=0;h>e;e++){g.push({x:f[e][0],y:f[e][1]})}return g}if(this._isObject(f[0])){return f}for(e=0;h>e;e+=2){g.push({x:f[e],y:f[e+1]})}return g},_getImage:function(l,k){var h,b,a;l?this._isElement(l)?k(l):this._isString(l)?(h=new Image,h.onload=function(){k(h)},h.src=l):l.data?(b=document.createElement(F),b.width=l.width,b.height=l.height,_context=b.getContext(E),_context.putImageData(l,0,0),a=b.toDataURL(),h=new Image,h.onload=function(){k(h)},h.src=a):k(null):k(null)},_rgbToHex:function(e,d,f){return((1<<24)+(e<<16)+(d<<8)+f).toString(16).slice(1)},_hexToRgb:function(d){d=d.replace(y,x);var c=parseInt(d,16);return{r:255&c>>16,g:255&c>>8,b:255&c}},getRandomColor:function(){for(var b=(16777215*Math.random()<<0).toString(16);b.length<6;){b=w+b}return y+b},get:function(d,c){return void 0===d?c:d},getRGB:function(d){var c;return d in r?(c=r[d],{r:c[0],g:c[1],b:c[2]}):d[0]===y?this._hexToRgb(d.substring(1)):d.substr(0,4)===s?(c=q.exec(d.replace(/ /g,"")),{r:parseInt(c[1],10),g:parseInt(c[2],10),b:parseInt(c[3],10)}):{r:0,g:0,b:0}},_merge:function(f,e){var h=this._clone(e);for(var g in f){h[g]=this._isObject(f[g])?this._merge(f[g],h[g]):f[g]}return h},_clone:function(e){var d={};for(var f in e){d[f]=this._isObject(e[f])?this._clone(e[f]):e[f]}return d},_degToRad:function(b){return b*A},_radToDeg:function(b){return b*z},_capitalize:function(b){return b.charAt(0).toUpperCase()+b.slice(1)},error:function(b){throw new Error(u+b)},warn:function(b){window.console&&console.warn&&console.warn(v+b)},extend:function(e,d){for(var f in d.prototype){f in e.prototype||(e.prototype[f]=d.prototype[f])}},addMethods:function(e,d){var f;for(f in d){e.prototype[f]=d[f]}},_getControlPoints:function(X,W,V,U){var T=X.x,S=X.y,R=W.x,Q=W.y,P=V.x,O=V.y,N=Math.sqrt(Math.pow(R-T,2)+Math.pow(Q-S,2)),M=Math.sqrt(Math.pow(P-R,2)+Math.pow(O-Q,2)),L=U*N/(N+M),K=U*M/(N+M),J=R-L*(P-T),I=Q-L*(O-S),H=R+K*(P-T),G=Q+K*(O-S);return[{x:J,y:I},{x:H,y:G}]},_expandPoints:function(h,g){var n,m,l=h.length,k=[];for(n=1;l-1>n;n++){m=Kinetic.Util._getControlPoints(h[n-1],h[n],h[n+1],g),k.push(m[0]),k.push(h[n]),k.push(m[1])}return k},_removeLastLetter:function(b){return b.substring(0,b.length-1)}}}(),function(){var g=document.createElement("canvas"),f=g.getContext("2d"),l=window.devicePixelRatio||1,k=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1,h=l/k;Kinetic.Canvas=function(b){this.init(b)},Kinetic.Canvas.prototype={init:function(d){d=d||{};var c=d.pixelRatio||Kinetic.pixelRatio||h;this.pixelRatio=c,this._canvas=document.createElement("canvas"),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(b){this.pixelRatio=b,this.setSize(this.getWidth(),this.getHeight())},setWidth:function(b){this.width=this._canvas.width=b*this.pixelRatio,this._canvas.style.width=b+"px"},setHeight:function(b){this.height=this._canvas.height=b*this.pixelRatio,this._canvas.style.height=b+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(d,c){this.setWidth(d),this.setHeight(c)},toDataURL:function(m,e){try{return this._canvas.toDataURL(m,e)}catch(o){try{return this._canvas.toDataURL()}catch(n){return Kinetic.Util.warn("Unable to get data URL. "+n.message),""}}}},Kinetic.SceneCanvas=function(e){e=e||{};var d=e.width||0,m=e.height||0;Kinetic.Canvas.call(this,e),this.context=new Kinetic.SceneContext(this),this.setSize(d,m)},Kinetic.SceneCanvas.prototype={setWidth:function(e){var d=this.pixelRatio,m=this.getContext()._context;Kinetic.Canvas.prototype.setWidth.call(this,e),m.scale(d,d)},setHeight:function(e){var d=this.pixelRatio,m=this.getContext()._context;Kinetic.Canvas.prototype.setHeight.call(this,e),m.scale(d,d)}},Kinetic.Util.extend(Kinetic.SceneCanvas,Kinetic.Canvas),Kinetic.HitCanvas=function(e){e=e||{};var d=e.width||0,m=e.height||0;Kinetic.Canvas.call(this,e),this.context=new Kinetic.HitContext(this),this.setSize(d,m)},Kinetic.Util.extend(Kinetic.HitCanvas,Kinetic.Canvas)}(),function(){var u=",",s="(",r=")",q="([",o="])",n=";",m="()",l="=",k=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];Kinetic.Context=function(b){this.init(b)},Kinetic.Context.prototype={init:function(b){this.canvas=b,this._context=b._canvas.getContext("2d"),Kinetic.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(b){b.getFillEnabled()&&this._fill(b)},strokeShape:function(b){b.getStrokeEnabled()&&this._stroke(b)},fillStrokeShape:function(d){var c=d.getFillEnabled();c&&this._fill(d),d.getStrokeEnabled()&&this._stroke(d)},getTrace:function(e){var d,c,b,a,h=this.traceArr,g=h.length,f="";for(d=0;g>d;d++){c=h[d],b=c.method,b?(a=c.args,f+=b,f+=e?m:Kinetic.Util._isArray(a[0])?q+a.join(u)+o:s+a.join(u)+r):(f+=c.property,e||(f+=l+c.val)),f+=n}return f},clearTrace:function(){this.traceArr=[]},_trace:function(e){var d,f=this.traceArr;f.push(e),d=f.length,d>=Kinetic.traceArrMax&&f.shift()},reset:function(){var b=this.getCanvas().getPixelRatio();this.setTransform(1*b,0,0,1*b,0,0)},getCanvas:function(){return this.canvas},clear:function(){var f,e,h=[].slice.call(arguments),g=this.getCanvas();h.length?(f=Kinetic.Util._getXY(h),e=Kinetic.Util._getSize(h),this.clearRect(f.x||0,f.y||0,e.width,e.height)):this.clearRect(0,0,g.getWidth(),g.getHeight())},_applyLineCap:function(d){var c=d.getLineCap();c&&this.setAttr("lineCap",c)},_applyOpacity:function(d){var c=d.getAbsoluteOpacity();1!==c&&this.setAttr("globalAlpha",c)},_applyLineJoin:function(d){var c=d.getLineJoin();c&&this.setAttr("lineJoin",c)},_applyAncestorTransforms:function(d){var c=d.getAbsoluteTransform().getMatrix();this.transform(c[0],c[1],c[2],c[3],c[4],c[5])},_clip:function(g){var f=g.getClipX()||0,w=g.getClipY()||0,v=g.getClipWidth(),h=g.getClipHeight();this.save(),this._applyAncestorTransforms(g),this.beginPath(),this.rect(f,w,v,h),this.clip(),this.reset(),g._drawChildren(this.getCanvas()),this.restore()},setAttr:function(d,c){this._context[d]=c},arc:function(){var b=arguments;this._context.arc(b[0],b[1],b[2],b[3],b[4],b[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var b=arguments;this._context.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5])},clearRect:function(){var b=arguments;this._context.clearRect(b[0],b[1],b[2],b[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createLinearGradient:function(){var b=arguments;return this._context.createLinearGradient(b[0],b[1],b[2],b[3])},createPattern:function(){var b=arguments;return this._context.createPattern(b[0],b[1])},createRadialGradient:function(){var b=arguments;return this._context.createRadialGradient(b[0],b[1],b[2],b[3],b[4],b[5])},drawImage:function(){var d=arguments,c=this._context;3===d.length?c.drawImage(d[0],d[1],d[2]):5===d.length?c.drawImage(d[0],d[1],d[2],d[3],d[4]):9===d.length&&c.drawImage(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8])},fill:function(){this._context.fill()},fillText:function(){var b=arguments;this._context.fillText(b[0],b[1],b[2])},getImageData:function(){var b=arguments;return this._context.getImageData(b[0],b[1],b[2],b[3])},lineTo:function(){var b=arguments;this._context.lineTo(b[0],b[1])},moveTo:function(){var b=arguments;this._context.moveTo(b[0],b[1])},rect:function(){var b=arguments;this._context.rect(b[0],b[1],b[2],b[3])},putImageData:function(){var b=arguments;this._context.putImageData(b[0],b[1],b[2])},quadraticCurveTo:function(){var b=arguments;this._context.quadraticCurveTo(b[0],b[1],b[2],b[3])},restore:function(){this._context.restore()},rotate:function(){var b=arguments;this._context.rotate(b[0])},save:function(){this._context.save()},scale:function(){var b=arguments;this._context.scale(b[0],b[1])},setLineDash:function(){var d=arguments,c=this._context;this._context.setLineDash?c.setLineDash(d[0]):"mozDash" in c?c.mozDash=d[0]:"webkitLineDash" in c&&(c.webkitLineDash=d[0])},setTransform:function(){var b=arguments;this._context.setTransform(b[0],b[1],b[2],b[3],b[4],b[5])},stroke:function(){this._context.stroke()},strokeText:function(){var b=arguments;this._context.strokeText(b[0],b[1],b[2])},transform:function(){var b=arguments;this._context.transform(b[0],b[1],b[2],b[3],b[4],b[5])},translate:function(){var b=arguments;this._context.translate(b[0],b[1])},_enableTrace:function(){var h,g,y=this,x=k.length,w=Kinetic.Util._simplifyArray,v=this.setAttr;for(h=0;x>h;h++){!function(b){var e,c=y[b];y[b]=function(){return g=w(Array.prototype.slice.call(arguments,0)),e=c.apply(y,arguments),y._trace({method:b,args:g}),e}}(k[h])}y.setAttr=function(){v.apply(y,arguments),y._trace({property:arguments[0],val:arguments[1]})}}},Kinetic.SceneContext=function(b){Kinetic.Context.call(this,b)},Kinetic.SceneContext.prototype={_fillColor:function(d){var c=d.getFill();this.setAttr("fillStyle",c),d._fillFunc(this)},_fillPattern:function(w){var v=w.getFillPatternImage(),C=w.getFillPatternX(),B=w.getFillPatternY(),A=w.getFillPatternScale(),z=w.getFillPatternRotation(),y=w.getFillPatternOffset(),x=w.getFillPatternRepeat();(C||B)&&this.translate(C||0,B||0),z&&this.rotate(z),A&&this.scale(A.x,A.y),y&&this.translate(-1*y.x,-1*y.y),this.setAttr("fillStyle",this.createPattern(v,x||"repeat")),this.fill()},_fillLinearGradient:function(h){var g=h.getFillLinearGradientStartPoint(),y=h.getFillLinearGradientEndPoint(),x=h.getFillLinearGradientColorStops(),w=this.createLinearGradient(g.x,g.y,y.x,y.y);if(x){for(var v=0;v<x.length;v+=2){w.addColorStop(x[v],x[v+1])}this.setAttr("fillStyle",w),this.fill()}},_fillRadialGradient:function(w){for(var v=w.getFillRadialGradientStartPoint(),C=w.getFillRadialGradientEndPoint(),B=w.getFillRadialGradientStartRadius(),A=w.getFillRadialGradientEndRadius(),z=w.getFillRadialGradientColorStops(),y=this.createRadialGradient(v.x,v.y,B,C.x,C.y,A),x=0;x<z.length;x+=2){y.addColorStop(z[x],z[x+1])}this.setAttr("fillStyle",y),this.fill()},_fill:function(h){var g=h.getFill(),y=h.getFillPatternImage(),x=h.getFillLinearGradientColorStops(),w=h.getFillRadialGradientColorStops(),v=h.getFillPriority();g&&"color"===v?this._fillColor(h):y&&"pattern"===v?this._fillPattern(h):x&&"linear-gradient"===v?this._fillLinearGradient(h):w&&"radial-gradient"===v?this._fillRadialGradient(h):g?this._fillColor(h):y?this._fillPattern(h):x?this._fillLinearGradient(h):w&&this._fillRadialGradient(h)},_stroke:function(g){var f=g.getStroke(),w=g.getStrokeWidth(),v=g.getDashArray(),h=g.getStrokeScaleEnabled();g.hasStroke()&&(h||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(g),v&&g.getDashArrayEnabled()&&this.setLineDash(v),this.setAttr("lineWidth",w||2),this.setAttr("strokeStyle",f||"black"),g._strokeFunc(this),h||this.restore())},_applyShadow:function(v){var h=Kinetic.Util,A=v.getAbsoluteOpacity(),z=h.get(v.getShadowColor(),"black"),y=h.get(v.getShadowBlur(),5),x=h.get(v.getShadowOpacity(),0),w=h.get(v.getShadowOffset(),{x:0,y:0});x&&this.setAttr("globalAlpha",x*A),this.setAttr("shadowColor",z),this.setAttr("shadowBlur",y),this.setAttr("shadowOffsetX",w.x),this.setAttr("shadowOffsetY",w.y)}},Kinetic.Util.extend(Kinetic.SceneContext,Kinetic.Context),Kinetic.HitContext=function(b){Kinetic.Context.call(this,b)},Kinetic.HitContext.prototype={_fill:function(b){this.save(),this.setAttr("fillStyle",b.colorKey),b._fillFuncHit(this),this.restore()},_stroke:function(e){var d=e.getStroke(),f=e.getStrokeWidth();(d||f)&&(this._applyLineCap(e),this.setAttr("lineWidth",f||2),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this))}},Kinetic.Util.extend(Kinetic.HitContext,Kinetic.Context)}(),function(){var G="add",F="b",E="Deg",D="g",C="get",B="#",A="r",z="RGB",y="set",x="B",w="G",v="Height",u="R",s="Width",r="X",q="Y";Kinetic.Factory={addGetterSetter:function(e,d,f){this.addGetter(e,d,f),this.addSetter(e,d)},addPointGetterSetter:function(e,d,f){this.addPointGetter(e,d,f),this.addPointSetter(e,d),this.addGetter(e,d+r,f),this.addGetter(e,d+q,f),this.addSetter(e,d+r),this.addSetter(e,d+q)},addBoxGetterSetter:function(e,d,f){this.addBoxGetter(e,d,f),this.addBoxSetter(e,d),this.addGetter(e,d+r,f),this.addGetter(e,d+q,f),this.addGetter(e,d+s,f),this.addGetter(e,d+v,f),this.addSetter(e,d+r),this.addSetter(e,d+q),this.addSetter(e,d+s),this.addSetter(e,d+v)},addPointsGetterSetter:function(d,c){this.addPointsGetter(d,c),this.addPointsSetter(d,c),this.addPointAdder(d,c)},addRotationGetterSetter:function(e,d,f){this.addRotationGetter(e,d,f),this.addRotationSetter(e,d)},addColorGetterSetter:function(b,d){this.addGetter(b,d),this.addSetter(b,d),this.addColorRGBGetter(b,d),this.addColorComponentGetter(b,d,A),this.addColorComponentGetter(b,d,D),this.addColorComponentGetter(b,d,F),this.addColorRGBSetter(b,d),this.addColorComponentSetter(b,d,A),this.addColorComponentSetter(b,d,D),this.addColorComponentSetter(b,d,F)},addColorRGBGetter:function(e,d){var f=C+Kinetic.Util._capitalize(d)+z;e.prototype[f]=function(){return Kinetic.Util.getRGB(this.attrs[d])}},addColorComponentGetter:function(g,e,l){var k=C+Kinetic.Util._capitalize(e),h=k+Kinetic.Util._capitalize(l);g.prototype[h]=function(){return this[k+z]()[l]}},addPointsGetter:function(e,d){var f=C+Kinetic.Util._capitalize(d);e.prototype[f]=function(){var b=this.attrs[d];return void 0===b?[]:b}},addGetter:function(f,e,h){var g=C+Kinetic.Util._capitalize(e);f.prototype[g]=function(){var b=this.attrs[e];return void 0===b?h:b}},addPointGetter:function(e,d){var f=C+Kinetic.Util._capitalize(d);e.prototype[f]=function(){var b=this;return{x:b[f+r](),y:b[f+q]()}}},addBoxGetter:function(e,d){var f=C+Kinetic.Util._capitalize(d);e.prototype[f]=function(){var b=this;return{x:b[f+r](),y:b[f+q](),width:b[f+s](),height:b[f+v]()}}},addRotationGetter:function(e,c,h){var g=C+Kinetic.Util._capitalize(c);e.prototype[g]=function(){var b=this.attrs[c];return void 0===b&&(b=h),b},e.prototype[g+E]=function(){var b=this.attrs[c];return void 0===b&&(b=h),Kinetic.Util._radToDeg(b)}},addColorRGBSetter:function(e,d){var f=y+Kinetic.Util._capitalize(d)+z;e.prototype[f]=function(b){var k=b&&void 0!==b.r?0|b.r:this.getAttr(d+u),h=b&&void 0!==b.g?0|b.g:this.getAttr(d+w),g=b&&void 0!==b.b?0|b.b:this.getAttr(d+x);this._setAttr(d,B+Kinetic.Util._rgbToHex(k,h,g))}},addColorComponentSetter:function(g,f,l){var k=y+Kinetic.Util._capitalize(f),h=k+Kinetic.Util._capitalize(l);g.prototype[h]=function(d){var c={};c[l]=d,this[k+z](c)}},addPointsSetter:function(e,d){var f=y+Kinetic.Util._capitalize(d);e.prototype[f]=function(g){var c=Kinetic.Util._getPoints(g);this._setAttr("points",c)}},addSetter:function(e,d){var f=y+Kinetic.Util._capitalize(d);e.prototype[f]=function(b){this._setAttr(d,b)}},addPointSetter:function(e,d){var f=y+Kinetic.Util._capitalize(d);e.prototype[f]=function(){var b=Kinetic.Util._getXY([].slice.call(arguments)),h=this.attrs[d],g=0,c=0;b&&(g=b.x,c=b.y,this._fireBeforeChangeEvent(d,h,b),void 0!==g&&this[f+r](g),void 0!==c&&this[f+q](c),this._fireChangeEvent(d,h,b))}},addBoxSetter:function(e,d){var f=y+Kinetic.Util._capitalize(d);e.prototype[f]=function(){var J,I,H,o,n=[].slice.call(arguments),m=Kinetic.Util._getXY(n),l=Kinetic.Util._getSize(n),c=Kinetic.Util._merge(m,l),b=this.attrs[d];c&&(J=c.x,I=c.y,H=c.width,o=c.height,this._fireBeforeChangeEvent(d,b,c),void 0!==J&&this[f+r](J),void 0!==I&&this[f+q](I),void 0!==H&&this[f+s](H),void 0!==o&&this[f+v](o),this._fireChangeEvent(d,b,c))}},addRotationSetter:function(e,c){var f=y+Kinetic.Util._capitalize(c);e.prototype[f]=function(b){this._setAttr(c,b)},e.prototype[f+E]=function(b){this._setAttr(c,Kinetic.Util._degToRad(b))}},addPointAdder:function(a,f){var e=G+Kinetic.Util._removeLastLetter(Kinetic.Util._capitalize(f));a.prototype[e]=function(){var d=Kinetic.Util._getXY([].slice.call(arguments)),c=this.attrs[f];d&&(this._fireBeforeChangeEvent(f,c,d),this.attrs[f].push(d),this._fireChangeEvent(f,c,d))}}}}(),function(){var R="absoluteOpacity",Q="absoluteTransform",P="before",O="Change",N="children",M=".",L="",K="get",J="id",I="kinetic",H="listening",G="mouseenter",F="mouseleave",E="name",D="set",C="Shape",B=" ",A="stage",z="transform",y="Stage",x="visible",w=["xChange.kinetic","yChange.kinetic","scaleXChange.kinetic","scaleYChange.kinetic","skewXChange.kinetic","skewYChange.kinetic","rotationChange.kinetic","offsetXChange.kinetic","offsetYChange.kinetic"].join(B);Kinetic.Util.addMethods(Kinetic.Node,{_init:function(b){var a=this;this._id=Kinetic.idCounter++,this.eventListeners={},this.attrs={},this.cache={},this.setAttrs(b),this.on(w,function(){this._clearCache(z),a._clearSelfAndChildrenCache(Q)}),this.on("visibleChange.kinetic",function(){a._clearSelfAndChildrenCache(x)}),this.on("listeningChange.kinetic",function(){a._clearSelfAndChildrenCache(H)}),this.on("opacityChange.kinetic",function(){a._clearSelfAndChildrenCache(R)})},clearCache:function(){this.cache={}},_clearCache:function(b){delete this.cache[b]},_getCache:function(e,d){var f=this.cache[e];return void 0===f&&(this.cache[e]=d.call(this)),this.cache[e]},_clearSelfAndChildrenCache:function(b){this._clearCache(b),this.children&&this.getChildren().each(function(a){a._clearSelfAndChildrenCache(b)})},on:function(s,r){var q,o,n,m,l,g=s.split(B),f=g.length;for(q=0;f>q;q++){o=g[q],n=o.split(M),m=n[0],l=n[1]||L,this.eventListeners[m]||(this.eventListeners[m]=[]),this.eventListeners[m].push({name:l,handler:r})}return this},off:function(s){var r,q,o,n,m,l,k=s.split(B),f=k.length;for(r=0;f>r;r++){if(o=k[r],n=o.split(M),m=n[0],l=n[1],m){this.eventListeners[m]&&this._off(m,l)}else{for(q in this.eventListeners){this._off(q,l)}}}return this},remove:function(){var a=this.getParent();return a&&a.children&&(a.children.splice(this.index,1),a._setChildrenIndices(),delete this.parent),this._clearSelfAndChildrenCache(A),this._clearSelfAndChildrenCache(Q),this._clearSelfAndChildrenCache(x),this._clearSelfAndChildrenCache(H),this._clearSelfAndChildrenCache(R),this},destroy:function(){Kinetic._removeId(this.getId()),Kinetic._removeName(this.getName(),this._id),this.remove()},getAttr:function(d){var c=K+Kinetic.Util._capitalize(d);return Kinetic.Util._isFunction(this[c])?this[c]():this.attrs[d]},getAncestors:function(){for(var d=this.getParent(),c=new Kinetic.Collection;d;){c.push(d),d=d.getParent()}return c},setAttr:function(){var f=Array.prototype.slice.call(arguments),e=f[0],h=D+Kinetic.Util._capitalize(e),g=this[h];return f.shift(),Kinetic.Util._isFunction(g)?g.apply(this,f):this.attrs[e]=f[0],this},getAttrs:function(){return this.attrs||{}},setAttrs:function(e){var d,f;if(e){for(d in e){d===N||(f=D+Kinetic.Util._capitalize(d),Kinetic.Util._isFunction(this[f])?this[f](e[d]):this._setAttr(d,e[d]))}}return this},isListening:function(){return this._getCache(H,this._isListening)},_isListening:function(){var d=this.getListening(),c=this.getParent();return d&&c&&!c.isListening()?!1:d},isVisible:function(){return this._getCache(x,this._isVisible)},_isVisible:function(){var d=this.getVisible(),c=this.getParent();return d&&c&&!c.isVisible()?!1:d},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){function l(a){for(k=[],s=a.length,r=0;s>r;r++){q=a[r],m++,q.nodeType!==C&&(k=k.concat(q.getChildren().toArray())),q._id===n._id&&(r=s)}k.length>0&&k[0].getLevel()<=o&&l(k)}var k,s,r,q,o=this.getLevel(),n=this,m=0;return n.nodeType!==y&&l(n.getStage().getChildren()),m},getLevel:function(){for(var d=0,c=this.parent;c;){d++,c=c.parent}return d},setPosition:function(){var b=Kinetic.Util._getXY([].slice.call(arguments));return this.setX(b.x),this.setY(b.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var e=this.getAbsoluteTransform().getMatrix(),d=new Kinetic.Transform,f=this.getOffset();return d.m=e.slice(),d.translate(f.x,f.y),d.getTranslation()},setAbsolutePosition:function(){var e,d=Kinetic.Util._getXY([].slice.call(arguments)),f=this._clearTransform();return this.attrs.x=f.x,this.attrs.y=f.y,delete f.x,delete f.y,e=this.getAbsoluteTransform(),e.invert(),e.translate(d.x,d.y),d={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition(d.x,d.y),this._setTransform(f),this},_setTransform:function(b){var d;for(d in b){this.attrs[d]=b[d]}this._clearCache(z),this._clearSelfAndChildrenCache(Q)},_clearTransform:function(){var b={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(z),this._clearSelfAndChildrenCache(Q),b},move:function(){var e=Kinetic.Util._getXY([].slice.call(arguments)),d=this.getX(),f=this.getY();return void 0!==e.x&&(d+=e.x),void 0!==e.y&&(f+=e.y),this.setPosition(d,f),this},_eachAncestorReverse:function(h,g){var n,m,l=[],k=this.getParent();for(g&&l.unshift(this);k;){l.unshift(k),k=k.parent}for(n=l.length,m=0;n>m;m++){h(l[m])}},rotate:function(b){return this.setRotation(this.getRotation()+b),this},rotateDeg:function(b){return this.setRotation(this.getRotation()+Kinetic.Util._degToRad(b)),this},moveToTop:function(){var b=this.index;return this.parent.children.splice(b,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){var d=this.index,c=this.parent.getChildren().length;return c-1>d?(this.parent.children.splice(d,1),this.parent.children.splice(d+1,0,this),this.parent._setChildrenIndices(),!0):!1},moveDown:function(){var b=this.index;return b>0?(this.parent.children.splice(b,1),this.parent.children.splice(b-1,0,this),this.parent._setChildrenIndices(),!0):!1},moveToBottom:function(){var b=this.index;return b>0?(this.parent.children.splice(b,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1},setZIndex:function(d){var c=this.index;return this.parent.children.splice(c,1),this.parent.children.splice(d,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){return this._getCache(R,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var b=this.getOpacity();return this.getParent()&&(b*=this.getParent().getAbsoluteOpacity()),b},moveTo:function(b){return Kinetic.Node.prototype.remove.call(this),b.add(this),this},toObject:function(){var g,f,l=Kinetic.Util,k={},h=this.getAttrs();k.attrs={};for(g in h){f=h[g],l._isFunction(f)||l._isElement(f)||l._isObject(f)&&l._hasMethods(f)||(k.attrs[g]=f)}return k.className=this.getClassName(),k},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){return this.getParent().getLayer()},getStage:function(){return this._getCache(A,this._getStage)},_getStage:function(){var b=this.getParent();return b?b.getStage():void 0},fire:function(e,d,f){return f?this._fireAndBubble(e,d||{}):this._fire(e,d||{}),this},getAbsoluteTransform:function(){return this._getCache(Q,this._getAbsoluteTransform)},_getAbsoluteTransform:function(){var d,c=new Kinetic.Transform;return this._eachAncestorReverse(function(a){d=a.getTransform(),c.multiply(d)},!0),c},_getTransform:function(){var v=new Kinetic.Transform,u=this.getX(),s=this.getY(),r=this.getRotation(),q=this.getScaleX(),o=this.getScaleY(),n=this.getSkewX(),m=this.getSkewY(),l=this.getOffsetX(),k=this.getOffsetY();return(0!==u||0!==s)&&v.translate(u,s),0!==r&&v.rotate(r),(0!==n||0!==m)&&v.skew(n,m),(1!==q||1!==o)&&v.scale(q,o),(0!==l||0!==k)&&v.translate(-1*l,-1*k),v},clone:function(l){var k,s,r,q,o,n=this.getClassName(),m=new Kinetic[n](this.attrs);for(k in this.eventListeners){for(s=this.eventListeners[k],r=s.length,q=0;r>q;q++){o=s[q],o.name.indexOf(I)<0&&(m.eventListeners[k]||(m.eventListeners[k]=[]),m.eventListeners[k].push(o))}}return m.setAttrs(l),m},toDataURL:function(l){l=l||{};var k=l.mimeType||null,s=l.quality||null,r=this.getStage(),q=l.x||0,o=l.y||0,n=new Kinetic.SceneCanvas({width:l.width||r.getWidth(),height:l.height||r.getHeight(),pixelRatio:1}),m=n.getContext();return m.save(),(q||o)&&m.translate(-1*q,-1*o),this.drawScene(n),m.restore(),n.toDataURL(k,s)},toImage:function(b){Kinetic.Util._getImage(this.toDataURL(b),function(a){b.callback(a)})},setSize:function(){var b=Kinetic.Util._getSize(Array.prototype.slice.call(arguments));return this.setWidth(b.width),this.setHeight(b.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},_get:function(b){return this.nodeType===b?[this]:[]},_off:function(g,f){var l,k,h=this.eventListeners[g];for(l=0;l<h.length;l++){if(k=h[l].name,!("kinetic"===k&&"kinetic"!==f||f&&k!==f)){if(h.splice(l,1),0===h.length){delete this.eventListeners[g];break}l--}}},_fireBeforeChangeEvent:function(d,c,f){this._fire(P+Kinetic.Util._capitalize(d)+O,{oldVal:c,newVal:f})},_fireChangeEvent:function(e,d,f){this._fire(e+O,{oldVal:d,newVal:f})},setId:function(d){var c=this.getId();return Kinetic._removeId(c),Kinetic._addId(this,d),this._setAttr(J,d),this},setName:function(d){var c=this.getName();return Kinetic._removeName(c,this._id),Kinetic._addName(this,d),this._setAttr(E,d),this},_setAttr:function(e,d){var f;void 0!==d&&(f=this.attrs[e],this._fireBeforeChangeEvent(e,f,d),this.attrs[e]=d,this._fireChangeEvent(e,f,d))},_fireAndBubble:function(f,e,h){var g=!0;e&&this.nodeType===C&&(e.targetNode=this),f===G&&h&&this._id===h._id?g=!1:f===F&&h&&this._id===h._id&&(g=!1),g&&(this._fire(f,e),e&&!e.cancelBubble&&this.parent&&(h&&h.parent?this._fireAndBubble.call(this.parent,f,e,h.parent):this._fireAndBubble.call(this.parent,f,e)))},_fire:function(g,f){var l,k,h=this.eventListeners[g];if(h){for(l=h.length,k=0;l>k;k++){h[k].handler.call(this,f)}}},draw:function(){return this.drawScene(),this.drawHit(),this},shouldDrawHit:function(){return this.isListening()&&this.isVisible()&&!Kinetic.isDragging()},isDraggable:function(){return !1},getTransform:function(){return this._getCache(z,this._getTransform)}}),Kinetic.Node.create=function(d,c){return this._createNode(JSON.parse(d),c)},Kinetic.Node._createNode=function(k,h){var q,o,n,m=Kinetic.Node.prototype.getClassName.call(k),l=k.children;if(h&&(k.attrs.container=h),q=new Kinetic[m](k.attrs),l){for(o=l.length,n=0;o>n;n++){q.add(this._createNode(l[n]))}}return q},Kinetic.Factory.addGetterSetter(Kinetic.Node,"x",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"y",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"opacity",1),Kinetic.Factory.addGetter(Kinetic.Node,"name"),Kinetic.Factory.addGetter(Kinetic.Node,"id"),Kinetic.Factory.addRotationGetterSetter(Kinetic.Node,"rotation",0),Kinetic.Factory.addPointGetterSetter(Kinetic.Node,"scale",1),Kinetic.Factory.addPointGetterSetter(Kinetic.Node,"skew",0),Kinetic.Factory.addPointGetterSetter(Kinetic.Node,"offset",0),Kinetic.Factory.addSetter(Kinetic.Node,"width"),Kinetic.Factory.addSetter(Kinetic.Node,"height"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"listening",!0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"visible",!0),Kinetic.Collection.mapMethods(["on","off","remove","destroy","show","hide","move","rotate","moveToTop","moveUp","moveDown","moveToBottom","moveTo","fire","draw"])}(),function(){function e(b){window.setTimeout(b,1000/60)}var d=500;Kinetic.Animation=function(g,c){this.func=g,this.setLayers(c),this.id=Kinetic.Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:(new Date).getTime()}},Kinetic.Animation.prototype={setLayers:function(g){var c=[];c=g?g.length>0?g:[g]:[],this.layers=c},getLayers:function(){return this.layers},addLayer:function(h){var g,l,k=this.layers;if(k){for(g=k.length,l=0;g>l;l++){if(k[l]._id===h._id){return !1}}}else{this.layers=[]}return this.layers.push(h),!0},isRunning:function(){for(var h=Kinetic.Animation,g=h.animations,k=0;k<g.length;k++){if(g[k].id===this.id){return !0}}return !1},start:function(){this.stop(),this.frame.timeDiff=0,this.frame.lastTime=(new Date).getTime(),Kinetic.Animation._addAnimation(this)},stop:function(){Kinetic.Animation._removeAnimation(this)},_updateFrameObject:function(b){this.frame.timeDiff=b-this.frame.lastTime,this.frame.lastTime=b,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1000/this.frame.timeDiff}},Kinetic.Animation.animations=[],Kinetic.Animation.animIdCounter=0,Kinetic.Animation.animRunning=!1,Kinetic.Animation._addAnimation=function(b){this.animations.push(b),this._handleAnimation()},Kinetic.Animation._removeAnimation=function(h){for(var g=h.id,m=this.animations,l=m.length,k=0;l>k;k++){if(m[k].id===g){this.animations.splice(k,1);break}}},Kinetic.Animation._runFrames=function(){var v,u,s,r,q,o,n,m,l={},k=this.animations;for(r=0;r<k.length;r++){for(v=k[r],u=v.layers,s=v.func,v._updateFrameObject((new Date).getTime()),o=u.length,q=0;o>q;q++){n=u[q],void 0!==n._id&&(l[n._id]=n)}s&&s.call(v,v.frame)}for(m in l){l[m].draw()}},Kinetic.Animation._animationLoop=function(){var b=this;this.animations.length>0?(this._runFrames(),Kinetic.Animation.requestAnimFrame(function(){b._animationLoop()})):this.animRunning=!1},Kinetic.Animation._handleAnimation=function(){var b=this;this.animRunning||(this.animRunning=!0,b._animationLoop())},RAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||e}(),Kinetic.Animation.requestAnimFrame=function(a){var g=Kinetic.DD&&Kinetic.DD.isDragging?e:RAF;g(a)};var f=Kinetic.Node.prototype.moveTo;Kinetic.Node.prototype.moveTo=function(b){f.call(this,b)},Kinetic.Layer.prototype.batchDraw=function(){var b=this;this.batchAnim||(this.batchAnim=new Kinetic.Animation(function(){b.lastBatchDrawTime&&(new Date).getTime()-b.lastBatchDrawTime>d&&b.batchAnim.stop()},this)),this.lastBatchDrawTime=(new Date).getTime(),this.batchAnim.isRunning()||(this.draw(),this.batchAnim.start())},Kinetic.Stage.prototype.batchDraw=function(){this.getChildren().each(function(b){b.batchDraw()})}}(),function(){var h={node:1,duration:1,easing:1,onFinish:1,yoyo:1},g=1,n=2,m=3,l=0;Kinetic.Tween=function(a){var u,s=this,r=a.node,q=r._id,o=a.duration||1,f=a.easing||Kinetic.Easings.Linear,e=!!a.yoyo;this.node=r,this._id=l++,this.anim=new Kinetic.Animation(function(){s.tween.onEnterFrame()},r.getLayer()||r.getLayers()),this.tween=new k(u,function(b){s._tweenFunc(b)},f,0,1,1000*o,e),this._addListeners(),Kinetic.Tween.attrs[q]||(Kinetic.Tween.attrs[q]={}),Kinetic.Tween.attrs[q][this._id]||(Kinetic.Tween.attrs[q][this._id]={}),Kinetic.Tween.tweens[q]||(Kinetic.Tween.tweens[q]={});for(u in a){void 0===h[u]&&this._addAttr(u,a[u])}this.reset(),this.onFinish=a.onFinish,this.onReset=a.onReset},Kinetic.Tween.attrs={},Kinetic.Tween.tweens={},Kinetic.Tween.prototype={_addAttr:function(A,z){var y,x,w,v,u,s,r,q=this.node,o=q._id;if(w=Kinetic.Tween.tweens[o][A],w&&delete Kinetic.Tween.attrs[o][w][A],y=q.getAttr(A),Kinetic.Util._isArray(z)){for(z=Kinetic.Util._getPoints(z),x=[],u=z.length,v=0;u>v;v++){s=y[v],r=z[v],x.push({x:r.x-s.x,y:r.y-s.y})}}else{x=z-y}Kinetic.Tween.attrs[o][this._id][A]={start:y,diff:x},Kinetic.Tween.tweens[o][A]=this._id},_tweenFunc:function(B){var A,z,y,x,w,v,u,s,r,q=this.node,o=Kinetic.Tween.attrs[q._id][this._id];for(A in o){if(z=o[A],y=z.start,x=z.diff,Kinetic.Util._isArray(y)){for(w=[],u=y.length,v=0;u>v;v++){s=y[v],r=x[v],w.push({x:s.x+r.x*B,y:s.y+r.y*B})}}else{w=y+x*B}q.setAttr(A,w)}},_addListeners:function(){var b=this;this.tween.onPlay=function(){b.anim.start()},this.tween.onReverse=function(){b.anim.start()},this.tween.onPause=function(){b.anim.stop()},this.tween.onFinish=function(){b.onFinish&&b.onFinish()},this.tween.onReset=function(){b.onReset&&b.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){var b=this.node;return this.tween.reset(),(b.getLayer()||b.getLayers()).draw(),this},seek:function(d){var c=this.node;return this.tween.seek(1000*d),(c.getLayer()||c.getLayers()).draw(),this},pause:function(){return this.tween.pause(),this},finish:function(){var b=this.node;return this.tween.finish(),(b.getLayer()||b.getLayers()).draw(),this},destroy:function(){var f,e=this.node._id,q=this._id,o=Kinetic.Tween.tweens[e];this.pause();for(f in o){delete Kinetic.Tween.tweens[e][f]}delete Kinetic.Tween.attrs[e][q]}};var k=function(q,o,w,v,u,s,r){this.prop=q,this.propFunc=o,this.begin=v,this._pos=v,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=r,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=w,this._change=u-this.begin,this.pause()};k.prototype={fire:function(d){var c=this[d];c&&c()},setTime:function(b){b>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():0>b?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=b,this.update())},getTime:function(){return this._time},setPosition:function(b){this.prevPos=this._pos,this.propFunc(b),this._pos=b},getPosition:function(b){return void 0===b&&(b=this._time),this.func(b,this.begin,this._change,this.duration)},play:function(){this.state=n,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=m,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(b){this.pause(),this._time=b,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var b=this.getTimer()-this._startTime;this.state===n?this.setTime(b):this.state===m&&this.setTime(this.duration-b)},pause:function(){this.state=g,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Kinetic.Easings={BackEaseIn:function(o,f,s,r){var q=1.70158;return s*(o/=r)*o*((q+1)*o-q)+f},BackEaseOut:function(o,f,s,r){var q=1.70158;return s*((o=o/r-1)*o*((q+1)*o+q)+1)+f},BackEaseInOut:function(o,f,s,r){var q=1.70158;return(o/=r/2)<1?s/2*o*o*(((q*=1.525)+1)*o-q)+f:s/2*((o-=2)*o*(((q*=1.525)+1)*o+q)+2)+f},ElasticEaseIn:function(q,o,w,v,u,s){var r=0;return 0===q?o:1==(q/=v)?o+w:(s||(s=0.3*v),!u||u<Math.abs(w)?(u=w,r=s/4):r=s/(2*Math.PI)*Math.asin(w/u),-(u*Math.pow(2,10*(q-=1))*Math.sin((q*v-r)*2*Math.PI/s))+o)},ElasticEaseOut:function(q,o,w,v,u,s){var r=0;return 0===q?o:1==(q/=v)?o+w:(s||(s=0.3*v),!u||u<Math.abs(w)?(u=w,r=s/4):r=s/(2*Math.PI)*Math.asin(w/u),u*Math.pow(2,-10*q)*Math.sin((q*v-r)*2*Math.PI/s)+w+o)},ElasticEaseInOut:function(q,o,w,v,u,s){var r=0;return 0===q?o:2==(q/=v/2)?o+w:(s||(s=v*0.3*1.5),!u||u<Math.abs(w)?(u=w,r=s/4):r=s/(2*Math.PI)*Math.asin(w/u),1>q?-0.5*u*Math.pow(2,10*(q-=1))*Math.sin((q*v-r)*2*Math.PI/s)+o:0.5*u*Math.pow(2,-10*(q-=1))*Math.sin((q*v-r)*2*Math.PI/s)+w+o)},BounceEaseOut:function(f,e,q,o){return(f/=o)<1/2.75?q*7.5625*f*f+e:2/2.75>f?q*(7.5625*(f-=1.5/2.75)*f+0.75)+e:2.5/2.75>f?q*(7.5625*(f-=2.25/2.75)*f+0.9375)+e:q*(7.5625*(f-=2.625/2.75)*f+0.984375)+e},BounceEaseIn:function(f,e,q,o){return q-Kinetic.Easings.BounceEaseOut(o-f,0,q,o)+e},BounceEaseInOut:function(f,e,q,o){return o/2>f?0.5*Kinetic.Easings.BounceEaseIn(2*f,0,q,o)+e:0.5*Kinetic.Easings.BounceEaseOut(2*f-o,0,q,o)+0.5*q+e},EaseIn:function(f,e,q,o){return q*(f/=o)*f+e},EaseOut:function(f,e,q,o){return -q*(f/=o)*(f-2)+e},EaseInOut:function(f,e,q,o){return(f/=o/2)<1?q/2*f*f+e:-q/2*(--f*(f-2)-1)+e},StrongEaseIn:function(f,e,q,o){return q*(f/=o)*f*f*f*f+e},StrongEaseOut:function(f,e,q,o){return q*((f=f/o-1)*f*f*f*f+1)+e},StrongEaseInOut:function(f,e,q,o){return(f/=o/2)<1?q/2*f*f*f*f*f+e:q/2*((f-=2)*f*f*f*f+2)+e},Linear:function(f,e,q,o){return q*f/o+e}}}(),function(){Kinetic.DD={anim:new Kinetic.Animation,isDragging:!1,offset:{x:0,y:0},node:null,_drag:function(f){var e=Kinetic.DD,g=e.node;g&&(g._setDragPosition(f),e.isDragging||(e.isDragging=!0,g.fire("dragstart",f,!0)),g.fire("dragmove",f,!0))},_endDragBefore:function(g){var f,l,k=Kinetic.DD,h=k.node;h&&(f=h.nodeType,l=h.getLayer(),k.anim.stop(),k.isDragging&&(k.isDragging=!1,Kinetic.listenClickTap=!1,g&&(g.dragEndNode=h)),delete k.node,(l||h).draw())},_endDragAfter:function(f){f=f||{};var e=f.dragEndNode;f&&e&&e.fire("dragend",f,!0)}},Kinetic.Node.prototype.startDrag=function(){var g=Kinetic.DD,f=this.getStage(),l=this.getLayer(),k=f.getPointerPosition(),h=this.getAbsolutePosition();k&&(g.node&&g.node.stopDrag(),g.node=this,g.offset.x=k.x-h.x,g.offset.y=k.y-h.y,g.anim.setLayers(l||this.getLayers()),g.anim.start(),this._setDragPosition())},Kinetic.Node.prototype._setDragPosition=function(g){var f=Kinetic.DD,l=this.getStage().getPointerPosition(),k=this.getDragBoundFunc(),h={x:l.x-f.offset.x,y:l.y-f.offset.y};void 0!==k&&(h=k.call(this,h,g)),this.setAbsolutePosition(h)},Kinetic.Node.prototype.stopDrag=function(){var f=Kinetic.DD,e={};f._endDragBefore(e),f._endDragAfter(e)},Kinetic.Node.prototype.setDraggable=function(b){this._setAttr("draggable",b),this._dragChange()};var d=Kinetic.Node.prototype.destroy;Kinetic.Node.prototype.destroy=function(){var a=Kinetic.DD;a.node&&a.node._id===this._id&&this.stopDrag(),d.call(this)},Kinetic.Node.prototype.isDragging=function(){var b=Kinetic.DD;return b.node&&b.node._id===this._id&&b.isDragging},Kinetic.Node.prototype._listenDrag=function(){var b=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.kinetic contentTouchstart.kinetic",function(a){Kinetic.DD.node||b.startDrag(a)}):this.on("mousedown.kinetic touchstart.kinetic",function(a){Kinetic.DD.node||b.startDrag(a)})},Kinetic.Node.prototype._dragChange=function(){if(this.attrs.draggable){this._listenDrag()}else{this._dragCleanup();var f=this.getStage(),e=Kinetic.DD;f&&e.node&&e.node._id===this._id&&e.node.stopDrag()}},Kinetic.Node.prototype._dragCleanup=function(){this.off("mousedown.kinetic"),this.off("touchstart.kinetic")},Kinetic.Factory.addGetterSetter(Kinetic.Node,"dragBoundFunc"),Kinetic.Factory.addGetter(Kinetic.Node,"draggable",!1),Kinetic.Node.prototype.isDraggable=Kinetic.Node.prototype.getDraggable;var c=document.getElementsByTagName("html")[0];c.addEventListener("mouseup",Kinetic.DD._endDragBefore,!0),c.addEventListener("touchend",Kinetic.DD._endDragBefore,!0),c.addEventListener("mouseup",Kinetic.DD._endDragAfter,!1),c.addEventListener("touchend",Kinetic.DD._endDragAfter,!1)}(),function(){Kinetic.Util.addMethods(Kinetic.Container,{__init:function(b){this.children=new Kinetic.Collection,Kinetic.Node.call(this,b)},getChildren:function(){return this.children},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var d,c=this.children;c.length>0;){d=c[0],d.hasChildren()&&d.removeChildren(),d.remove()}return this},destroyChildren:function(){for(var b=this.children;b.length>0;){b[0].destroy()}return this},add:function(d){var c=this.children;return this._validateAdd(d),d.index=c.length,d.parent=this,c.push(d),this._fire("add",{child:d}),this},destroy:function(){this.hasChildren()&&this.destroyChildren(),Kinetic.Node.prototype.destroy.call(this)},find:function(x){var w,v,u,s,r,q,o,n=[],m=x.replace(/ /g,"").split(","),l=m.length;for(w=0;l>w;w++){if(u=m[w],"#"===u.charAt(0)){r=this._getNodeById(u.slice(1)),r&&n.push(r)}else{if("."===u.charAt(0)){s=this._getNodesByName(u.slice(1)),n=n.concat(s)}else{for(q=this.getChildren(),o=q.length,v=0;o>v;v++){n=n.concat(q[v]._get(u))}}}}return Kinetic.Collection.toCollection(n)},_getNodeById:function(d){var c=Kinetic.ids[d];return void 0!==c&&this.isAncestorOf(c)?c:null},_getNodesByName:function(d){var c=Kinetic.names[d]||[];return this._getDescendants(c)},_get:function(g){for(var f=Kinetic.Node.prototype._get.call(this,g),l=this.getChildren(),k=l.length,h=0;k>h;h++){f=f.concat(l[h]._get(g))}return f},toObject:function(){var g=Kinetic.Node.prototype.toObject.call(this);g.children=[];for(var f=this.getChildren(),l=f.length,k=0;l>k;k++){var h=f[k];g.children.push(h.toObject())}return g},_getDescendants:function(g){for(var f=[],l=g.length,k=0;l>k;k++){var h=g[k];this.isAncestorOf(h)&&f.push(h)}return f},isAncestorOf:function(d){for(var c=d.getParent();c;){if(c._id===this._id){return !0}c=c.getParent()}return !1},clone:function(d){var c=Kinetic.Node.prototype.clone.call(this,d);return this.getChildren().each(function(b){c.add(b.clone())}),c},getAllIntersections:function(){for(var h=Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),g=[],n=this.find("Shape"),m=n.length,l=0;m>l;l++){var k=n[l];k.isVisible()&&k.intersects(h)&&g.push(k)}return g},_setChildrenIndices:function(){this.children.each(function(d,c){d.index=c})},drawScene:function(e){var d=this.getLayer(),f=this.getClipWidth()&&this.getClipHeight();return !e&&d&&(e=d.getCanvas()),this.isVisible()&&(f?e.getContext()._clip(this):this._drawChildren(e)),this},_drawChildren:function(b){this.children.each(function(a){a.drawScene(b)})},drawHit:function(){var g,f=this.getClipWidth()&&this.getClipHeight()&&"Stage"!==this.nodeType,l=0,k=0,h=[];if(this.shouldDrawHit()){for(f&&(g=this.getLayer().hitCanvas,g.getContext()._clip(this)),h=this.children,k=h.length,l=0;k>l;l++){h[l].drawHit()}f&&g.getContext()._context.restore()}return this}}),Kinetic.Util.extend(Kinetic.Container,Kinetic.Node),Kinetic.Container.prototype.get=Kinetic.Container.prototype.find,Kinetic.Factory.addBoxGetterSetter(Kinetic.Container,"clip")}(),function(){function h(b){b.fill()}function g(b){b.stroke()}function n(b){b.fill()}function m(b){b.stroke()}function l(){this._clearCache(k)}var k="hasShadow";Kinetic.Util.addMethods(Kinetic.Shape,{__init:function(c){this.nodeType="Shape",this._fillFunc=h,this._strokeFunc=g,this._fillFuncHit=n,this._strokeFuncHit=m;for(var b,a=Kinetic.shapes;;){if(b=Kinetic.Util.getRandomColor(),b&&!(b in a)){break}}this.colorKey=b,a[b]=this,Kinetic.Node.call(this,c),this._setDrawFuncs(),this.on("shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic",l)},hasChildren:function(){return !1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(k,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return !!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return !(!this.getStroke()&&!this.getStrokeWidth())},_get:function(b){return this.className===b||this.nodeType===b?[this]:[]},intersects:function(){var f,e=Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),q=this.getStage(),o=q.bufferHitCanvas;return o.getContext().clear(),this.drawScene(o),f=o.context.getImageData(0|e.x,0|e.y,1,1).data,f[3]>0},enableFill:function(){return this._setAttr("fillEnabled",!0),this},disableFill:function(){return this._setAttr("fillEnabled",!1),this},enableStroke:function(){return this._setAttr("strokeEnabled",!0),this},disableStroke:function(){return this._setAttr("strokeEnabled",!1),this},enableStrokeScale:function(){return this._setAttr("strokeScaleEnabled",!0),this},disableStrokeScale:function(){return this._setAttr("strokeScaleEnabled",!1),this},enableShadow:function(){return this._setAttr("shadowEnabled",!0),this},disableShadow:function(){return this._setAttr("shadowEnabled",!1),this},enableDashArray:function(){return this._setAttr("dashArrayEnabled",!0),this},disableDashArray:function(){return this._setAttr("dashArrayEnabled",!1),this},destroy:function(){return Kinetic.Node.prototype.destroy.call(this),delete Kinetic.shapes[this.colorKey],this},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasFill()&&this.hasStroke()},drawScene:function(q){var o,x,w,v=q||this.getLayer().getCanvas(),u=v.getContext(),s=this.getDrawFunc(),r=this.hasShadow();return s&&this.isVisible()&&(this._useBufferCanvas()?(o=this.getStage(),x=o.bufferCanvas,w=x.getContext(),w.clear(),w.save(),w._applyLineJoin(this),w._applyAncestorTransforms(this),s.call(this,w),w.restore(),u.save(),r&&(u.save(),u._applyShadow(this),u.drawImage(x._canvas,0,0),u.restore()),u._applyOpacity(this),u.drawImage(x._canvas,0,0),u.restore()):(u.save(),u._applyLineJoin(this),u._applyAncestorTransforms(this),r&&(u.save(),u._applyShadow(this),s.call(this,u),u.restore()),u._applyOpacity(this),s.call(this,u),u.restore())),this},drawHit:function(){var f=this.getAttrs(),e=f.drawHitFunc||f.drawFunc,q=this.getLayer().hitCanvas,o=q.getContext();return e&&this.shouldDrawHit()&&(o.save(),o._applyLineJoin(this),o._applyAncestorTransforms(this),e.call(this,o),o.restore()),this},_setDrawFuncs:function(){!this.attrs.drawFunc&&this.drawFunc&&this.setDrawFunc(this.drawFunc),!this.attrs.drawHitFunc&&this.drawHitFunc&&this.setDrawHitFunc(this.drawHitFunc)}}),Kinetic.Util.extend(Kinetic.Shape,Kinetic.Node),Kinetic.Factory.addColorGetterSetter(Kinetic.Shape,"stroke"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineJoin"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineCap"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeWidth"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"drawFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"drawHitFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dashArray"),Kinetic.Factory.addColorGetterSetter(Kinetic.Shape,"shadowColor"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlur"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOpacity"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternImage"),Kinetic.Factory.addColorGetterSetter(Kinetic.Shape,"fill"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternX"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternY"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartRadius"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndRadius"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRepeat"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dashArrayEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPriority","color"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeScaleEnabled",!0),Kinetic.Factory.addPointGetterSetter(Kinetic.Shape,"fillPatternOffset",0),Kinetic.Factory.addPointGetterSetter(Kinetic.Shape,"fillPatternScale",1),Kinetic.Factory.addPointGetterSetter(Kinetic.Shape,"fillLinearGradientStartPoint",0),Kinetic.Factory.addPointGetterSetter(Kinetic.Shape,"fillLinearGradientEndPoint",0),Kinetic.Factory.addPointGetterSetter(Kinetic.Shape,"fillRadialGradientStartPoint",0),Kinetic.Factory.addPointGetterSetter(Kinetic.Shape,"fillRadialGradientEndPoint",0),Kinetic.Factory.addPointGetterSetter(Kinetic.Shape,"shadowOffset",0),Kinetic.Factory.addRotationGetterSetter(Kinetic.Shape,"fillPatternRotation",0)}(),function(){function aA(d,c){d.content.addEventListener(c,function(a){d[R+c](a)},!1)}var az="Stage",ay="string",ax="px",aw="mouseout",av="mouseleave",au="mouseover",at="mouseenter",ar="mousemove",aq="mousedown",ap="mouseup",ao="click",an="dblclick",am="touchstart",al="touchend",ak="tap",aj="dbltap",ai="touchmove",ah="contentMouseout",ag="contentMouseover",af="contentMousemove",ae="contentMousedown",ad="contentMouseup",ac="contentClick",ab="contentDblclick",aa="contentTouchstart",Z="contentTouchend",Y="contentDbltap",X="contentTouchmove",W="div",V="relative",U="inline-block",T="kineticjs-content",S=" ",R="_",Q="container",P="",O=[aq,ar,ap,aw,am,ai,al,au],N=O.length;Kinetic.Util.addMethods(Kinetic.Stage,{___init:function(b){this.nodeType=az,Kinetic.Container.call(this,b),this._id=Kinetic.idCounter++,this._buildDOM(),this._bindContentEvents(),Kinetic.stages.push(this)},_validateAdd:function(b){"Layer"!==b.getType()&&Kinetic.Util.error("You may only add layers to the stage.")},setContainer:function(b){return typeof b===ay&&(b=document.getElementById(b)),this._setAttr(Q,b),this},draw:function(){return Kinetic.Node.prototype.draw.call(this),this},setHeight:function(b){return Kinetic.Node.prototype.setHeight.call(this,b),this._resizeDOM(),this},setWidth:function(b){return Kinetic.Node.prototype.setWidth.call(this,b),this._resizeDOM(),this},clear:function(){var e,d=this.children,f=d.length;for(e=0;f>e;e++){d[e].clear()}return this},destroy:function(){var b=this.content;Kinetic.Container.prototype.destroy.call(this),b&&Kinetic.Util._isInDocument(b)&&this.getContainer().removeChild(b)},getMousePosition:function(){return this.mousePos},getTouchPosition:function(){return this.touchPos},getPointerPosition:function(){return this.getTouchPosition()||this.getMousePosition()},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(u){function s(d){var c=k[d],b=c.toDataURL(),a=new Image;a.onload=function(){l.drawImage(a,0,0),d<k.length-1?s(d+1):u.callback(m.toDataURL(r,q))},a.src=b}u=u||{};var r=u.mimeType||null,q=u.quality||null,o=u.x||0,n=u.y||0,m=new Kinetic.SceneCanvas({width:u.width||this.getWidth(),height:u.height||this.getHeight(),pixelRatio:1}),l=m.getContext()._context,k=this.children;(o||n)&&l.translate(-1*o,-1*n),s(0)},toImage:function(d){var c=d.callback;d.callback=function(b){Kinetic.Util._getImage(b,function(e){c(e)})},this.toDataURL(d)},getIntersection:function(){var h,g,n=Kinetic.Util._getXY(Array.prototype.slice.call(arguments)),m=this.getChildren(),l=m.length,k=l-1;for(h=k;h>=0;h--){if(g=m[h].getIntersection(n)){return g}}return null},_resizeDOM:function(){if(this.content){var h,d,n=this.getWidth(),m=this.getHeight(),l=this.getChildren(),k=l.length;for(this.content.style.width=n+ax,this.content.style.height=m+ax,this.bufferCanvas.setSize(n,m),this.bufferHitCanvas.setSize(n,m),h=0;k>h;h++){d=l[h],d.getCanvas().setSize(n,m),d.hitCanvas.setSize(n,m),d.draw()}}},add:function(b){return Kinetic.Container.prototype.add.call(this,b),b.canvas.setSize(this.attrs.width,this.attrs.height),b.hitCanvas.setSize(this.attrs.width,this.attrs.height),b.draw(),this.content.appendChild(b.canvas._canvas),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_setPointerPosition:function(b){b||(b=window.event),this._setMousePosition(b),this._setTouchPosition(b)},_bindContentEvents:function(){var a;for(a=0;N>a;a++){aA(this,O[a])}},_mouseover:function(b){this._fire(ag,b)},_mouseout:function(d){this._setPointerPosition(d);var c=this.targetShape;c&&!Kinetic.isDragging()&&(c._fireAndBubble(aw,d),c._fireAndBubble(av,d),this.targetShape=null),this.mousePos=void 0,this._fire(ah,d)},_mousemove:function(f){this._setPointerPosition(f);var e=Kinetic.DD,h=this.getIntersection(this.getPointerPosition()),g=h&&h.shape?h.shape:void 0;g?Kinetic.isDragging()||255!==h.pixel[3]||this.targetShape&&this.targetShape._id===g._id?g._fireAndBubble(ar,f):(this.targetShape&&(this.targetShape._fireAndBubble(aw,f,g),this.targetShape._fireAndBubble(av,f,g)),g._fireAndBubble(au,f,this.targetShape),g._fireAndBubble(at,f,this.targetShape),this.targetShape=g):this.targetShape&&!Kinetic.isDragging()&&(this.targetShape._fireAndBubble(aw,f),this.targetShape._fireAndBubble(av,f),this.targetShape=null),this._fire(af,f),e&&e._drag(f),f.preventDefault&&f.preventDefault()},_mousedown:function(e){this._setPointerPosition(e);var d=this.getIntersection(this.getPointerPosition()),f=d&&d.shape?d.shape:void 0;Kinetic.listenClickTap=!0,f&&(this.clickStartShape=f,f._fireAndBubble(aq,e)),this._fire(ae),e.preventDefault&&e.preventDefault()},_mouseup:function(f){this._setPointerPosition(f);var e=this.getIntersection(this.getPointerPosition()),h=e&&e.shape?e.shape:void 0,g=!1;Kinetic.inDblClickWindow?(g=!0,Kinetic.inDblClickWindow=!1):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),h&&(h._fireAndBubble(ap,f),Kinetic.listenClickTap&&h._id===this.clickStartShape._id&&(h._fireAndBubble(ao,f),g&&h._fireAndBubble(an,f))),this._fire(ad),Kinetic.listenClickTap&&(this._fire(ac,f),g&&this._fire(ab,f)),Kinetic.listenClickTap=!1,f.preventDefault&&f.preventDefault()},_touchstart:function(e){this._setPointerPosition(e);var d=this.getIntersection(this.getPointerPosition()),f=d&&d.shape?d.shape:void 0;Kinetic.listenClickTap=!0,f&&(this.tapStartShape=f,f._fireAndBubble(am,e),f.isListening()&&e.preventDefault&&e.preventDefault()),this._fire(aa,e)},_touchend:function(f){this._setPointerPosition(f);var e=this.getIntersection(this.getPointerPosition()),h=e&&e.shape?e.shape:void 0,g=!1;Kinetic.inDblClickWindow?(g=!0,Kinetic.inDblClickWindow=!1):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),h&&(h._fireAndBubble(al,f),Kinetic.listenClickTap&&h._id===this.tapStartShape._id&&(h._fireAndBubble(ak,f),g&&h._fireAndBubble(aj,f)),h.isListening()&&f.preventDefault&&f.preventDefault()),Kinetic.listenClickTap&&(this._fire(Z,f),g&&this._fire(Y,f)),Kinetic.listenClickTap=!1},_touchmove:function(f){this._setPointerPosition(f);var e=Kinetic.DD,h=this.getIntersection(this.getPointerPosition()),g=h&&h.shape?h.shape:void 0;g&&(g._fireAndBubble(ai,f),g.isListening()&&f.preventDefault&&f.preventDefault()),this._fire(X,f),e&&e._drag(f)},_setMousePosition:function(h){var g=this._getContentPosition(),n=h.offsetX,m=h.clientX,l=0,k=0;void 0!==n?(l=n,k=h.offsetY):"mozilla"===Kinetic.UA.browser?(l=h.layerX,k=h.layerY):void 0!==m&&g&&(l=m-g.left,k=h.clientY-g.top),this.mousePos={x:l,y:k}},_setTouchPosition:function(g){var f,l,k,h=this._getContentPosition();void 0!==g.touches&&1===g.touches.length&&(f=g.touches[0],l=f.clientX-h.left,k=f.clientY-h.top,this.touchPos={x:l,y:k})},_getContentPosition:function(){var b=this.content.getBoundingClientRect();return{top:b.top,left:b.left}},_buildDOM:function(){var b=this.getContainer();b.innerHTML=P,this.content=document.createElement(W),this.content.style.position=V,this.content.style.display=U,this.content.className=T,b.appendChild(this.content),this.bufferCanvas=new Kinetic.SceneCanvas,this.bufferHitCanvas=new Kinetic.HitCanvas,this._resizeDOM()},_onContent:function(h,g){var n,m,l=h.split(S),k=l.length;for(n=0;k>n;n++){m=l[n],this.content.addEventListener(m,g,!1)}}}),Kinetic.Util.extend(Kinetic.Stage,Kinetic.Container),Kinetic.Factory.addGetter(Kinetic.Stage,"container")}(),function(){var e="#",d="beforeDraw",f="draw";Kinetic.Util.addMethods(Kinetic.Layer,{___init:function(b){this.nodeType="Layer",this.canvas=new Kinetic.SceneCanvas,this.hitCanvas=new Kinetic.HitCanvas,Kinetic.Container.call(this,b)},_validateAdd:function(g){var c=g.getType();"Group"!==c&&"Shape"!==c&&Kinetic.Util.error("You may only add groups and shapes to a layer.")},getIntersection:function(){var a,k,h,g=Kinetic.Util._getXY(Array.prototype.slice.call(arguments));if(this.isVisible()&&this.isListening()){if(a=this.hitCanvas.context._context.getImageData(0|g.x,0|g.y,1,1).data,255===a[3]){return k=Kinetic.Util._rgbToHex(a[0],a[1],a[2]),h=Kinetic.shapes[e+k],{shape:h,pixel:a}}if(a[0]>0||a[1]>0||a[2]>0||a[3]>0){return{pixel:a}}}return null},drawScene:function(b){return b=b||this.getCanvas(),this._fire(d,{node:this}),this.getClearBeforeDraw()&&b.getContext().clear(),Kinetic.Container.prototype.drawScene.call(this,b),this._fire(f,{node:this}),this},drawHit:function(){var b=this.getLayer();return b&&b.getClearBeforeDraw()&&b.getHitCanvas().getContext().clear(),Kinetic.Container.prototype.drawHit.call(this),this},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(){var g=this.getContext(),c=this.getHitCanvas().getContext();return g.clear.apply(g,arguments),c.clear.apply(c,arguments),this},setVisible:function(b){return Kinetic.Node.prototype.setVisible.call(this,b),b?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},setZIndex:function(g){Kinetic.Node.prototype.setZIndex.call(this,g);var c=this.getStage();return c&&(c.content.removeChild(this.getCanvas()._canvas),g<c.getChildren().length-1?c.content.insertBefore(this.getCanvas()._canvas,c.getChildren()[g+1].getCanvas()._canvas):c.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){Kinetic.Node.prototype.moveToTop.call(this);var b=this.getStage();b&&(b.content.removeChild(this.getCanvas()._canvas),b.content.appendChild(this.getCanvas()._canvas))},moveUp:function(){if(Kinetic.Node.prototype.moveUp.call(this)){var b=this.getStage();b&&(b.content.removeChild(this.getCanvas()._canvas),this.index<b.getChildren().length-1?b.content.insertBefore(this.getCanvas()._canvas,b.getChildren()[this.index+1].getCanvas()._canvas):b.content.appendChild(this.getCanvas()._canvas))}},moveDown:function(){if(Kinetic.Node.prototype.moveDown.call(this)){var g=this.getStage();if(g){var c=g.getChildren();g.content.removeChild(this.getCanvas()._canvas),g.content.insertBefore(this.getCanvas()._canvas,c[this.index+1].getCanvas()._canvas)}}},moveToBottom:function(){if(Kinetic.Node.prototype.moveToBottom.call(this)){var g=this.getStage();if(g){var c=g.getChildren();g.content.removeChild(this.getCanvas()._canvas),g.content.insertBefore(this.getCanvas()._canvas,c[1].getCanvas()._canvas)}}},getLayer:function(){return this},remove:function(){var h=this.getStage(),g=this.getCanvas(),k=g._canvas;return Kinetic.Node.prototype.remove.call(this),h&&k&&Kinetic.Util._isInDocument(k)&&h.content.removeChild(k),this},getStage:function(){return this.parent}}),Kinetic.Util.extend(Kinetic.Layer,Kinetic.Container),Kinetic.Factory.addGetterSetter(Kinetic.Layer,"clearBeforeDraw",!0)}(),function(){Kinetic.Util.addMethods(Kinetic.Group,{___init:function(b){this.nodeType="Group",Kinetic.Container.call(this,b)},_validateAdd:function(d){var c=d.getType();"Group"!==c&&"Shape"!==c&&Kinetic.Util.error("You may only add groups and shapes to groups.")}}),Kinetic.Util.extend(Kinetic.Group,Kinetic.Container)}(),function(){Kinetic.Rect=function(b){this.___init(b)},Kinetic.Rect.prototype={___init:function(b){Kinetic.Shape.call(this,b),this.className="Rect"},drawFunc:function(f){var e=this.getCornerRadius(),h=this.getWidth(),g=this.getHeight();f.beginPath(),e?(f.moveTo(e,0),f.lineTo(h-e,0),f.arc(h-e,e,e,3*Math.PI/2,0,!1),f.lineTo(h,g-e),f.arc(h-e,g-e,e,0,Math.PI/2,!1),f.lineTo(e,g),f.arc(e,g-e,e,Math.PI/2,Math.PI,!1),f.lineTo(0,e),f.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):f.rect(0,0,h,g),f.closePath(),f.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Rect,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Rect,"cornerRadius",0)}(),function(){var d=2*Math.PI-0.0001,c="Circle";Kinetic.Circle=function(b){this.___init(b)},Kinetic.Circle.prototype={___init:function(b){Kinetic.Shape.call(this,b),this.className=c},drawFunc:function(a){a.beginPath(),a.arc(0,0,this.getRadius(),0,d,!1),a.closePath(),a.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(b){Kinetic.Node.prototype.setWidth.call(this,b),this.setRadius(b/2)},setHeight:function(b){Kinetic.Node.prototype.setHeight.call(this,b),this.setRadius(b/2)}},Kinetic.Util.extend(Kinetic.Circle,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Circle,"radius",0)}(),function(){var d=2*Math.PI-0.0001,c="Ellipse";Kinetic.Ellipse=function(b){this.___init(b)},Kinetic.Ellipse.prototype={___init:function(b){Kinetic.Shape.call(this,b),this.className=c},drawFunc:function(a){var e=this.getRadius();a.beginPath(),a.save(),e.x!==e.y&&a.scale(1,e.y/e.x),a.arc(0,0,e.x,0,d,!1),a.restore(),a.closePath(),a.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius().x},getHeight:function(){return 2*this.getRadius().y},setWidth:function(b){Kinetic.Node.prototype.setWidth.call(this,b),this.setRadius({x:b/2})},setHeight:function(b){Kinetic.Node.prototype.setHeight.call(this,b),this.setRadius({y:b/2})}},Kinetic.Util.extend(Kinetic.Ellipse,Kinetic.Shape),Kinetic.Factory.addPointGetterSetter(Kinetic.Ellipse,"radius",0)}(),function(){Kinetic.Wedge=function(b){this.___init(b)},Kinetic.Wedge.prototype={___init:function(b){Kinetic.Shape.call(this,b),this.className="Wedge"},drawFunc:function(b){b.beginPath(),b.arc(0,0,this.getRadius(),0,this.getAngle(),this.getClockwise()),b.lineTo(0,0),b.closePath(),b.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Wedge,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"radius",0),Kinetic.Factory.addRotationGetterSetter(Kinetic.Wedge,"angle",0),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"clockwise",!1)}(),function(){var d="Image",c="set";Kinetic.Image=function(b){this.___init(b)},Kinetic.Image.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=d},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},drawFunc:function(h){var g,n,m,l=this.getWidth(),k=this.getHeight();this.getFilter()&&this._applyFilter&&(this.applyFilter(),this._applyFilter=!1),this.filterCanvas?(m=this.filterCanvas._canvas,n=[m,0,0,l,k]):(m=this.getImage(),m&&(g=this.getCrop(),g?(g.x=g.x||0,g.y=g.y||0,g.width=g.width||m.width-g.x,g.height=g.height||m.height-g.y,n=[m,g.x,g.y,g.width,g.height,0,0,l,k]):n=[m,0,0,l,k])),h.beginPath(),h.rect(0,0,l,k),h.closePath(),h.fillStrokeShape(this),m&&h.drawImage.apply(h,n)},drawHitFunc:function(f){var e=this.getWidth(),h=this.getHeight(),g=this.imageHitRegion;g?(f.drawImage(g,0,0,e,h),f.beginPath(),f.rect(0,0,e,h),f.closePath(),f.strokeShape(this)):(f.beginPath(),f.rect(0,0,e,h),f.closePath(),f.fillStrokeShape(this))},applyFilter:function(){var k,h,q,o=this.getImage(),n=(this.getWidth(),this.getHeight(),this.getFilter()),m=this.getCrop()||{};m.x=m.x||0,m.y=m.y||0,m.width=m.width||o.width-m.x,m.height=m.height||o.height-m.y,this.filterCanvas&&this.filterCanvas.getWidth()===m.width&&this.filterCanvas.getHeight()===m.height?(k=this.filterCanvas,k.getContext().clear()):k=this.filterCanvas=new Kinetic.SceneCanvas({width:m.width,height:m.height,pixelRatio:1}),h=k.getContext();try{h.drawImage(o,m.x,m.y,m.width,m.height,0,0,m.width,m.height),q=h.getImageData(0,0,m.width,m.height),n.call(this,q),h.putImageData(q,0,0)}catch(l){this.clearFilter(),Kinetic.Util.warn("Unable to apply filter. "+l.message)}},clearFilter:function(){this.filterCanvas=null,this._applyFilter=!1},createImageHitRegion:function(B){var A,z,y,x,w,v=this,u=this.getWidth(),s=this.getHeight(),r=new Kinetic.SceneCanvas({width:u,height:s}),q=r.getContext()._context,o=this.getImage();q.drawImage(o,0,0);try{for(A=q.getImageData(0,0,u,s),z=A.data,w=z.length,y=Kinetic.Util._hexToRgb(this.colorKey),x=0;w>x;x+=4){z[x+3]>0&&(z[x]=y.r,z[x+1]=y.g,z[x+2]=y.b)}Kinetic.Util._getImage(A,function(a){v.imageHitRegion=a,B&&B()})}catch(n){Kinetic.Util.warn("Unable to create image hit region. "+n.message)}},clearImageHitRegion:function(){delete this.imageHitRegion},getWidth:function(){var b=this.getImage();return this.attrs.width||(b?b.width:0)},getHeight:function(){var b=this.getImage();return this.attrs.height||(b?b.height:0)}},Kinetic.Util.extend(Kinetic.Image,Kinetic.Shape),Kinetic.Factory.addFilterGetterSetter=function(f,e,g){this.addGetter(f,e,g),this.addFilterSetter(f,e)},Kinetic.Factory.addFilterSetter=function(b,f){var e=c+Kinetic.Util._capitalize(f);b.prototype[e]=function(g){this._setAttr(f,g),this._applyFilter=!0}},Kinetic.Factory.addGetterSetter(Kinetic.Image,"image"),Kinetic.Factory.addBoxGetterSetter(Kinetic.Image,"crop"),Kinetic.Factory.addFilterGetterSetter(Kinetic.Image,"filter")}(),function(){Kinetic.Polygon=function(b){this.___init(b)},Kinetic.Polygon.prototype={___init:function(b){Kinetic.Shape.call(this,b),this.className="Polygon"},drawFunc:function(f){var e=this.getPoints(),h=e.length;f.beginPath(),f.moveTo(e[0].x,e[0].y);for(var g=1;h>g;g++){f.lineTo(e[g].x,e[g].y)}f.closePath(),f.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Polygon,Kinetic.Shape),Kinetic.Factory.addPointsGetterSetter(Kinetic.Polygon,"points")}(),function(){function V(b){b.fillText(this.partialText,0,0)}function U(b){b.strokeText(this.partialText,0,0)}var T="auto",S="Calibri",R="canvas",Q="center",P="Change.kinetic",O="2d",N="-",M="",L="left",K="text",J="Text",I="middle",H="normal",G="px ",F=" ",E="right",D="word",C="char",B="none",A=["fontFamily","fontSize","fontStyle","padding","align","lineHeight","text","width","height","wrap"],z=A.length,y=document.createElement(R).getContext(O);Kinetic.Text=function(b){this.___init(b)},Kinetic.Text.prototype={___init:function(c){var b=this;void 0===c.width&&(c.width=T),void 0===c.height&&(c.height=T),Kinetic.Shape.call(this,c),this._fillFunc=V,this._strokeFunc=U,this.className=J;for(var a=0;z>a;a++){this.on(A[a]+P,b._setTextData)}this._setTextData()},drawFunc:function(x){var w=this.getPadding(),v=(this.getFontStyle(),this.getFontSize(),this.getFontFamily(),this.getTextHeight()),u=this.getLineHeight()*v,s=this.textArr,r=s.length,q=this.getWidth();x.setAttr("font",this._getContextFont()),x.setAttr("textBaseline",I),x.setAttr("textAlign",L),x.save(),x.translate(w,0),x.translate(0,w+v/2);for(var o=0;r>o;o++){var n=s[o],k=n.text,f=n.width;x.save(),this.getAlign()===E?x.translate(q-f-2*w,0):this.getAlign()===Q&&x.translate((q-f-2*w)/2,0),this.partialText=k,x.fillStrokeShape(this),x.restore(),x.translate(0,u)}x.restore()},drawHitFunc:function(e){var d=this.getWidth(),f=this.getHeight();e.beginPath(),e.rect(0,0,d,f),e.closePath(),e.fillStrokeShape(this)},setText:function(d){var c=Kinetic.Util._isString(d)?d:d.toString();this._setAttr(K,c)},getWidth:function(){return this.attrs.width===T?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return this.attrs.height===T?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(f){var e,h=y,g=this.getFontSize();return h.save(),h.font=this._getContextFont(),e=h.measureText(f),h.restore(),{width:e.width,height:parseInt(g,10)}},_getContextFont:function(){return this.getFontStyle()+F+this.getFontSize()+G+this.getFontFamily()},_addTextLine:function(d,c){return this.textArr.push({text:d,width:c})},_getTextWidth:function(b){return y.measureText(b).width},_setTextData:function(){var at=this.getText().split("\n"),ar=+this.getFontSize(),aq=0,ap=this.getLineHeight()*ar,ao=this.attrs.width,an=this.attrs.height,am=ao!==T,al=an!==T,ak=this.getPadding(),aj=ao-2*ak,ai=an-2*ak,ah=0,ag=this.getWrap(),ad=ag!==B,ab=ag!==C&&ad;this.textArr=[],y.save(),y.font=this.getFontStyle()+F+ar+G+this.getFontFamily();for(var X=0,x=at.length;x>X;++X){var q=at[X],c=this._getTextWidth(q);if(am&&c>aj){for(;q.length>0;){for(var af=0,ae=q.length,ac="",aa=0;ae>af;){var Z=af+ae>>>1,Y=q.slice(0,Z+1),W=this._getTextWidth(Y);aj>=W?(af=Z+1,ac=Y,aa=W):ae=Z}if(!ac){break}if(ab){var u=Math.max(ac.lastIndexOf(F),ac.lastIndexOf(N))+1;u>0&&(af=u,ac=ac.slice(0,af),aa=this._getTextWidth(ac))}if(this._addTextLine(ac,aa),ah+=ap,!ad||al&&ah+ap>ai){break}if(q=q.slice(af),q.length>0&&(c=this._getTextWidth(q),aj>=c)){this._addTextLine(q,c),ah+=ap;break}}}else{this._addTextLine(q,c),ah+=ap,aq=Math.max(aq,c)}if(al&&ah+ap>ai){break}}y.restore(),this.textHeight=ar,this.textWidth=aq}},Kinetic.Util.extend(Kinetic.Text,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontFamily",S),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontStyle",H),Kinetic.Factory.addGetterSetter(Kinetic.Text,"padding",0),Kinetic.Factory.addGetterSetter(Kinetic.Text,"align",L),Kinetic.Factory.addGetterSetter(Kinetic.Text,"lineHeight",1),Kinetic.Factory.addGetterSetter(Kinetic.Text,"wrap",D),Kinetic.Factory.addGetter(Kinetic.Text,K,M),Kinetic.Factory.addSetter(Kinetic.Text,"width"),Kinetic.Factory.addSetter(Kinetic.Text,"height")}(),function(){Kinetic.Line=function(b){this.___init(b)},Kinetic.Line.prototype={___init:function(b){Kinetic.Shape.call(this,b),this.className="Line"},drawFunc:function(g){var f,l,k=this.getPoints(),h=k.length;for(g.beginPath(),g.moveTo(k[0].x,k[0].y),f=1;h>f;f++){l=k[f],g.lineTo(l.x,l.y)}g.strokeShape(this)}},Kinetic.Util.extend(Kinetic.Line,Kinetic.Shape),Kinetic.Factory.addPointsGetterSetter(Kinetic.Line,"points")}(),function(){Kinetic.Spline=function(b){this.___init(b)},Kinetic.Spline.prototype={___init:function(d){var c=this;Kinetic.Shape.call(this,d),this.className="Spline",this.on("pointsChange.kinetic tensionChange.kinetic",function(){c._setAllPoints()}),this._setAllPoints()},drawFunc:function(l){var k,s,r,q,o=this.getPoints(),n=o.length,m=this.getTension();if(l.beginPath(),l.moveTo(o[0].x,o[0].y),0!==m&&n>2){for(k=this.allPoints,s=k.length,r=2,l.quadraticCurveTo(k[0].x,k[0].y,k[1].x,k[1].y);s-1>r;){l.bezierCurveTo(k[r].x,k[r++].y,k[r].x,k[r++].y,k[r].x,k[r++].y)}l.quadraticCurveTo(k[s-1].x,k[s-1].y,o[n-1].x,o[n-1].y)}else{for(r=1;n>r;r++){q=o[r],l.lineTo(q.x,q.y)}}l.strokeShape(this)},_setAllPoints:function(){this.allPoints=Kinetic.Util._expandPoints(this.getPoints(),this.getTension())}},Kinetic.Util.extend(Kinetic.Spline,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Spline,"tension",1),Kinetic.Factory.addPointsGetterSetter(Kinetic.Spline,"points")}(),function(){Kinetic.Blob=function(b){this.___init(b)},Kinetic.Blob.prototype={___init:function(d){var c=this;Kinetic.Shape.call(this,d),this.className="Blob",this.on("pointsChange.kinetic tensionChange.kinetic",function(){c._setAllPoints()}),this._setAllPoints()},drawFunc:function(l){var k,s,r,q,o=this.getPoints(),n=o.length,m=this.getTension();if(l.beginPath(),l.moveTo(o[0].x,o[0].y),0!==m&&n>2){for(k=this.allPoints,s=k.length,r=0;s-1>r;){l.bezierCurveTo(k[r].x,k[r++].y,k[r].x,k[r++].y,k[r].x,k[r++].y)}}else{for(r=1;n>r;r++){q=o[r],l.lineTo(q.x,q.y)}}l.closePath(),l.fillStrokeShape(this)},_setAllPoints:function(){var h=this.getPoints(),g=h.length,n=this.getTension(),m=Kinetic.Util,l=m._getControlPoints(h[g-1],h[0],h[1],n),k=m._getControlPoints(h[g-2],h[g-1],h[0],n);this.allPoints=Kinetic.Util._expandPoints(this.getPoints(),this.getTension()),this.allPoints.unshift(l[1]),this.allPoints.push(k[0]),this.allPoints.push(h[g-1]),this.allPoints.push(k[1]),this.allPoints.push(l[0]),this.allPoints.push(h[0])}},Kinetic.Util.extend(Kinetic.Blob,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Blob,"tension",1),Kinetic.Factory.addPointsGetterSetter(Kinetic.Blob,"points")}(),function(){Kinetic.Sprite=function(b){this.___init(b)},Kinetic.Sprite.prototype={___init:function(d){Kinetic.Shape.call(this,d),this.className="Sprite",this.anim=new Kinetic.Animation;var c=this;this.on("animationChange.kinetic",function(){c.setIndex(0)})},drawFunc:function(g){var f=this.getAnimation(),l=this.getIndex(),k=this.getAnimations()[f][l],h=this.getImage();h&&g.drawImage(h,k.x,k.y,k.width,k.height,0,0,k.width,k.height)},drawHitFunc:function(f){var e=this.getAnimation(),h=this.getIndex(),g=this.getAnimations()[e][h];f.beginPath(),f.rect(0,0,g.width,g.height),f.closePath(),f.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},start:function(){var d=this,c=this.getLayer();this.anim.setLayers(c),this.interval=setInterval(function(){var a=d.getIndex();d._updateIndex(),d.afterFrameFunc&&a===d.afterFrameIndex&&(d.afterFrameFunc(),delete d.afterFrameFunc,delete d.afterFrameIndex)},1000/this.getFrameRate()),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},afterFrame:function(d,c){this.afterFrameIndex=d,this.afterFrameFunc=c},_updateIndex:function(){var g=this.getIndex(),f=this.getAnimation(),l=this.getAnimations(),k=l[f],h=k.length;h-1>g?this.setIndex(g+1):this.setIndex(0)}},Kinetic.Util.extend(Kinetic.Sprite,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animation"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animations"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"image"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"index",0),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameRate",17)}(),function(){Kinetic.Path=function(b){this.___init(b)},Kinetic.Path.prototype={___init:function(d){this.dataArray=[];var c=this;Kinetic.Shape.call(this,d),this.className="Path",this.dataArray=Kinetic.Path.parsePathData(this.getData()),this.on("dataChange.kinetic",function(){c.dataArray=Kinetic.Path.parsePathData(this.getData())})},drawFunc:function(I){var H=this.dataArray,G=!1;I.beginPath();for(var F=0;F<H.length;F++){var E=H[F].command,D=H[F].points;switch(E){case"L":I.lineTo(D[0],D[1]);break;case"M":I.moveTo(D[0],D[1]);break;case"C":I.bezierCurveTo(D[0],D[1],D[2],D[3],D[4],D[5]);break;case"Q":I.quadraticCurveTo(D[0],D[1],D[2],D[3]);break;case"A":var C=D[0],B=D[1],A=D[2],z=D[3],y=D[4],x=D[5],w=D[6],v=D[7],u=A>z?A:z,s=A>z?1:A/z,r=A>z?z/A:1;I.translate(C,B),I.rotate(w),I.scale(s,r),I.arc(0,0,u,y,y+x,1-v),I.scale(1/s,1/r),I.rotate(-w),I.translate(-C,-B);break;case"z":I.closePath(),G=!0}}G?I.fillStrokeShape(this):I.strokeShape(this)}},Kinetic.Util.extend(Kinetic.Path,Kinetic.Shape),Kinetic.Path.getLineLength=function(f,e,h,g){return Math.sqrt((h-f)*(h-f)+(g-e)*(g-e))},Kinetic.Path.getPointOnLine=function(I,H,G,F,E,D,C){void 0===D&&(D=H),void 0===C&&(C=G);var B=(E-G)/(F-H+1e-8),A=Math.sqrt(I*I/(1+B*B));H>F&&(A*=-1);var z,y=B*A;if(F===H){z={x:D,y:C+y}}else{if((C-G)/(D-H+1e-8)===B){z={x:D+A,y:C+y}}else{var x,w,v=this.getLineLength(H,G,F,E);if(1e-8>v){return void 0}var u=(D-H)*(F-H)+(C-G)*(E-G);u/=v*v,x=H+u*(F-H),w=G+u*(E-G);var s=this.getLineLength(D,C,x,w),r=Math.sqrt(I*I-s*s);A=Math.sqrt(r*r/(1+B*B)),H>F&&(A*=-1),y=B*A,z={x:x+A,y:w+y}}}return z},Kinetic.Path.getPointOnCubicBezier=function(F,E,D,C,B,A,z,y,x){function w(b){return b*b*b}function v(b){return 3*b*b*(1-b)}function u(b){return 3*b*(1-b)*(1-b)}function s(b){return(1-b)*(1-b)*(1-b)}var r=y*w(F)+A*v(F)+C*u(F)+E*s(F),q=x*w(F)+z*v(F)+B*u(F)+D*s(F);return{x:r,y:q}},Kinetic.Path.getPointOnQuadraticBezier=function(z,y,x,w,v,u,s){function r(b){return b*b}function q(b){return 2*b*(1-b)}function o(b){return(1-b)*(1-b)}var n=u*r(z)+w*q(z)+y*o(z),m=s*r(z)+v*q(z)+x*o(z);return{x:n,y:m}},Kinetic.Path.getPointOnEllipticalArc=function(u,s,r,q,o,n){var m=Math.cos(n),l=Math.sin(n),k={x:r*Math.cos(o),y:q*Math.sin(o)};return{x:u+(k.x*m-k.y*l),y:s+(k.x*l+k.y*m)}},Kinetic.Path.parsePathData=function(Z){if(!Z){return[]}var Y=Z,X=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];Y=Y.replace(new RegExp(" ","g"),",");for(var W=0;W<X.length;W++){Y=Y.replace(new RegExp(X[W],"g"),"|"+X[W])}var V=Y.split("|"),U=[],T=0,S=0;for(W=1;W<V.length;W++){var R=V[W],Q=R.charAt(0);R=R.slice(1),R=R.replace(new RegExp(",-","g"),"-"),R=R.replace(new RegExp("-","g"),",-"),R=R.replace(new RegExp("e,-","g"),"e-");var P=R.split(",");P.length>0&&""===P[0]&&P.shift();for(var O=0;O<P.length;O++){P[O]=parseFloat(P[O])}for(;P.length>0&&!isNaN(P[0]);){var N,M,L,K,J,I,H,G,F,E,D=null,C=[],B=T,A=S;switch(Q){case"l":T+=P.shift(),S+=P.shift(),D="L",C.push(T,S);break;case"L":T=P.shift(),S=P.shift(),C.push(T,S);break;case"m":T+=P.shift(),S+=P.shift(),D="M",C.push(T,S),Q="l";break;case"M":T=P.shift(),S=P.shift(),D="M",C.push(T,S),Q="L";break;case"h":T+=P.shift(),D="L",C.push(T,S);break;case"H":T=P.shift(),D="L",C.push(T,S);break;case"v":S+=P.shift(),D="L",C.push(T,S);break;case"V":S=P.shift(),D="L",C.push(T,S);break;case"C":C.push(P.shift(),P.shift(),P.shift(),P.shift()),T=P.shift(),S=P.shift(),C.push(T,S);break;case"c":C.push(T+P.shift(),S+P.shift(),T+P.shift(),S+P.shift()),T+=P.shift(),S+=P.shift(),D="C",C.push(T,S);break;case"S":M=T,L=S,N=U[U.length-1],"C"===N.command&&(M=T+(T-N.points[2]),L=S+(S-N.points[3])),C.push(M,L,P.shift(),P.shift()),T=P.shift(),S=P.shift(),D="C",C.push(T,S);break;case"s":M=T,L=S,N=U[U.length-1],"C"===N.command&&(M=T+(T-N.points[2]),L=S+(S-N.points[3])),C.push(M,L,T+P.shift(),S+P.shift()),T+=P.shift(),S+=P.shift(),D="C",C.push(T,S);break;case"Q":C.push(P.shift(),P.shift()),T=P.shift(),S=P.shift(),C.push(T,S);break;case"q":C.push(T+P.shift(),S+P.shift()),T+=P.shift(),S+=P.shift(),D="Q",C.push(T,S);break;case"T":M=T,L=S,N=U[U.length-1],"Q"===N.command&&(M=T+(T-N.points[0]),L=S+(S-N.points[1])),T=P.shift(),S=P.shift(),D="Q",C.push(M,L,T,S);break;case"t":M=T,L=S,N=U[U.length-1],"Q"===N.command&&(M=T+(T-N.points[0]),L=S+(S-N.points[1])),T+=P.shift(),S+=P.shift(),D="Q",C.push(M,L,T,S);break;case"A":K=P.shift(),J=P.shift(),I=P.shift(),H=P.shift(),G=P.shift(),F=T,E=S,T=P.shift(),S=P.shift(),D="A",C=this.convertEndpointToCenterParameterization(F,E,T,S,H,G,K,J,I);break;case"a":K=P.shift(),J=P.shift(),I=P.shift(),H=P.shift(),G=P.shift(),F=T,E=S,T+=P.shift(),S+=P.shift(),D="A",C=this.convertEndpointToCenterParameterization(F,E,T,S,H,G,K,J,I)}U.push({command:D||Q,points:C,start:{x:B,y:A},pathLength:this.calcLength(B,A,D||Q,C)})}("z"===Q||"Z"===Q)&&U.push({command:"z",points:[],start:void 0,pathLength:0})}return U},Kinetic.Path.calcLength=function(z,y,x,w){var v,u,s,r=Kinetic.Path;switch(x){case"L":return r.getLineLength(z,y,w[0],w[1]);case"C":for(v=0,u=r.getPointOnCubicBezier(0,z,y,w[0],w[1],w[2],w[3],w[4],w[5]),t=0.01;1>=t;t+=0.01){s=r.getPointOnCubicBezier(t,z,y,w[0],w[1],w[2],w[3],w[4],w[5]),v+=r.getLineLength(u.x,u.y,s.x,s.y),u=s}return v;case"Q":for(v=0,u=r.getPointOnQuadraticBezier(0,z,y,w[0],w[1],w[2],w[3]),t=0.01;1>=t;t+=0.01){s=r.getPointOnQuadraticBezier(t,z,y,w[0],w[1],w[2],w[3]),v+=r.getLineLength(u.x,u.y,s.x,s.y),u=s}return v;case"A":v=0;var q=w[4],o=w[5],n=w[4]+o,m=Math.PI/180;if(Math.abs(q-n)<m&&(m=Math.abs(q-n)),u=r.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],q,0),0>o){for(t=q-m;t>n;t-=m){s=r.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],t,0),v+=r.getLineLength(u.x,u.y,s.x,s.y),u=s}}else{for(t=q+m;n>t;t+=m){s=r.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],t,0),v+=r.getLineLength(u.x,u.y,s.x,s.y),u=s}}return s=r.getPointOnEllipticalArc(w[0],w[1],w[2],w[3],n,0),v+=r.getLineLength(u.x,u.y,s.x,s.y)}return 0},Kinetic.Path.convertEndpointToCenterParameterization=function(X,W,V,U,T,S,R,Q,P){var O=P*(Math.PI/180),N=Math.cos(O)*(X-V)/2+Math.sin(O)*(W-U)/2,M=-1*Math.sin(O)*(X-V)/2+Math.cos(O)*(W-U)/2,L=N*N/(R*R)+M*M/(Q*Q);L>1&&(R*=Math.sqrt(L),Q*=Math.sqrt(L));var K=Math.sqrt((R*R*Q*Q-R*R*M*M-Q*Q*N*N)/(R*R*M*M+Q*Q*N*N));T==S&&(K*=-1),isNaN(K)&&(K=0);var J=K*R*M/Q,I=K*-Q*N/R,H=(X+V)/2+Math.cos(O)*J-Math.sin(O)*I,G=(W+U)/2+Math.sin(O)*J+Math.cos(O)*I,F=function(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1])},E=function(d,c){return(d[0]*c[0]+d[1]*c[1])/(F(d)*F(c))},D=function(d,c){return(d[0]*c[1]<d[1]*c[0]?-1:1)*Math.acos(E(d,c))},C=D([1,0],[(N-J)/R,(M-I)/Q]),B=[(N-J)/R,(M-I)/Q],A=[(-1*N-J)/R,(-1*M-I)/Q],z=D(B,A);return E(B,A)<=-1&&(z=Math.PI),E(B,A)>=1&&(z=0),0===S&&z>0&&(z-=2*Math.PI),1==S&&0>z&&(z+=2*Math.PI),[H,G,R,Q,C,z,O,S]},Kinetic.Factory.addGetterSetter(Kinetic.Path,"data")}(),function(){function g(b){b.fillText(this.partialText,0,0)}function f(b){b.strokeText(this.partialText,0,0)}var l="",k="Calibri",h="normal";Kinetic.TextPath=function(b){this.___init(b)},Kinetic.TextPath.prototype={___init:function(b){var a=this;this.dummyCanvas=document.createElement("canvas"),this.dataArray=[],Kinetic.Shape.call(this,b),this._fillFunc=g,this._strokeFunc=f,this.className="TextPath",this.dataArray=Kinetic.Path.parsePathData(this.attrs.data),this.on("dataChange.kinetic",function(){a.dataArray=Kinetic.Path.parsePathData(this.attrs.data)}),this.on("textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic",a._setTextData),a._setTextData()},drawFunc:function(m){this.charArr,m.setAttr("font",this._getContextFont()),m.setAttr("textBaseline","middle"),m.setAttr("textAlign","left"),m.save();for(var e=this.glyphInfo,o=0;o<e.length;o++){m.save();var n=e[o].p0;e[o].p1,parseFloat(this.attrs.fontSize),m.translate(n.x,n.y),m.rotate(e[o].rotation),this.partialText=e[o].text,m.fillStrokeShape(this),m.restore()}m.restore()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(b){Kinetic.Text.prototype.setText.call(this,b)},_getTextSize:function(m){var e=this.dummyCanvas,o=e.getContext("2d");o.save(),o.font=this._getContextFont();var n=o.measureText(m);return o.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var F=this,E=this._getTextSize(this.attrs.text);this.textWidth=E.width,this.textHeight=E.height,this.glyphInfo=[];for(var D,C,B,A=this.attrs.text.split(""),z=-1,y=0,x=function(){y=0;for(var a=F.dataArray,c=z+1;c<a.length;c++){if(a[c].pathLength>0){return z=c,a[c]}"M"==a[c].command&&(D={x:a[c].points[0],y:a[c].points[1]})}return{}},w=function(K){var J=F._getTextSize(K).width,I=0,H=0;for(C=void 0;Math.abs(J-I)/J>0.01&&25>H;){H++;for(var G=I;void 0===B;){B=x(),B&&G+B.pathLength<J&&(G+=B.pathLength,B=void 0)}if(B==={}||void 0===D){return void 0}var e=!1;switch(B.command){case"L":Kinetic.Path.getLineLength(D.x,D.y,B.points[0],B.points[1])>J?C=Kinetic.Path.getPointOnLine(J,D.x,D.y,B.points[0],B.points[1],D.x,D.y):B=void 0;break;case"A":var d=B.points[4],c=B.points[5],a=B.points[4]+c;0===y?y=d+1e-8:J>I?y+=Math.PI/180*c/Math.abs(c):y-=Math.PI/360*c/Math.abs(c),(0>c&&a>y||c>=0&&y>a)&&(y=a,e=!0),C=Kinetic.Path.getPointOnEllipticalArc(B.points[0],B.points[1],B.points[2],B.points[3],y,B.points[6]);break;case"C":0===y?y=J>B.pathLength?1e-8:J/B.pathLength:J>I?y+=(J-I)/B.pathLength:y-=(I-J)/B.pathLength,y>1&&(y=1,e=!0),C=Kinetic.Path.getPointOnCubicBezier(y,B.start.x,B.start.y,B.points[0],B.points[1],B.points[2],B.points[3],B.points[4],B.points[5]);break;case"Q":0===y?y=J/B.pathLength:J>I?y+=(J-I)/B.pathLength:y-=(I-J)/B.pathLength,y>1&&(y=1,e=!0),C=Kinetic.Path.getPointOnQuadraticBezier(y,B.start.x,B.start.y,B.points[0],B.points[1],B.points[2],B.points[3])}void 0!==C&&(I=Kinetic.Path.getLineLength(D.x,D.y,C.x,C.y)),e&&(e=!1,B=void 0)}},v=0;v<A.length&&(w(A[v]),void 0!==D&&void 0!==C);v++){var u=Kinetic.Path.getLineLength(D.x,D.y,C.x,C.y),s=0,r=Kinetic.Path.getPointOnLine(s+u/2,D.x,D.y,C.x,C.y),q=Math.atan2(C.y-D.y,C.x-D.x);this.glyphInfo.push({transposeX:r.x,transposeY:r.y,text:A[v],rotation:q,p0:D,p1:C}),D=C}}},Kinetic.TextPath.prototype._getContextFont=Kinetic.Text.prototype._getContextFont,Kinetic.Util.extend(Kinetic.TextPath,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontFamily",k),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontStyle",h),Kinetic.Factory.addGetter(Kinetic.TextPath,"text",l)}(),function(){Kinetic.RegularPolygon=function(b){this.___init(b)},Kinetic.RegularPolygon.prototype={___init:function(b){Kinetic.Shape.call(this,b),this.className="RegularPolygon"},drawFunc:function(h){var g,n,m,l=this.attrs.sides,k=this.attrs.radius;for(h.beginPath(),h.moveTo(0,0-k),g=1;l>g;g++){n=k*Math.sin(2*g*Math.PI/l),m=-1*k*Math.cos(2*g*Math.PI/l),h.lineTo(n,m)}h.closePath(),h.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.RegularPolygon,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"radius",0),Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"sides",0)}(),function(){Kinetic.Star=function(b){this.___init(b)},Kinetic.Star.prototype={___init:function(b){Kinetic.Shape.call(this,b),this.className="Star"},drawFunc:function(u){var s=u._context,r=this.attrs.innerRadius,q=this.attrs.outerRadius,o=this.attrs.numPoints;s.beginPath(),s.moveTo(0,0-this.attrs.outerRadius);for(var n=1;2*o>n;n++){var m=0===n%2?q:r,l=m*Math.sin(n*Math.PI/o),k=-1*m*Math.cos(n*Math.PI/o);s.lineTo(l,k)}s.closePath(),u.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Star,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Star,"numPoints",0),Kinetic.Factory.addGetterSetter(Kinetic.Star,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Star,"outerRadius",0)}(),function(){var u=["fontFamily","fontSize","fontStyle","padding","lineHeight","text"],s="Change.kinetic",r="none",q="up",o="right",n="down",m="left",l="Label",k=u.length;Kinetic.Label=function(b){this.____init(b)},Kinetic.Label.prototype={____init:function(d){var c=this;this.className=l,Kinetic.Group.call(this,d),this.on("add.kinetic",function(b){c._addListeners(b.child),c._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(h){var g,b=this,a=function(){b._sync()};for(g=0;k>g;g++){h.on(u[g]+s,a)}},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var f,d,y,x,w,v,g=this.getText(),e=this.getTag();if(g&&e){switch(f=g.getWidth(),d=g.getHeight(),y=e.getPointerDirection(),x=e.getPointerWidth(),pointerHeight=e.getPointerHeight(),w=0,v=0,y){case q:w=f/2,v=-1*pointerHeight;break;case o:w=f+x,v=d/2;break;case n:w=f/2,v=d+pointerHeight;break;case m:w=-1*x,v=d/2}e.setAttrs({x:-1*w,y:-1*v,width:f,height:d}),g.setAttrs({x:-1*w,y:-1*v})}}},Kinetic.Util.extend(Kinetic.Label,Kinetic.Group),Kinetic.Tag=function(b){this.___init(b)},Kinetic.Tag.prototype={___init:function(b){Kinetic.Shape.call(this,b),this.className="Tag"},drawFunc:function(e){var d=this.getWidth(),w=this.getHeight(),v=this.getPointerDirection(),g=this.getPointerWidth(),f=this.getPointerHeight();this.getCornerRadius(),e.beginPath(),e.moveTo(0,0),v===q&&(e.lineTo((d-g)/2,0),e.lineTo(d/2,-1*f),e.lineTo((d+g)/2,0)),e.lineTo(d,0),v===o&&(e.lineTo(d,(w-f)/2),e.lineTo(d+g,w/2),e.lineTo(d,(w+f)/2)),e.lineTo(d,w),v===n&&(e.lineTo((d+g)/2,w),e.lineTo(d/2,w+f),e.lineTo((d-g)/2,w)),e.lineTo(0,w),v===m&&(e.lineTo(0,(w+f)/2),e.lineTo(-1*g,w/2),e.lineTo(0,(w-f)/2)),e.closePath(),e.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Tag,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerDirection",r),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerWidth",0),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerHeight",0),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"cornerRadius",0)}(),function(){Kinetic.Filters.Grayscale=function(f){for(var e=f.data,h=0;h<e.length;h+=4){var g=0.34*e[h]+0.5*e[h+1]+0.16*e[h+2];e[h]=g,e[h+1]=g,e[h+2]=g}}}(),function(){Kinetic.Filters.Brighten=function(f){for(var e=this.getFilterBrightness(),h=f.data,g=0;g<h.length;g+=4){h[g]+=e,h[g+1]+=e,h[g+2]+=e}},Kinetic.Factory.addFilterGetterSetter(Kinetic.Image,"filterBrightness",0)}(),function(){Kinetic.Filters.Invert=function(e){for(var d=e.data,f=0;f<d.length;f+=4){d[f]=255-d[f],d[f+1]=255-d[f+1],d[f+2]=255-d[f+2]}}}(),function(){function f(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function e(aE,aD){var aC,aB,aA,az,ay,ax,aw,av,au,at,ar,aq,ap,ao,an,am,al,ak,aj,ai,ah,ag,af,ae,ad=aE.data,ac=aE.width,ab=aE.height,aa=aD+aD+1,Z=ac-1,Y=ab-1,X=aD+1,W=X*(X+1)/2,V=new f,U=null,T=V,S=null,d=null,c=h[aD],a=g[aD];for(aA=1;aa>aA;aA++){T=T.next=new f,aA==X&&(U=T)}for(T.next=V,aw=ax=0,aB=0;ab>aB;aB++){for(am=al=ak=aj=av=au=at=ar=0,aq=X*(ai=ad[ax]),ap=X*(ah=ad[ax+1]),ao=X*(ag=ad[ax+2]),an=X*(af=ad[ax+3]),av+=W*ai,au+=W*ah,at+=W*ag,ar+=W*af,T=V,aA=0;X>aA;aA++){T.r=ai,T.g=ah,T.b=ag,T.a=af,T=T.next}for(aA=1;X>aA;aA++){az=ax+((aA>Z?Z:aA)<<2),av+=(T.r=ai=ad[az])*(ae=X-aA),au+=(T.g=ah=ad[az+1])*ae,at+=(T.b=ag=ad[az+2])*ae,ar+=(T.a=af=ad[az+3])*ae,am+=ai,al+=ah,ak+=ag,aj+=af,T=T.next}for(S=V,d=U,aC=0;ac>aC;aC++){ad[ax+3]=af=ar*c>>a,0!==af?(af=255/af,ad[ax]=(av*c>>a)*af,ad[ax+1]=(au*c>>a)*af,ad[ax+2]=(at*c>>a)*af):ad[ax]=ad[ax+1]=ad[ax+2]=0,av-=aq,au-=ap,at-=ao,ar-=an,aq-=S.r,ap-=S.g,ao-=S.b,an-=S.a,az=aw+((az=aC+aD+1)<Z?az:Z)<<2,am+=S.r=ad[az],al+=S.g=ad[az+1],ak+=S.b=ad[az+2],aj+=S.a=ad[az+3],av+=am,au+=al,at+=ak,ar+=aj,S=S.next,aq+=ai=d.r,ap+=ah=d.g,ao+=ag=d.b,an+=af=d.a,am-=ai,al-=ah,ak-=ag,aj-=af,d=d.next,ax+=4}aw+=ac}for(aC=0;ac>aC;aC++){for(al=ak=aj=am=au=at=ar=av=0,ax=aC<<2,aq=X*(ai=ad[ax]),ap=X*(ah=ad[ax+1]),ao=X*(ag=ad[ax+2]),an=X*(af=ad[ax+3]),av+=W*ai,au+=W*ah,at+=W*ag,ar+=W*af,T=V,aA=0;X>aA;aA++){T.r=ai,T.g=ah,T.b=ag,T.a=af,T=T.next}for(ay=ac,aA=1;aD>=aA;aA++){ax=ay+aC<<2,av+=(T.r=ai=ad[ax])*(ae=X-aA),au+=(T.g=ah=ad[ax+1])*ae,at+=(T.b=ag=ad[ax+2])*ae,ar+=(T.a=af=ad[ax+3])*ae,am+=ai,al+=ah,ak+=ag,aj+=af,T=T.next,Y>aA&&(ay+=ac)}for(ax=aC,S=V,d=U,aB=0;ab>aB;aB++){az=ax<<2,ad[az+3]=af=ar*c>>a,af>0?(af=255/af,ad[az]=(av*c>>a)*af,ad[az+1]=(au*c>>a)*af,ad[az+2]=(at*c>>a)*af):ad[az]=ad[az+1]=ad[az+2]=0,av-=aq,au-=ap,at-=ao,ar-=an,aq-=S.r,ap-=S.g,ao-=S.b,an-=S.a,az=aC+((az=aB+X)<Y?az:Y)*ac<<2,av+=am+=S.r=ad[az],au+=al+=S.g=ad[az+1],at+=ak+=S.b=ad[az+2],ar+=aj+=S.a=ad[az+3],S=S.next,aq+=ai=d.r,ap+=ah=d.g,ao+=ag=d.b,an+=af=d.a,am-=ai,al-=ah,ak-=ag,aj-=af,d=d.next,ax+=ac}}}var h=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],g=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Kinetic.Filters.Blur=function(b){var d=0|this.getFilterRadius();d>0&&e(b,d)},Kinetic.Factory.addFilterGetterSetter(Kinetic.Image,"filterRadius",0)}(),function(){function l(g,f,v){var u=4*(v*g.width+f),h=[];return h.push(g.data[u++],g.data[u++],g.data[u++],g.data[u++]),h}function k(d,c){return Math.sqrt(Math.pow(d[0]-c[0],2)+Math.pow(d[1]-c[1],2)+Math.pow(d[2]-c[2],2))}function s(e){for(var d=[0,0,0],f=0;f<e.length;f++){d[0]+=e[f][0],d[1]+=e[f][1],d[2]+=e[f][2]}return d[0]/=e.length,d[1]/=e.length,d[2]/=e.length,d}function r(B,A){var z=l(B,0,0),y=l(B,B.width-1,0),x=l(B,0,B.height-1),w=l(B,B.width-1,B.height-1),v=A||10;if(k(z,y)<v&&k(y,w)<v&&k(w,x)<v&&k(x,z)<v){for(var u=s([y,z,w,x]),c=[],b=0;b<B.width*B.height;b++){var a=k(u,[B.data[4*b],B.data[4*b+1],B.data[4*b+2]]);c[b]=v>a?0:255}return c}}function q(e,d){for(var f=0;f<e.width*e.height;f++){e.data[4*f+3]=d[f]}}function o(K,J,I){for(var H=[1,1,1,1,0,1,1,1,1],G=Math.round(Math.sqrt(H.length)),F=Math.floor(G/2),E=[],D=0;I>D;D++){for(var C=0;J>C;C++){for(var B=D*J+C,A=0,z=0;G>z;z++){for(var y=0;G>y;y++){var x=D+z-F,w=C+y-F;if(x>=0&&I>x&&w>=0&&J>w){var v=x*J+w,u=H[z*G+y];A+=K[v]*u}}}E[B]=2040===A?255:0}}return E}function n(K,J,I){for(var H=[1,1,1,1,1,1,1,1,1],G=Math.round(Math.sqrt(H.length)),F=Math.floor(G/2),E=[],D=0;I>D;D++){for(var C=0;J>C;C++){for(var B=D*J+C,A=0,z=0;G>z;z++){for(var y=0;G>y;y++){var x=D+z-F,w=C+y-F;if(x>=0&&I>x&&w>=0&&J>w){var v=x*J+w,u=H[z*G+y];A+=K[v]*u}}}E[B]=A>=1020?255:0}}return E}function m(K,J,I){for(var H=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],G=Math.round(Math.sqrt(H.length)),F=Math.floor(G/2),E=[],D=0;I>D;D++){for(var C=0;J>C;C++){for(var B=D*J+C,A=0,z=0;G>z;z++){for(var y=0;G>y;y++){var x=D+z-F,w=C+y-F;if(x>=0&&I>x&&w>=0&&J>w){var v=x*J+w,u=H[z*G+y];A+=K[v]*u}}}E[B]=A}}return E}Kinetic.Filters.Mask=function(e){var d=this.getFilterThreshold(),f=r(e,d);return f&&(f=o(f,e.width,e.height),f=n(f,e.width,e.height),f=m(f,e.width,e.height),q(e,f)),e},Kinetic.Factory.addFilterGetterSetter(Kinetic.Image,"filterThreshold",0)}(),function(){var e=function(u,s,r){u/=255,s/=255,r/=255;var q=Math.max(u,s,r),o=Math.min(u,s,r),n=q-o,m=n/2,l=n/(1-Math.abs(2*m-1)),k=0;return q==u?k=(s-r)/n%6:q==s?k=(r-u)/n+2:q==r&&(k=(u-s)/n+4),[(60*k+360)%360,l,m]},d=function(D,C,B,A){D/=255,C/=255,B/=255;var z=Math.max(D,C,B),y=Math.min(D,C,B),x=z-y,w=x/2,v=(x/(1-Math.abs(2*w-1)),0);z==D?v=(C-B)/x%6:z==C?v=(B-D)/x+2:z==B&&(v=(D-C)/x+4),v*=60,v%=360,v+=A,v%=360,v/=60;var u=0,s=0,r=0,q=x*(1-Math.abs(v%2-1)),o=w-x/2;return v>=0&&1>v?(u=x,s=q):v>=1&&2>v?(s=x,u=q):v>=2&&3>v?(s=x,r=q):v>=3&&4>v?(r=x,s=q):v>=4&&5>v?(r=x,u=q):v>=5&&6>v&&(u=x,r=q),u+=o,s+=o,r+=o,u=255*u,s=255*s,r=255*r,[u,s,r]},f=function(b,l){for(var k,h=b.data,g=0;g<h.length;g+=4){k=d(h[g+0],h[g+1],h[g+2],l),h[g+0]=k[0],h[g+1]=k[1],h[g+2]=k[2]}};Kinetic.Filters.ShiftHue=function(b){f(b,this.getFilterHueShiftDeg()%360)},Kinetic.Factory.addFilterGetterSetter(Kinetic.Image,"filterHueShiftDeg",0),Kinetic.Filters.Colorize=function(a){for(var n=a.data,m=this.getFilterColorizeColor(),l=e(m[0],m[1],m[2]),k=l[0],c=0;c<n.length;c+=4){n[c+1]=0,n[c+2]=0}f(a,k)},Kinetic.Factory.addFilterGetterSetter(Kinetic.Image,"filterColorizeColor",[255,0,0])}(),function(){var g=function(T,S){var R=T.data,Q=T.width,P=T.height,O=Q*P,N=[];N.length=4*Q*P;var M,L,K,J,I,H,G,F,E,D,C,B=S.length,A=S[0].length,z=Math.floor(S.length/2),y=Math.floor(S[0].length/2);for(H=0;P>H;H+=1){for(I=0;Q>I;I+=1){for(M=0,L=0,K=0,J=0,D=0;B>D;D+=1){for(C=0;A>C;C+=1){G=(I+D-z)%Q,G=G>0?G:-G,F=(H+D-y)%P,F=F>0?F:-F,E=4*(F*Q+G),M+=S[C][D]*R[E+0],L+=S[C][D]*R[E+1],K+=S[C][D]*R[E+2]}}E=4*(H*Q+I),N[E+0]=M,N[E+1]=L,N[E+2]=K}}var x=4*O;for(E=0;x>E;E+=4){R[E+0]=N[E+0],R[E+1]=N[E+1],R[E+2]=N[E+2]}},f=function(m,e,o){var n=m-e;return Math.pow(Math.E,-n*n/(2*o*o))},l=function(b,s,r){0===b%2&&(b+=1);var q,o,n,m=[];for(q=0;b>q;q+=1){for(n=[],o=0;b>o;o+=1){n.push(s*f(q,b/2,r)*f(o,b/2,r))}m.push(n)}return m},k=function(m,c){var o=l(m,c,1),n=Math.floor(m/2);return o[n][n]+=1-c,o},h=function(m,c){var o=l(m,-c,1),n=Math.floor(m/2);return o[n][n]+=1+c,o};Kinetic.Factory.addFilterGetterSetter(Kinetic.Image,"filterAmount",50),Kinetic.Filters.UnsharpMask=function(a){g(a,h(5,this.getFilterAmount()/100))},Kinetic.Filters.SoftBlur=function(a){g(a,k(5,this.getFilterAmount()/100))},Kinetic.Filters.Edge=function(a){var d=this.getFilterAmount()/100;0!==d&&g(a,[[0,-1*d,0],[-1*d,1-d+4*d,-1*d],[0,-1*d,0]])},Kinetic.Filters.Emboss=function(a){var d=this.getFilterAmount()/100;0!==d&&g(a,[[-1*d,-0.5*d,0],[-0.5*d,1+0.5*d,0.5*d],[0,0.5*d,1*d]])}}();var lines=[];var ctx=null;var cellHeight=20;var zindex=1;var dragDropOk;var _startX=0;var _startY=0;var _offsetX=0;var _offsetY=0;var _dragElement;var _oldZIndex=0;var idEntidade;var _scale=1;function backingScale(a){if("devicePixelRatio" in window){if(window.devicePixelRatio>1){return window.devicePixelRatio}}return 1}function checkOverlaps(){for(i=0;i<arrElements.length-1;i++){for(j=i+1;j<arrElements.length;j++){checkOverlap(arrElements[i],arrElements[j])}}}function checkOverlap(e,d){if(e===d){return false}var k=Math.abs(e.style.left.replace("px",""));var b=Math.abs(e.style.top.replace("px",""));var l=e.offsetWidth;var q=e.offsetHeight;var n=k+l;var f=b+q;var h=Math.abs(d.style.left.replace("px",""));var a=Math.abs(d.style.top.replace("px",""));var g=d.offsetWidth;var o=d.offsetHeight;var m=h+g;var c=a+o;var r=false;if((h<n)&&(h>k)){if((a<=f)&&(a>=b)){r=true}}if((k<m)&&(k>h)){if((b<=c)&&(b>=a)){r=true}}if(r){if(k<h){d.style.left=n+"px"}else{e.style.left=m+"px"}}}function calculatePosition(b,c){var a=0;if(b.offsetParent){do{a+=b[c];b=b.offsetParent}while(b)}return a}function linha(b,e,d,a,c){ctx.beginPath();ctx.lineWidth=1;ctx.strokeStyle=c;ctx.moveTo(b,e);ctx.lineTo(d,a);ctx.stroke()}function preparaLinha(b,e,h){var l=10;var d=8;var o=(calculatePosition(b,"offsetLeft")-_minX)*_scale;var k=(calculatePosition(b,"offsetTop")-_minY)*_scale;var c=b.offsetWidth;k+=d;var m=(calculatePosition(e,"offsetLeft")-_minX)*_scale;var f=(calculatePosition(e,"offsetTop")-_minY)*_scale;var a=e.offsetWidth;f+=d;var n=lines[h].destinoOffset;f+=+n;var q=o;var s=o;var r=m;var g=l/2;if(m>o+c){q+=l+c;s+=c}else{g=-g;q-=l;r+=a}ctx.beginPath();ctx.lineWidth=1;ctx.strokeStyle=lines[h].color;ctx.moveTo(s,k);ctx.lineTo(q,k);ctx.lineTo(q,f);ctx.lineTo(m,f);ctx.stroke();if(lines[h].relationType=="one2many"){ctx.lineWidth=1;ctx.moveTo(s,k-g);ctx.lineTo(s+g*2,k);ctx.lineTo(s,k+g);ctx.stroke()}if(lines[h].relationType=="redirect"){ctx.moveTo(r-g*2,f-g);ctx.lineTo(r-g*2,f+g);ctx.lineTo(r,f);ctx.lineTo(r-g*2,f-g);ctx.stroke()}if(lines[h].relationType=="extends"){ctx.moveTo(r-g*2,f-g);ctx.lineTo(r-g*2,f+g);ctx.lineTo(r,f);ctx.lineTo(r-g*2,f-g);ctx.stroke();ctx.fillStyle=lines[h].color;ctx.font="14px Arial";ctx.fillText("<< extends >>",(s+r)/2,f)}}function draw_loop(){if(!dragDropOk){return}setTimeout(draw_loop,1/1000);if(ctx==null){var c=document.getElementById("background");if(c!=undefined){ctx=c.getContext("2d")}}if(ctx==null){return}ctx.fillStyle="#ffffff";ctx.fillRect(0,0,_maxX,_maxY);for(var b in lines){var d=lines[b].start;var a=lines[b].end;preparaLinha(d,a,b)}}function add_line(e,a,b,d,c){e=document.getElementById(e);a=document.getElementById(a);if((e==null)||(a==null)){return}lines.push({start:e,end:a,color:b?b:"#"+("000"+(Math.random()*(1<<24)|0).toString(16)).substr(-6),count:d,destinoOffset:-cellHeight/2+Math.random()*cellHeight*flagRandomizeLine,relationType:c})}function InitDragDrop(){dragDropOk=(document.getElementById("background")!=undefined);draw_loop();if(!dragDropOk){return}document.onmousedown=OnMouseDown;document.onmouseup=OnMouseUp;document.touchend=OnMouseUp;_scale=backingScale(ctx)}function OnMouseDown(c){if(!dragDropOk){return true}if(c==null){c=window.event}var b=c.target!=null?c.target:c.srcElement;idEntidade=b.id.replace("cell","");var a=b.id.replace("cell","entity");b=document.getElementById(a);if(!b){return true}if(b.getAttribute("dragel")==null){return true}if(b.id=="background"){return true}zindex++;if((c.button==1&&window.event!=null||c.button==0)){_startX=c.clientX;_startY=c.clientY;_offsetX=ExtractNumber(b.style.left);_offsetY=ExtractNumber(b.style.top);_oldZIndex=zindex;b.style.zIndex=10000;_dragElement=b;document.onmousemove=OnMouseMove;document.body.focus();document.onselectstart=function(){return false};b.ondragstart=function(){return false};return false}}function ExtractNumber(a){var b=parseInt(a);return b==null||isNaN(b)?0:b}function OnMouseMove(c){if(c==null){var c=window.event}var b=(_offsetX+c.clientX-_startX);var a=(_offsetY+c.clientY-_startY);if(b>_maxX){b=_maxX}if(a>_maxY){a=_maxY}if(b<_minX){b=_minX}if(a<_minY){a=_minY}_dragElement.style.left=b+"px";_dragElement.style.top=a+"px";return true}function OnMouseUp(c){if(!dragDropOk){return true}var b=c.srcElement;var a=document.getElementById(b.getAttribute("dragel"));if(a==null){var a=document.getElementById(b.parentNode.getAttribute("dragel"))}if(a==null){return true}a.style.zIndex=_oldZIndex;document.onmousemove=null;document.onselectstart=null;atualizaPosicao(a,a.style.left,a.style.top);a.ondragstart=null;a=null}function atualizaPosicao(a,d,c){d=d.replace("px","");c=c.replace("px","");var b="modulo=posicao_entidade&posX="+d+"&posY="+c+"&flagtexto=F&iddiagrama="+idDiagrama+"&idComponente="+a.getAttribute("idcomp")+"&idprojeto="+idProjeto;xmlhttpPost("/ajax/updateEntity.php",b,function(){if(self.xmlHttpReq.readyState==4){}else{}return true})}
/*! 
* jQuery UI Touch Punch 0.2.2 
* 
* Copyright 2011, Dave Furfero 
* Dual licensed under the MIT or GPL Version 2 licenses. 
* 
* Depends: 
*  jquery.ui.widget.js 
*  jquery.ui.mouse.js 
*/
(function(b){b.support.touch="ontouchend" in document;if(!b.support.touch){return}var c=b.ui.mouse.prototype,e=c._mouseInit,a;function d(g,h){if(g.originalEvent.touches.length>1){return}g.preventDefault();var k=g.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents");f.initMouseEvent(h,true,true,window,1,k.screenX,k.screenY,k.clientX,k.clientY,false,false,false,false,0,null);g.target.dispatchEvent(f)}c._touchStart=function(g){var f=this;if(a||!f._mouseCapture(g.originalEvent.changedTouches[0])){return}a=true;f._touchMoved=false;d(g,"mouseover");d(g,"mousemove");d(g,"mousedown")};c._touchMove=function(f){if(!a){return}this._touchMoved=true;d(f,"mousemove")};c._touchEnd=function(f){if(!a){return}d(f,"mouseup");d(f,"mouseout");if(!this._touchMoved){d(f,"click")}a=false};c._mouseInit=function(){var f=this;f.element.bind("touchstart",b.proxy(f,"_touchStart")).bind("touchmove",b.proxy(f,"_touchMove")).bind("touchend",b.proxy(f,"_touchEnd"));e.call(f)}})(jQuery);